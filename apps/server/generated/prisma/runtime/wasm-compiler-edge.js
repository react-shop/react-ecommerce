
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file
"use strict";var nu=Object.create;var pr=Object.defineProperty;var iu=Object.getOwnPropertyDescriptor;var ou=Object.getOwnPropertyNames;var su=Object.getPrototypeOf,au=Object.prototype.hasOwnProperty;var fe=(e,t)=>()=>(e&&(t=e(e=0)),t);var oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ye=(e,t)=>{for(var r in t)pr(e,r,{get:t[r],enumerable:!0})},Ui=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ou(t))!au.call(e,i)&&i!==r&&pr(e,i,{get:()=>t[i],enumerable:!(n=iu(t,i))||n.enumerable});return e};var Ue=(e,t,r)=>(r=e!=null?nu(su(e)):{},Ui(t||!e||!e.__esModule?pr(r,"default",{value:e,enumerable:!0}):r,e)),$i=e=>Ui(pr({},"__esModule",{value:!0}),e);function xn(e,t){if(t=t.toLowerCase(),t==="utf8"||t==="utf-8")return new h(pu.encode(e));if(t==="base64"||t==="base64url")return e=e.replace(/-/g,"+").replace(/_/g,"/"),e=e.replace(/[^A-Za-z0-9+/]/g,""),new h([...atob(e)].map(r=>r.charCodeAt(0)));if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return new h([...e].map(r=>r.charCodeAt(0)));if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let r=new h(e.length*2),n=new DataView(r.buffer);for(let i=0;i<e.length;i++)n.setUint16(i*2,e.charCodeAt(i),!0);return r}if(t==="hex"){let r=new h(e.length/2);for(let n=0,i=0;i<e.length;i+=2,n++)r[n]=parseInt(e.slice(i,i+2),16);return r}Vi(`encoding "${t}"`)}function lu(e){let r=Object.getOwnPropertyNames(DataView.prototype).filter(a=>a.startsWith("get")||a.startsWith("set")),n=r.map(a=>a.replace("get","read").replace("set","write")),i=(a,d)=>function(f=0){return H(f,"offset"),ie(f,"offset"),W(f,"offset",this.length-1),new DataView(this.buffer)[r[a]](f,d)},o=(a,d)=>function(f,P=0){let v=r[a].match(/set(\w+\d+)/)[1].toLowerCase(),S=cu[v];return H(P,"offset"),ie(P,"offset"),W(P,"offset",this.length-1),uu(f,"value",S[0],S[1]),new DataView(this.buffer)[r[a]](P,f,d),P+parseInt(r[a].match(/\d+/)[0])/8},s=a=>{a.forEach(d=>{d.includes("Uint")&&(e[d.replace("Uint","UInt")]=e[d]),d.includes("Float64")&&(e[d.replace("Float64","Double")]=e[d]),d.includes("Float32")&&(e[d.replace("Float32","Float")]=e[d])})};n.forEach((a,d)=>{a.startsWith("read")&&(e[a]=i(d,!1),e[a+"LE"]=i(d,!0),e[a+"BE"]=i(d,!1)),a.startsWith("write")&&(e[a]=o(d,!1),e[a+"LE"]=o(d,!0),e[a+"BE"]=o(d,!1)),s([a,a+"LE",a+"BE"])})}function Vi(e){throw new Error(`Buffer polyfill does not implement "${e}"`)}function mr(e,t){if(!(e instanceof Uint8Array))throw new TypeError(`The "${t}" argument must be an instance of Buffer or Uint8Array`)}function W(e,t,r=fu+1){if(e<0||e>r){let n=new RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= ${r}. Received ${e}`);throw n.code="ERR_OUT_OF_RANGE",n}}function H(e,t){if(typeof e!="number"){let r=new TypeError(`The "${t}" argument must be of type number. Received type ${typeof e}.`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function ie(e,t){if(!Number.isInteger(e)||Number.isNaN(e)){let r=new RangeError(`The value of "${t}" is out of range. It must be an integer. Received ${e}`);throw r.code="ERR_OUT_OF_RANGE",r}}function uu(e,t,r,n){if(e<r||e>n){let i=new RangeError(`The value of "${t}" is out of range. It must be >= ${r} and <= ${n}. Received ${e}`);throw i.code="ERR_OUT_OF_RANGE",i}}function qi(e,t){if(typeof e!="string"){let r=new TypeError(`The "${t}" argument must be of type string. Received type ${typeof e}`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function gu(e,t="utf8"){return h.from(e,t)}var h,cu,pu,mu,du,fu,y,En,l=fe(()=>{"use strict";h=class e extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(t,r=0,n="utf8"){return qi(n,"encoding"),e.allocUnsafe(t).fill(r,n)}static allocUnsafe(t){return e.from(t)}static allocUnsafeSlow(t){return e.from(t)}static isBuffer(t){return t&&!!t._isBuffer}static byteLength(t,r="utf8"){if(typeof t=="string")return xn(t,r).byteLength;if(t&&t.byteLength)return t.byteLength;let n=new TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw n.code="ERR_INVALID_ARG_TYPE",n}static isEncoding(t){return du.includes(t)}static compare(t,r){mr(t,"buff1"),mr(r,"buff2");for(let n=0;n<t.length;n++){if(t[n]<r[n])return-1;if(t[n]>r[n])return 1}return t.length===r.length?0:t.length>r.length?1:-1}static from(t,r="utf8"){if(t&&typeof t=="object"&&t.type==="Buffer")return new e(t.data);if(typeof t=="number")return new e(new Uint8Array(t));if(typeof t=="string")return xn(t,r);if(ArrayBuffer.isView(t)){let{byteOffset:n,byteLength:i,buffer:o}=t;return"map"in t&&typeof t.map=="function"?new e(t.map(s=>s%256),n,i):new e(o,n,i)}if(t&&typeof t=="object"&&("length"in t||"byteLength"in t||"buffer"in t))return new e(t);throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(t,r){if(t.length===0)return e.alloc(0);let n=[].concat(...t.map(o=>[...o])),i=e.alloc(r!==void 0?r:n.length);return i.set(r!==void 0?n.slice(0,r):n),i}slice(t=0,r=this.length){return this.subarray(t,r)}subarray(t=0,r=this.length){return Object.setPrototypeOf(super.subarray(t,r),e.prototype)}reverse(){return super.reverse(),this}readIntBE(t,r){H(t,"offset"),ie(t,"offset"),W(t,"offset",this.length-1),H(r,"byteLength"),ie(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return n.getUint8(0)&128&&(i-=Math.pow(256,r)),i}readIntLE(t,r){H(t,"offset"),ie(t,"offset"),W(t,"offset",this.length-1),H(r,"byteLength"),ie(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return n.getUint8(r-1)&128&&(i-=Math.pow(256,r)),i}readUIntBE(t,r){H(t,"offset"),ie(t,"offset"),W(t,"offset",this.length-1),H(r,"byteLength"),ie(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i=i*256+n.getUint8(o);return i}readUintBE(t,r){return this.readUIntBE(t,r)}readUIntLE(t,r){H(t,"offset"),ie(t,"offset"),W(t,"offset",this.length-1),H(r,"byteLength"),ie(r,"byteLength");let n=new DataView(this.buffer,t,r),i=0;for(let o=0;o<r;o++)i+=n.getUint8(o)*Math.pow(256,o);return i}readUintLE(t,r){return this.readUIntLE(t,r)}writeIntBE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntBE(t,r,n)}writeIntLE(t,r,n){return t=t<0?t+Math.pow(256,n):t,this.writeUIntLE(t,r,n)}writeUIntBE(t,r,n){H(r,"offset"),ie(r,"offset"),W(r,"offset",this.length-1),H(n,"byteLength"),ie(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let o=n-1;o>=0;o--)i.setUint8(o,t&255),t=t/256;return r+n}writeUintBE(t,r,n){return this.writeUIntBE(t,r,n)}writeUIntLE(t,r,n){H(r,"offset"),ie(r,"offset"),W(r,"offset",this.length-1),H(n,"byteLength"),ie(n,"byteLength");let i=new DataView(this.buffer,r,n);for(let o=0;o<n;o++)i.setUint8(o,t&255),t=t/256;return r+n}writeUintLE(t,r,n){return this.writeUIntLE(t,r,n)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=2)t.setUint16(r,t.getUint16(r,!0),!1);return this}swap32(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=4)t.setUint32(r,t.getUint32(r,!0),!1);return this}swap64(){let t=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let r=0;r<this.length;r+=8)t.setBigUint64(r,t.getBigUint64(r,!0),!1);return this}compare(t,r=0,n=t.length,i=0,o=this.length){return mr(t,"target"),H(r,"targetStart"),H(n,"targetEnd"),H(i,"sourceStart"),H(o,"sourceEnd"),W(r,"targetStart"),W(n,"targetEnd",t.length),W(i,"sourceStart"),W(o,"sourceEnd",this.length),e.compare(this.slice(i,o),t.slice(r,n))}equals(t){return mr(t,"otherBuffer"),this.length===t.length&&this.every((r,n)=>r===t[n])}copy(t,r=0,n=0,i=this.length){W(r,"targetStart"),W(n,"sourceStart",this.length),W(i,"sourceEnd"),r>>>=0,n>>>=0,i>>>=0;let o=0;for(;n<i&&!(this[n]===void 0||t[r]===void 0);)t[r]=this[n],o++,n++,r++;return o}write(t,r,n,i="utf8"){let o=typeof r=="string"?0:r??0,s=typeof n=="string"?this.length-o:n??this.length-o;return i=typeof r=="string"?r:typeof n=="string"?n:i,H(o,"offset"),H(s,"length"),W(o,"offset",this.length),W(s,"length",this.length),(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")&&(s=s-s%2),xn(t,i).copy(this,o,0,s)}fill(t=0,r=0,n=this.length,i="utf-8"){let o=typeof r=="string"?0:r,s=typeof n=="string"?this.length:n;if(i=typeof r=="string"?r:typeof n=="string"?n:i,t=e.from(typeof t=="number"?[t]:t??[],i),qi(i,"encoding"),W(o,"offset",this.length),W(s,"end",this.length),t.length!==0)for(let a=o;a<s;a+=t.length)super.set(t.slice(0,t.length+a>=this.length?this.length-a:t.length),a);return this}includes(t,r=null,n="utf-8"){return this.indexOf(t,r,n)!==-1}lastIndexOf(t,r=null,n="utf-8"){return this.indexOf(t,r,n,!0)}indexOf(t,r=null,n="utf-8",i=!1){let o=i?this.findLastIndex.bind(this):this.findIndex.bind(this);n=typeof r=="string"?r:n;let s=e.from(typeof t=="number"?[t]:t,n),a=typeof r=="string"?0:r;return a=typeof r=="number"?a:null,a=Number.isNaN(a)?null:a,a??=i?this.length:0,a=a<0?this.length+a:a,s.length===0&&i===!1?a>=this.length?this.length:a:s.length===0&&i===!0?(a>=this.length?this.length:a)||this.length:o((d,f)=>(i?f<=a:f>=a)&&this[f]===s[0]&&s.every((v,S)=>this[f+S]===v))}toString(t="utf8",r=0,n=this.length){if(r=r<0?0:r,t=t.toString().toLowerCase(),n<=0)return"";if(t==="utf8"||t==="utf-8")return mu.decode(this.slice(r,n));if(t==="base64"||t==="base64url"){let i=btoa(this.reduce((o,s)=>o+En(s),""));return t==="base64url"?i.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):i}if(t==="binary"||t==="ascii"||t==="latin1"||t==="latin-1")return this.slice(r,n).reduce((i,o)=>i+En(o&(t==="ascii"?127:255)),"");if(t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le"){let i=new DataView(this.buffer.slice(r,n));return Array.from({length:i.byteLength/2},(o,s)=>s*2+1<i.byteLength?En(i.getUint16(s*2,!0)):"").join("")}if(t==="hex")return this.slice(r,n).reduce((i,o)=>i+o.toString(16).padStart(2,"0"),"");Vi(`encoding "${t}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}};cu={int8:[-128,127],int16:[-32768,32767],int32:[-2147483648,2147483647],uint8:[0,255],uint16:[0,65535],uint32:[0,4294967295],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},pu=new TextEncoder,mu=new TextDecoder,du=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],fu=4294967295;lu(h.prototype);y=new Proxy(gu,{construct(e,[t,r]){return h.from(t,r)},get(e,t){return h[t]}}),En=String.fromCodePoint});var g,x,u=fe(()=>{"use strict";g={nextTick:(e,...t)=>{setTimeout(()=>{e(...t)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},{cwd:x}=g});var w,c=fe(()=>{"use strict";w=globalThis.performance??(()=>{let e=Date.now();return{now:()=>Date.now()-e}})()});var b,p=fe(()=>{"use strict";b=()=>{};b.prototype=b});function Hi(e,t){var r,n,i,o,s,a,d,f,P=e.constructor,v=P.precision;if(!e.s||!t.s)return t.s||(t=new P(e)),B?_(t,v):t;if(d=e.d,f=t.d,s=e.e,i=t.e,d=d.slice(),o=s-i,o){for(o<0?(n=d,o=-o,a=f.length):(n=f,i=s,a=d.length),s=Math.ceil(v/$),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=d.length,o=f.length,a-o<0&&(o=a,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/G|0,d[o]%=G;for(r&&(d.unshift(r),++i),a=d.length;d[--a]==0;)d.pop();return t.d=d,t.e=i,B?_(t,v):t}function ye(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qe+e)}function ge(e){var t,r,n,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)n=e[t]+"",r=$-n.length,r&&(o+=Re(r)),o+=n;s=e[t],n=s+"",r=$-n.length,r&&(o+=Re(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function Ji(e,t){var r,n,i,o,s,a,d=0,f=0,P=e.constructor,v=P.precision;if(J(e)>16)throw Error(Pn+J(e));if(!e.s)return new P(se);for(t==null?(B=!1,a=v):a=t,s=new P(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log($e(2,f))/Math.LN10*2+5|0,a+=n,r=i=o=new P(se),P.precision=a;;){if(i=_(i.times(e),a),r=r.times(++d),s=o.plus(ve(i,r,a)),ge(s.d).slice(0,a)===ge(o.d).slice(0,a)){for(;f--;)o=_(o.times(o),a);return P.precision=v,t==null?(B=!0,_(o,v)):o}o=s}}function J(e){for(var t=e.e*$,r=e.d[0];r>=10;r/=10)t++;return t}function Tn(e,t,r){if(t>e.LN10.sd())throw B=!0,r&&(e.precision=r),Error(le+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function Re(e){for(var t="";e--;)t+="0";return t}function Ct(e,t){var r,n,i,o,s,a,d,f,P,v=1,S=10,C=e,M=C.d,R=C.constructor,k=R.precision;if(C.s<1)throw Error(le+(C.s?"NaN":"-Infinity"));if(C.eq(se))return new R(0);if(t==null?(B=!1,f=k):f=t,C.eq(10))return t==null&&(B=!0),Tn(R,f);if(f+=S,R.precision=f,r=ge(M),n=r.charAt(0),o=J(C),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)C=C.times(e),r=ge(C.d),n=r.charAt(0),v++;o=J(C),n>1?(C=new R("0."+r),o++):C=new R(n+"."+r.slice(1))}else return d=Tn(R,f+2,k).times(o+""),C=Ct(new R(n+"."+r.slice(1)),f-S).plus(d),R.precision=k,t==null?(B=!0,_(C,k)):C;for(a=s=C=ve(C.minus(se),C.plus(se),f),P=_(C.times(C),f),i=3;;){if(s=_(s.times(P),f),d=a.plus(ve(s,new R(i),f)),ge(d.d).slice(0,f)===ge(a.d).slice(0,f))return a=a.times(2),o!==0&&(a=a.plus(Tn(R,f+2,k).times(o+""))),a=ve(a,new R(v),f),R.precision=k,t==null?(B=!0,_(a,k)):a;a=d,i+=2}}function Bi(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=et(r/$),e.d=[],n=(r+1)%$,r<0&&(n+=$),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=$;n<i;)e.d.push(+t.slice(n,n+=$));t=t.slice(n),n=$-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),B&&(e.e>dr||e.e<-dr))throw Error(Pn+r)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,r){var n,i,o,s,a,d,f,P,v=e.d;for(s=1,o=v[0];o>=10;o/=10)s++;if(n=t-s,n<0)n+=$,i=t,f=v[P=0];else{if(P=Math.ceil((n+1)/$),o=v.length,P>=o)return e;for(f=o=v[P],s=1;o>=10;o/=10)s++;n%=$,i=n-$+s}if(r!==void 0&&(o=$e(10,s-i-1),a=f/o%10|0,d=t<0||v[P+1]!==void 0||f%o,d=r<4?(a||d)&&(r==0||r==(e.s<0?3:2)):a>5||a==5&&(r==4||d||r==6&&(n>0?i>0?f/$e(10,s-i):0:v[P-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return d?(o=J(e),v.length=1,t=t-o-1,v[0]=$e(10,($-t%$)%$),e.e=et(-t/$)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(n==0?(v.length=P,o=1,P--):(v.length=P+1,o=$e(10,$-n),v[P]=i>0?(f/$e(10,s-i)%$e(10,i)|0)*o:0),d)for(;;)if(P==0){(v[0]+=o)==G&&(v[0]=1,++e.e);break}else{if(v[P]+=o,v[P]!=G)break;v[P--]=0,o=1}for(n=v.length;v[--n]===0;)v.pop();if(B&&(e.e>dr||e.e<-dr))throw Error(Pn+J(e));return e}function Wi(e,t){var r,n,i,o,s,a,d,f,P,v,S=e.constructor,C=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),B?_(t,C):t;if(d=e.d,v=t.d,n=t.e,f=e.e,d=d.slice(),s=f-n,s){for(P=s<0,P?(r=d,s=-s,a=v.length):(r=v,n=f,a=d.length),i=Math.max(Math.ceil(C/$),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=d.length,a=v.length,P=i<a,P&&(a=i),i=0;i<a;i++)if(d[i]!=v[i]){P=d[i]<v[i];break}s=0}for(P&&(r=d,d=v,v=r,t.s=-t.s),a=d.length,i=v.length-a;i>0;--i)d[a++]=0;for(i=v.length;i>s;){if(d[--i]<v[i]){for(o=i;o&&d[--o]===0;)d[o]=G-1;--d[o],d[i]+=G}d[i]-=v[i]}for(;d[--a]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,B?_(t,C):t):new S(0)}function Ve(e,t,r){var n,i=J(e),o=ge(e.d),s=o.length;return t?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Re(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Re(-i-1)+o,r&&(n=r-s)>0&&(o+=Re(n))):i>=s?(o+=Re(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Re(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Re(n))),e.s<0?"-"+o:o}function ji(e,t){if(e.length>t)return e.length=t,!0}function Gi(e){var t,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(qe+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Bi(s,o.toString())}else if(typeof o!="string")throw Error(qe+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,hu.test(o))Bi(s,o);else throw Error(qe+o)}if(i.prototype=A,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Gi,i.config=i.set=wu,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function wu(e){if(!e||typeof e!="object")throw Error(le+"Object expected");var t,r,n,i=["precision",1,Xe,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(et(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(qe+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qe+r+": "+n);return this}var Xe,yu,Ki,B,le,qe,Pn,et,$e,hu,se,G,$,Qi,dr,A,ve,Ki,zi=fe(()=>{"use strict";l();u();c();p();m();Xe=1e9,yu={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B=!0,le="[DecimalError] ",qe=le+"Invalid argument: ",Pn=le+"Exponent out of range: ",et=Math.floor,$e=Math.pow,hu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,G=1e7,$=7,Qi=9007199254740991,dr=et(Qi/$),A={};A.absoluteValue=A.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};A.comparedTo=A.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};A.decimalPlaces=A.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};A.dividedBy=A.div=function(e){return ve(this,new this.constructor(e))};A.dividedToIntegerBy=A.idiv=function(e){var t=this,r=t.constructor;return _(ve(t,new r(e),0,1),r.precision)};A.equals=A.eq=function(e){return!this.cmp(e)};A.exponent=function(){return J(this)};A.greaterThan=A.gt=function(e){return this.cmp(e)>0};A.greaterThanOrEqualTo=A.gte=function(e){return this.cmp(e)>=0};A.isInteger=A.isint=function(){return this.e>this.d.length-2};A.isNegative=A.isneg=function(){return this.s<0};A.isPositive=A.ispos=function(){return this.s>0};A.isZero=function(){return this.s===0};A.lessThan=A.lt=function(e){return this.cmp(e)<0};A.lessThanOrEqualTo=A.lte=function(e){return this.cmp(e)<1};A.logarithm=A.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(se))throw Error(le+"NaN");if(r.s<1)throw Error(le+(r.s?"NaN":"-Infinity"));return r.eq(se)?new n(0):(B=!1,t=ve(Ct(r,o),Ct(e,o),o),B=!0,_(t,i))};A.minus=A.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Wi(t,e):Hi(t,(e.s=-e.s,e))};A.modulo=A.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(le+"NaN");return r.s?(B=!1,t=ve(r,e,0,1).times(e),B=!0,r.minus(t)):_(new n(r),i)};A.naturalExponential=A.exp=function(){return Ji(this)};A.naturalLogarithm=A.ln=function(){return Ct(this)};A.negated=A.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};A.plus=A.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Hi(t,e):Wi(t,(e.s=-e.s,e))};A.precision=A.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qe+e);if(t=J(i)+1,n=i.d.length-1,r=n*$+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};A.squareRoot=A.sqrt=function(){var e,t,r,n,i,o,s,a=this,d=a.constructor;if(a.s<1){if(!a.s)return new d(0);throw Error(le+"NaN")}for(e=J(a),B=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=ge(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=et((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=s=r+3;;)if(o=n,n=o.plus(ve(a,o,s+2)).times(.5),ge(o.d).slice(0,s)===(t=ge(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(_(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(t!="9999")break;s+=4}return B=!0,_(n,r)};A.times=A.mul=function(e){var t,r,n,i,o,s,a,d,f,P=this,v=P.constructor,S=P.d,C=(e=new v(e)).d;if(!P.s||!e.s)return new v(0);for(e.s*=P.s,r=P.e+e.e,d=S.length,f=C.length,d<f&&(o=S,S=C,C=o,s=d,d=f,f=s),o=[],s=d+f,n=s;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)a=o[i]+C[n]*S[i-n-1]+t,o[i--]=a%G|0,t=a/G|0;o[i]=(o[i]+t)%G|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,B?_(e,v.precision):e};A.toDecimalPlaces=A.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ye(e,0,Xe),t===void 0?t=n.rounding:ye(t,0,8),_(r,e+J(r)+1,t))};A.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ve(n,!0):(ye(e,0,Xe),t===void 0?t=i.rounding:ye(t,0,8),n=_(new i(n),e+1,t),r=Ve(n,!0,e+1)),r};A.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?Ve(i):(ye(e,0,Xe),t===void 0?t=o.rounding:ye(t,0,8),n=_(new o(i),e+J(i)+1,t),r=Ve(n.abs(),!1,e+J(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};A.toInteger=A.toint=function(){var e=this,t=e.constructor;return _(new t(e),J(e)+1,t.rounding)};A.toNumber=function(){return+this};A.toPower=A.pow=function(e){var t,r,n,i,o,s,a=this,d=a.constructor,f=12,P=+(e=new d(e));if(!e.s)return new d(se);if(a=new d(a),!a.s){if(e.s<1)throw Error(le+"Infinity");return a}if(a.eq(se))return a;if(n=d.precision,e.eq(se))return _(a,n);if(t=e.e,r=e.d.length-1,s=t>=r,o=a.s,s){if((r=P<0?-P:P)<=Qi){for(i=new d(se),t=Math.ceil(n/$+4),B=!1;r%2&&(i=i.times(a),ji(i.d,t)),r=et(r/2),r!==0;)a=a.times(a),ji(a.d,t);return B=!0,e.s<0?new d(se).div(i):_(i,n)}}else if(o<0)throw Error(le+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,a.s=1,B=!1,i=e.times(Ct(a,n+f)),B=!0,i=Ji(i),i.s=o,i};A.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=J(i),n=Ve(i,r<=o.toExpNeg||r>=o.toExpPos)):(ye(e,1,Xe),t===void 0?t=o.rounding:ye(t,0,8),i=_(new o(i),e,t),r=J(i),n=Ve(i,e<=r||r<=o.toExpNeg,e)),n};A.toSignificantDigits=A.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ye(e,1,Xe),t===void 0?t=n.rounding:ye(t,0,8)),_(new n(r),e,t)};A.toString=A.valueOf=A.val=A.toJSON=A[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=J(e),r=e.constructor;return Ve(e,t<=r.toExpNeg||t>=r.toExpPos)};ve=function(){function e(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%G|0,s=o/G|0;return s&&n.unshift(s),n}function t(n,i,o,s){var a,d;if(o!=s)d=o>s?1:-1;else for(a=d=0;a<o;a++)if(n[a]!=i[a]){d=n[a]>i[a]?1:-1;break}return d}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*G+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,d,f,P,v,S,C,M,R,k,Pe,re,F,ne,Fe,bn,ce,ur,cr=n.constructor,ru=n.s==i.s?1:-1,de=n.d,Q=i.d;if(!n.s)return new cr(n);if(!i.s)throw Error(le+"Division by zero");for(d=n.e-i.e,ce=Q.length,Fe=de.length,C=new cr(ru),M=C.d=[],f=0;Q[f]==(de[f]||0);)++f;if(Q[f]>(de[f]||0)&&--d,o==null?re=o=cr.precision:s?re=o+(J(n)-J(i))+1:re=o,re<0)return new cr(0);if(re=re/$+2|0,f=0,ce==1)for(P=0,Q=Q[0],re++;(f<Fe||P)&&re--;f++)F=P*G+(de[f]||0),M[f]=F/Q|0,P=F%Q|0;else{for(P=G/(Q[0]+1)|0,P>1&&(Q=e(Q,P),de=e(de,P),ce=Q.length,Fe=de.length),ne=ce,R=de.slice(0,ce),k=R.length;k<ce;)R[k++]=0;ur=Q.slice(),ur.unshift(0),bn=Q[0],Q[1]>=G/2&&++bn;do P=0,a=t(Q,R,ce,k),a<0?(Pe=R[0],ce!=k&&(Pe=Pe*G+(R[1]||0)),P=Pe/bn|0,P>1?(P>=G&&(P=G-1),v=e(Q,P),S=v.length,k=R.length,a=t(v,R,S,k),a==1&&(P--,r(v,ce<S?ur:Q,S))):(P==0&&(a=P=1),v=Q.slice()),S=v.length,S<k&&v.unshift(0),r(R,v,k),a==-1&&(k=R.length,a=t(Q,R,ce,k),a<1&&(P++,r(R,ce<k?ur:Q,k))),k=R.length):a===0&&(P++,R=[0]),M[f++]=P,a&&R[0]?R[k++]=de[ne]||0:(R=[de[ne]],k=1);while((ne++<Fe||R[0]!==void 0)&&re--)}return M[0]||M.shift(),C.e=d,_(C,s?o+J(C)+1:o)}}();Ki=Gi(yu);se=new Ki(1)});var m=fe(()=>{"use strict";zi()});var In={};Ye(In,{Hash:()=>Ot,createHash:()=>yo,default:()=>rt,randomFillSync:()=>wr,randomUUID:()=>hr,webcrypto:()=>kt});function hr(){return globalThis.crypto.randomUUID()}function wr(e,t,r){return t!==void 0&&(r!==void 0?e=e.subarray(t,t+r):e=e.subarray(t)),globalThis.crypto.getRandomValues(e)}function yo(e){return new Ot(e)}var kt,Ot,rt,Be=fe(()=>{"use strict";l();u();c();p();m();kt=globalThis.crypto;Ot=class{#t=[];#e;constructor(t){this.#e=t}update(t){this.#t.push(t)}async digest(){let t=new Uint8Array(this.#t.reduce((i,o)=>i+o.length,0)),r=0;for(let i of this.#t)t.set(i,r),r+=i.length;let n=await globalThis.crypto.subtle.digest(this.#e,t);return new Uint8Array(n)}},rt={webcrypto:kt,randomUUID:hr,randomFillSync:wr,createHash:yo,Hash:Ot}});var ho=oe(()=>{"use strict";l();u();c();p();m()});var wo=oe((jg,vu)=>{vu.exports={name:"@prisma/engines-version",version:"7.2.0-4.0c8ef2ce45c83248ab3df073180d5eda9e8be7a3",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"0c8ef2ce45c83248ab3df073180d5eda9e8be7a3"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}});var bo=oe(br=>{"use strict";l();u();c();p();m();Object.defineProperty(br,"__esModule",{value:!0});br.enginesVersion=void 0;br.enginesVersion=wo().prisma.enginesVersion});var Po=oe((ry,To)=>{"use strict";l();u();c();p();m();To.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Ao=oe((Dy,Er)=>{"use strict";l();u();c();p();m();Er.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(let i of n){let o=e[i];if(o!==void 0){if(i==="labels"||i==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${i}\` option should be an array`);o=o.join(",")}r.searchParams.set(i,o)}}return r.toString()};Er.exports.default=Er.exports});var _n=oe((Ew,Ro)=>{"use strict";l();u();c();p();m();Ro.exports=function(){function e(t,r,n,i,o){return t<r||n<r?t>n?n+1:t+1:i===o?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,o=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(o-1);)i--,o--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,o-=s,i===0||o<3)return o;var a=0,d,f,P,v,S,C,M,R,k,Pe,re,F,ne=[];for(d=0;d<i;d++)ne.push(d+1),ne.push(t.charCodeAt(s+d));for(var Fe=ne.length-1;a<o-3;)for(k=r.charCodeAt(s+(f=a)),Pe=r.charCodeAt(s+(P=a+1)),re=r.charCodeAt(s+(v=a+2)),F=r.charCodeAt(s+(S=a+3)),C=a+=4,d=0;d<Fe;d+=2)M=ne[d],R=ne[d+1],f=e(M,f,P,k,R),P=e(f,P,v,Pe,R),v=e(P,v,S,re,R),C=e(v,S,C,F,R),ne[d]=C,S=v,v=P,P=f,f=M;for(;a<o;)for(k=r.charCodeAt(s+(f=a)),C=++a,d=0;d<Fe;d+=2)M=ne[d],ne[d]=C=e(M,f,C,k,ne[d+1]),f=M;return C}}()});var Do=fe(()=>{"use strict";l();u();c();p();m()});var No=fe(()=>{"use strict";l();u();c();p();m()});var $r,os=fe(()=>{"use strict";l();u();c();p();m();$r=class{events={};on(t,r){return this.events[t]||(this.events[t]=[]),this.events[t].push(r),this}emit(t,...r){return this.events[t]?(this.events[t].forEach(n=>{n(...r)}),!0):!1}}});var ri=oe(Je=>{"use strict";l();u();c();p();m();Object.defineProperty(Je,"__esModule",{value:!0});Je.anumber=ti;Je.abytes=Gs;Je.ahash=ip;Je.aexists=op;Je.aoutput=sp;function ti(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function np(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Gs(e,...t){if(!np(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ip(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ti(e.outputLen),ti(e.blockLen)}function op(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function sp(e,t){Gs(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var ya=oe(O=>{"use strict";l();u();c();p();m();Object.defineProperty(O,"__esModule",{value:!0});O.add5L=O.add5H=O.add4H=O.add4L=O.add3H=O.add3L=O.rotlBL=O.rotlBH=O.rotlSL=O.rotlSH=O.rotr32L=O.rotr32H=O.rotrBL=O.rotrBH=O.rotrSL=O.rotrSH=O.shrSL=O.shrSH=O.toBig=void 0;O.fromBig=ii;O.split=Ks;O.add=ua;var Gr=BigInt(2**32-1),ni=BigInt(32);function ii(e,t=!1){return t?{h:Number(e&Gr),l:Number(e>>ni&Gr)}:{h:Number(e>>ni&Gr)|0,l:Number(e&Gr)|0}}function Ks(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=ii(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var zs=(e,t)=>BigInt(e>>>0)<<ni|BigInt(t>>>0);O.toBig=zs;var Zs=(e,t,r)=>e>>>r;O.shrSH=Zs;var Ys=(e,t,r)=>e<<32-r|t>>>r;O.shrSL=Ys;var Xs=(e,t,r)=>e>>>r|t<<32-r;O.rotrSH=Xs;var ea=(e,t,r)=>e<<32-r|t>>>r;O.rotrSL=ea;var ta=(e,t,r)=>e<<64-r|t>>>r-32;O.rotrBH=ta;var ra=(e,t,r)=>e>>>r-32|t<<64-r;O.rotrBL=ra;var na=(e,t)=>t;O.rotr32H=na;var ia=(e,t)=>e;O.rotr32L=ia;var oa=(e,t,r)=>e<<r|t>>>32-r;O.rotlSH=oa;var sa=(e,t,r)=>t<<r|e>>>32-r;O.rotlSL=sa;var aa=(e,t,r)=>t<<r-32|e>>>64-r;O.rotlBH=aa;var la=(e,t,r)=>e<<r-32|t>>>64-r;O.rotlBL=la;function ua(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var ca=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);O.add3L=ca;var pa=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;O.add3H=pa;var ma=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);O.add4L=ma;var da=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;O.add4H=da;var fa=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);O.add5L=fa;var ga=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;O.add5H=ga;var ap={fromBig:ii,split:Ks,toBig:zs,shrSH:Zs,shrSL:Ys,rotrSH:Xs,rotrSL:ea,rotrBH:ta,rotrBL:ra,rotr32H:na,rotr32L:ia,rotlSH:oa,rotlSL:sa,rotlBH:aa,rotlBL:la,add:ua,add3L:ca,add3H:pa,add4L:ma,add4H:da,add5H:ga,add5L:fa};O.default=ap});var ha=oe(Kr=>{"use strict";l();u();c();p();m();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.crypto=void 0;var Ne=(Be(),$i(In));Kr.crypto=Ne&&typeof Ne=="object"&&"webcrypto"in Ne?Ne.webcrypto:Ne&&typeof Ne=="object"&&"randomBytes"in Ne?Ne:void 0});var xa=oe(N=>{"use strict";l();u();c();p();m();Object.defineProperty(N,"__esModule",{value:!0});N.Hash=N.nextTick=N.byteSwapIfBE=N.isLE=void 0;N.isBytes=lp;N.u8=up;N.u32=cp;N.createView=pp;N.rotr=mp;N.rotl=dp;N.byteSwap=ai;N.byteSwap32=fp;N.bytesToHex=yp;N.hexToBytes=hp;N.asyncLoop=bp;N.utf8ToBytes=ba;N.toBytes=zr;N.concatBytes=xp;N.checkOpts=Ep;N.wrapConstructor=Tp;N.wrapConstructorWithOpts=Pp;N.wrapXOFConstructorWithOpts=vp;N.randomBytes=Ap;var wt=ha(),si=ri();function lp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function up(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function cp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function pp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mp(e,t){return e<<32-t|e>>>t}function dp(e,t){return e<<t|e>>>32-t>>>0}N.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ai(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}N.byteSwapIfBE=N.isLE?e=>e:e=>ai(e);function fp(e){for(let t=0;t<e.length;t++)e[t]=ai(e[t])}var gp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yp(e){(0,si.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=gp[e[r]];return t}var Ce={_0:48,_9:57,A:65,F:70,a:97,f:102};function wa(e){if(e>=Ce._0&&e<=Ce._9)return e-Ce._0;if(e>=Ce.A&&e<=Ce.F)return e-(Ce.A-10);if(e>=Ce.a&&e<=Ce.f)return e-(Ce.a-10)}function hp(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=wa(e.charCodeAt(o)),a=wa(e.charCodeAt(o+1));if(s===void 0||a===void 0){let d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}n[i]=s*16+a}return n}var wp=async()=>{};N.nextTick=wp;async function bp(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,N.nextTick)(),n+=o)}}function ba(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function zr(e){return typeof e=="string"&&(e=ba(e)),(0,si.abytes)(e),e}function xp(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,si.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var oi=class{clone(){return this._cloneInto()}};N.Hash=oi;function Ep(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Tp(e){let t=n=>e().update(zr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Pp(e){let t=(n,i)=>e(i).update(zr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function vp(e){let t=(n,i)=>e(i).update(zr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Ap(e=32){if(wt.crypto&&typeof wt.crypto.getRandomValues=="function")return wt.crypto.getRandomValues(new Uint8Array(e));if(wt.crypto&&typeof wt.crypto.randomBytes=="function")return wt.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}});var Ra=oe(V=>{"use strict";l();u();c();p();m();Object.defineProperty(V,"__esModule",{value:!0});V.shake256=V.shake128=V.keccak_512=V.keccak_384=V.keccak_256=V.keccak_224=V.sha3_512=V.sha3_384=V.sha3_256=V.sha3_224=V.Keccak=void 0;V.keccakP=Ca;var bt=ri(),zt=ya(),Se=xa(),Pa=[],va=[],Aa=[],Cp=BigInt(0),Kt=BigInt(1),Sp=BigInt(2),Rp=BigInt(7),Ip=BigInt(256),Op=BigInt(113);for(let e=0,t=Kt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Pa.push(2*(5*n+r)),va.push((e+1)*(e+2)/2%64);let i=Cp;for(let o=0;o<7;o++)t=(t<<Kt^(t>>Rp)*Op)%Ip,t&Sp&&(i^=Kt<<(Kt<<BigInt(o))-Kt);Aa.push(i)}var[kp,Mp]=(0,zt.split)(Aa,!0),Ea=(e,t,r)=>r>32?(0,zt.rotlBH)(e,t,r):(0,zt.rotlSH)(e,t,r),Ta=(e,t,r)=>r>32?(0,zt.rotlBL)(e,t,r):(0,zt.rotlSL)(e,t,r);function Ca(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,d=(s+2)%10,f=r[d],P=r[d+1],v=Ea(f,P,1)^r[a],S=Ta(f,P,1)^r[a+1];for(let C=0;C<50;C+=10)e[s+C]^=v,e[s+C+1]^=S}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=va[s],d=Ea(i,o,a),f=Ta(i,o,a),P=Pa[s];i=e[P],o=e[P+1],e[P]=d,e[P+1]=f}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=kp[n],e[1]^=Mp[n]}r.fill(0)}var Zt=class e extends Se.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,bt.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Se.u32)(this.state)}keccak(){Se.isLE||(0,Se.byteSwap32)(this.state32),Ca(this.state32,this.rounds),Se.isLE||(0,Se.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,bt.aexists)(this);let{blockLen:r,state:n}=this;t=(0,Se.toBytes)(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,bt.aexists)(this,!1),(0,bt.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,bt.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,bt.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};V.Keccak=Zt;var Le=(e,t,r)=>(0,Se.wrapConstructor)(()=>new Zt(t,e,r));V.sha3_224=Le(6,144,224/8);V.sha3_256=Le(6,136,256/8);V.sha3_384=Le(6,104,384/8);V.sha3_512=Le(6,72,512/8);V.keccak_224=Le(1,144,224/8);V.keccak_256=Le(1,136,256/8);V.keccak_384=Le(1,104,384/8);V.keccak_512=Le(1,72,512/8);var Sa=(e,t,r)=>(0,Se.wrapXOFConstructorWithOpts)((n={})=>new Zt(t,e,n.dkLen===void 0?r:n.dkLen,!0));V.shake128=Sa(31,168,128/8);V.shake256=Sa(31,136,256/8)});var _a=oe((_I,_e)=>{"use strict";l();u();c();p();m();var{sha3_512:Dp}=Ra(),Oa=24,Yt=32,li=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r=r+Math.floor(t()*36).toString(36);return r};function ka(e){let t=8n,r=0n;for(let n of e.values()){let i=BigInt(n);r=(r<<t)+i}return r}var Ma=(e="")=>ka(Dp(e)).toString(36).slice(1),Ia=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),Np=e=>Ia[Math.floor(e()*Ia.length)],Da=({globalObj:e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},random:t=Math.random}={})=>{let r=Object.keys(e).toString(),n=r.length?r+li(Yt,t):li(Yt,t);return Ma(n).substring(0,Yt)},Na=e=>()=>e++,Lp=476782367,La=({random:e=Math.random,counter:t=Na(Math.floor(e()*Lp)),length:r=Oa,fingerprint:n=Da({random:e})}={})=>function(){let o=Np(e),s=Date.now().toString(36),a=t().toString(36),d=li(r,e),f=`${s+d+a+n}`;return`${o+Ma(f).substring(1,r)}`},_p=La(),Fp=(e,{minLength:t=2,maxLength:r=Yt}={})=>{let n=e.length,i=/^[0-9a-z]+$/;try{if(typeof e=="string"&&n>=t&&n<=r&&i.test(e))return!0}finally{}return!1};_e.exports.getConstants=()=>({defaultLength:Oa,bigLength:Yt});_e.exports.init=La;_e.exports.createId=_p;_e.exports.bufToBigInt=ka;_e.exports.createCounter=Na;_e.exports.createFingerprint=Da;_e.exports.isCuid=Fp});var Fa=oe((BI,Xt)=>{"use strict";l();u();c();p();m();var{createId:Up,init:$p,getConstants:qp,isCuid:Vp}=_a();Xt.exports.createId=Up;Xt.exports.init=$p;Xt.exports.getConstants=qp;Xt.exports.isCuid=Vp});var id={};Ye(id,{AnyNull:()=>ee.AnyNull,DMMF:()=>_t,DbNull:()=>ee.DbNull,Debug:()=>X,Decimal:()=>tu.Decimal,Extensions:()=>vn,JsonNull:()=>ee.JsonNull,NullTypes:()=>ee.NullTypes,ObjectEnumValue:()=>ee.ObjectEnumValue,PrismaClientInitializationError:()=>D.PrismaClientInitializationError,PrismaClientKnownRequestError:()=>D.PrismaClientKnownRequestError,PrismaClientRustPanicError:()=>D.PrismaClientRustPanicError,PrismaClientUnknownRequestError:()=>D.PrismaClientUnknownRequestError,PrismaClientValidationError:()=>D.PrismaClientValidationError,Public:()=>An,Sql:()=>Te.Sql,createParam:()=>Yo,defineDmmfProperty:()=>ns,deserializeJsonResponse:()=>De,deserializeRawResult:()=>hn,dmmfToRuntimeDataModel:()=>to,empty:()=>Te.empty,getPrismaClient:()=>Yl,getRuntime:()=>eu,isAnyNull:()=>ee.isAnyNull,isDbNull:()=>ee.isDbNull,isJsonNull:()=>ee.isJsonNull,join:()=>Te.join,makeStrictEnum:()=>Xl,makeTypedQueryFactory:()=>is,raw:()=>Te.raw,serializeJsonQuery:()=>_r,skip:()=>Lr,sqltag:()=>Te.sql,warnOnce:()=>Ln});module.exports=$i(id);l();u();c();p();m();var vn={};Ye(vn,{defineExtension:()=>Zi,getExtensionContext:()=>Yi});l();u();c();p();m();l();u();c();p();m();function Zi(e){return typeof e=="function"?e:t=>t.$extends(e)}l();u();c();p();m();function Yi(e){return e}var An={};Ye(An,{validator:()=>Xi});l();u();c();p();m();l();u();c();p();m();function Xi(...e){return t=>t}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var he=class{_map=new Map;get(t){return this._map.get(t)?.value}set(t,r){this._map.set(t,{value:r})}getOrCreate(t,r){let n=this._map.get(t);if(n)return n.value;let i=r();return this.set(t,i),i}};l();u();c();p();m();function Ie(e){return e.substring(0,1).toLowerCase()+e.substring(1)}l();u();c();p();m();function eo(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}l();u();c();p();m();function St(e){let t;return{get(){return t||(t={value:e()}),t.value}}}l();u();c();p();m();function to(e){return{models:Cn(e.models),enums:Cn(e.enums),types:Cn(e.types)}}function Cn(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}var ke=require("@prisma/client-runtime-utils");l();u();c();p();m();l();u();c();p();m();var Sn,ro,no,io,oo=!0;typeof g<"u"&&({FORCE_COLOR:Sn,NODE_DISABLE_COLORS:ro,NO_COLOR:no,TERM:io}=g.env||{},oo=g.stdout&&g.stdout.isTTY);var bu={enabled:!ro&&no==null&&io!=="dumb"&&(Sn!=null&&Sn!=="0"||oo)};function U(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(o){return!bu.enabled||o==null?o:n+(~(""+o).indexOf(i)?o.replace(r,i+n):o)+i}}var Jf=U(0,0),fr=U(1,22),gr=U(2,22),Wf=U(3,23),yr=U(4,24),Gf=U(7,27),Kf=U(8,28),zf=U(9,29),Zf=U(30,39),tt=U(31,39),so=U(32,39),ao=U(33,39),lo=U(34,39),Yf=U(35,39),uo=U(36,39),Xf=U(37,39),co=U(90,39),eg=U(90,39),tg=U(40,49),rg=U(41,49),ng=U(42,49),ig=U(43,49),og=U(44,49),sg=U(45,49),ag=U(46,49),lg=U(47,49);l();u();c();p();m();var xu=100,po=["green","yellow","blue","magenta","cyan","red"],Rt=[],mo=Date.now(),Eu=0,Rn=typeof g<"u"?g.env:{};globalThis.DEBUG??=Rn.DEBUG??"";globalThis.DEBUG_COLORS??=Rn.DEBUG_COLORS?Rn.DEBUG_COLORS==="true":!0;var It={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function Tu(e){let t={color:po[Eu++%po.length],enabled:It.enabled(e),namespace:e,log:It.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:o,color:s,log:a}=t;if(n.length!==0&&Rt.push([o,...n]),Rt.length>xu&&Rt.shift(),It.enabled(o)||i){let d=n.map(P=>typeof P=="string"?P:Pu(P)),f=`+${Date.now()-mo}ms`;mo=Date.now(),a(o,...d,f)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,o)=>t[i]=o})}var X=new Proxy(Tu,{get:(e,t)=>It[t],set:(e,t,r)=>It[t]=r});function Pu(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(r.has(i))return"[Circular *]";r.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function fo(e=7500){let t=Rt.map(([r,...n])=>`${r} ${n.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function go(){Rt.length=0}l();u();c();p();m();l();u();c();p();m();var xo="prisma+postgres",xr=`${xo}:`;function Eo(e){return e?.toString().startsWith(`${xr}//`)??!1}function On(e){if(!Eo(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var Dt={};Ye(Dt,{error:()=>Su,info:()=>Cu,log:()=>Au,query:()=>Ru,should:()=>vo,tags:()=>Mt,warn:()=>kn});l();u();c();p();m();var Mt={error:tt("prisma:error"),warn:ao("prisma:warn"),info:uo("prisma:info"),query:lo("prisma:query")},vo={warn:()=>!g.env.PRISMA_DISABLE_WARNINGS};function Au(...e){console.log(...e)}function kn(e,...t){vo.warn()&&console.warn(`${Mt.warn} ${e}`,...t)}function Cu(e,...t){console.info(`${Mt.info} ${e}`,...t)}function Su(e,...t){console.error(`${Mt.error} ${e}`,...t)}function Ru(e,...t){console.log(`${Mt.query} ${e}`,...t)}l();u();c();p();m();function Ae(e,t){throw new Error(t)}l();u();c();p();m();l();u();c();p();m();function Mn({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var Iu=Mn();function nt(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Iu,"")}l();u();c();p();m();function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}l();u();c();p();m();function Tr(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}l();u();c();p();m();function Nn(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}l();u();c();p();m();function Nt(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}l();u();c();p();m();var Co=new Set,Ln=(e,t,...r)=>{Co.has(e)||(Co.add(e),kn(t,...r))};l();u();c();p();m();function it(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Pr(e){return e.toString()!=="Invalid Date"}l();u();c();p();m();var So=require("@prisma/client-runtime-utils");function ot(e){return So.Decimal.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}l();u();c();p();m();var Jo=require("@prisma/client-runtime-utils");l();u();c();p();m();var _t={};Ye(_t,{ModelAction:()=>Lt,datamodelEnumToSchemaEnum:()=>Ou,datamodelSchemaEnumToSchemaEnum:()=>ku});l();u();c();p();m();l();u();c();p();m();function Ou(e){return{name:e.name,data:e.values.map(t=>({key:t.name,value:t.dbName??t.name}))}}function ku(e){return{name:e.name,data:e.values.map(t=>({key:t,value:t}))}}l();u();c();p();m();var Lt=(F=>(F.findUnique="findUnique",F.findUniqueOrThrow="findUniqueOrThrow",F.findFirst="findFirst",F.findFirstOrThrow="findFirstOrThrow",F.findMany="findMany",F.create="create",F.createMany="createMany",F.createManyAndReturn="createManyAndReturn",F.update="update",F.updateMany="updateMany",F.updateManyAndReturn="updateManyAndReturn",F.upsert="upsert",F.delete="delete",F.deleteMany="deleteMany",F.groupBy="groupBy",F.count="count",F.aggregate="aggregate",F.findRaw="findRaw",F.aggregateRaw="aggregateRaw",F))(Lt||{});var Mu=Ue(Po());var Du={red:tt,gray:co,dim:gr,bold:fr,underline:yr,highlightSource:e=>e.highlight()},Nu={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function Lu({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function _u({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:o},s){let a=[""],d=t?" in":":";if(n?(a.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),a.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${d}`))):a.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${d}`)),t&&a.push(s.underline(Fu(t))),i){a.push("");let f=[i.toString()];o&&(f.push(o),f.push(s.dim(")"))),a.push(f.join("")),o&&a.push("")}else a.push(""),o&&a.push(o),a.push("");return a.push(r),a.join(`
`)}function Fu(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function vr(e){let t=e.showColors?Du:Nu,r;return typeof $getTemplateParameters<"u"?r=$getTemplateParameters(e,t):r=Lu(e),_u(r,t)}l();u();c();p();m();var _o=Ue(_n());l();u();c();p();m();function ko(e,t,r){let n=Mo(e),i=Uu(n),o=qu(i);o?Ar(o,t,r):t.addErrorMessage(()=>"Unknown error")}function Mo(e){return e.errors.flatMap(t=>t.kind==="Union"?Mo(t):[t])}function Uu(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let i=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,o=t.get(i);o?t.set(i,{...n,argument:{...n.argument,typeNames:$u(o.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function $u(e,t){return[...new Set(e.concat(t))]}function qu(e){return Nn(e,(t,r)=>{let n=Io(t),i=Io(r);return n!==i?n-i:Oo(t)-Oo(r)})}function Io(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function Oo(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}l();u();c();p();m();var ae=class{constructor(t,r){this.name=t;this.value=r}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(t){let{colors:{green:r}}=t.context;t.addMarginSymbol(r(this.isRequired?"+":"?")),t.write(r(this.name)),this.isRequired||t.write(r("?")),t.write(r(": ")),typeof this.value=="string"?t.write(r(this.value)):t.write(this.value)}};l();u();c();p();m();l();u();c();p();m();No();l();u();c();p();m();var st=class{constructor(t=0,r){this.context=r;this.currentIndent=t}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(t){return typeof t=="string"?this.currentLine+=t:t.write(this),this}writeJoined(t,r,n=(i,o)=>o.write(i)){let i=r.length-1;for(let o=0;o<r.length;o++)n(r[o],this),o!==i&&this.write(t);return this}writeLine(t){return this.write(t).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let t=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,t?.(),this}withIndent(t){return this.indent(),t(this),this.unindent(),this}afterNextNewline(t){return this.afterNextNewLineCallback=t,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(t){return this.marginSymbol=t,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let t=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+t.slice(1):t}};Do();l();u();c();p();m();l();u();c();p();m();var Cr=class{constructor(t){this.value=t}write(t){t.write(this.value)}markAsError(){this.value.markAsError()}};l();u();c();p();m();var Sr=e=>e,Rr={bold:Sr,red:Sr,green:Sr,dim:Sr,enabled:!1},Lo={bold:fr,red:tt,green:so,dim:gr,enabled:!0},at={write(e){e.writeLine(",")}};l();u();c();p();m();var we=class{constructor(t){this.contents=t}isUnderlined=!1;color=t=>t;underline(){return this.isUnderlined=!0,this}setColor(t){return this.color=t,this}write(t){let r=t.getCurrentLineLength();t.write(this.color(this.contents)),this.isUnderlined&&t.afterNextNewline(()=>{t.write(" ".repeat(r)).writeLine(this.color("~".repeat(this.contents.length)))})}};l();u();c();p();m();var Oe=class{hasError=!1;markAsError(){return this.hasError=!0,this}};var lt=class extends Oe{items=[];addItem(t){return this.items.push(new Cr(t)),this}getField(t){return this.items[t]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(r=>r.value.getPrintWidth()))+2}write(t){if(this.items.length===0){this.writeEmpty(t);return}this.writeWithItems(t)}writeEmpty(t){let r=new we("[]");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithItems(t){let{colors:r}=t.context;t.writeLine("[").withIndent(()=>t.writeJoined(at,this.items).newLine()).write("]"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(r.red("~".repeat(this.getPrintWidth())))})}asObject(){}};var ut=class e extends Oe{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let o=i;for(let s of n){let a;if(o.value instanceof e?a=o.value.getField(s):o.value instanceof lt&&(a=o.value.getField(Number(s))),!a)return;o=a}return o}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let o=n.value.getFieldValue(i);if(!o||!(o instanceof e))return;let s=o.getSelectionParent();if(!s)return;n=s}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(n=>n.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new we("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(at,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}};l();u();c();p();m();var K=class extends Oe{constructor(r){super();this.text=r}getPrintWidth(){return this.text.length}write(r){let n=new we(this.text);this.hasError&&n.underline().setColor(r.context.colors.red),r.write(n)}asObject(){}};l();u();c();p();m();var Ft=class{fields=[];addField(t,r){return this.fields.push({write(n){let{green:i,dim:o}=n.context.colors;n.write(i(o(`${t}: ${r}`))).addMarginSymbol(i(o("+")))}}),this}write(t){let{colors:{green:r}}=t.context;t.writeLine(r("{")).withIndent(()=>{t.writeJoined(at,this.fields).newLine()}).write(r("}")).addMarginSymbol(r("+"))}};function Ar(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":Vu(e,t);break;case"IncludeOnScalar":Bu(e,t);break;case"EmptySelection":ju(e,t,r);break;case"UnknownSelectionField":Wu(e,t);break;case"InvalidSelectionValue":Gu(e,t);break;case"UnknownArgument":Ku(e,t);break;case"UnknownInputField":zu(e,t);break;case"RequiredArgumentMissing":Zu(e,t);break;case"InvalidArgumentType":Yu(e,t);break;case"InvalidArgumentValue":Xu(e,t);break;case"ValueTooLarge":ec(e,t);break;case"SomeFieldsMissing":tc(e,t);break;case"TooManyFieldsGiven":rc(e,t);break;case"Union":ko(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function Vu(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function Bu(e,t){let[r,n]=ct(e.selectionPath),i=e.outputType,o=t.arguments.getDeepSelectionParent(r)?.value;if(o&&(o.getField(n)?.markAsError(),i))for(let s of i.fields)s.isRelation&&o.addSuggestion(new ae(s.name,"true"));t.addErrorMessage(s=>{let a=`Invalid scalar field ${s.red(`\`${n}\``)} for ${s.bold("include")} statement`;return i?a+=` on model ${s.bold(i.name)}. ${Ut(s)}`:a+=".",a+=`
Note that ${s.bold("include")} statements only accept relation fields.`,a})}function ju(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){Qu(e,t,i);return}if(n.hasField("select")){Hu(e,t);return}}if(r?.[Ie(e.outputType.name)]){Ju(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function Qu(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new ae(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function Hu(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),$o(n,r)),t.addErrorMessage(o=>i?`The ${o.red("`select`")} statement for type ${o.bold(r.name)} must not be empty. ${Ut(o)}`:`The ${o.red("`select`")} statement for type ${o.bold(r.name)} needs ${o.bold("at least one truthy value")}.`)}function Ju(e,t){let r=new Ft;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,"false");let n=new ae("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,o]=ct(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(o);if(a){let d=a?.value.asObject()??new ut;d.addSuggestion(n),a.value=d}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function Wu(e,t){let r=qo(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":$o(n,e.outputType);break;case"include":nc(n,e.outputType);break;case"omit":ic(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),i.push(Ut(n)),i.join(" ")})}function Gu(e,t){let r=qo(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function Ku(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),oc(n,e.arguments)),t.addErrorMessage(i=>Fo(i,r,e.arguments.map(o=>o.name)))}function zu(e,t){let[r,n]=ct(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let o=i.getDeepFieldValue(r)?.asObject();o&&Vo(o,e.inputType)}t.addErrorMessage(o=>Fo(o,n,e.inputType.fields.map(s=>s.name)))}function Fo(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=ac(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(Ut(e)),n.join(" ")}function Zu(e,t){let r;t.addErrorMessage(d=>r?.value instanceof K&&r.value.text==="null"?`Argument \`${d.green(o)}\` must not be ${d.red("null")}.`:`Argument \`${d.green(o)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,o]=ct(e.argumentPath),s=new Ft,a=n.getDeepFieldValue(i)?.asObject();if(a){if(r=a.getField(o),r&&a.removeField(o),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let d of e.inputTypes[0].fields)s.addField(d.name,d.typeNames.join(" | "));a.addSuggestion(new ae(o,s).makeRequired())}else{let d=e.inputTypes.map(Uo).join(" | ");a.addSuggestion(new ae(o,d).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,d]=ct(e.dependentArgumentPath);t.addErrorMessage(f=>`Argument \`${f.green(o)}\` is required because argument \`${f.green(d)}\` was provided.`)}}}function Uo(e){return e.kind==="list"?`${Uo(e.elementType)}[]`:e.name}function Yu(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=Ir("or",e.argument.typeNames.map(s=>i.green(s)));return`Argument \`${i.bold(r)}\`: Invalid value provided. Expected ${o}, provided ${i.red(e.inferredType)}.`})}function Xu(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=[`Invalid value for argument \`${i.bold(r)}\``];if(e.underlyingError&&o.push(`: ${e.underlyingError}`),o.push("."),e.argument.typeNames.length>0){let s=Ir("or",e.argument.typeNames.map(a=>i.green(a)));o.push(` Expected ${s}.`)}return o.join("")})}function ec(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof K&&(i=s.text)}t.addErrorMessage(o=>{let s=["Unable to fit value"];return i&&s.push(o.red(i)),s.push(`into a 64-bit signed integer for field \`${o.bold(r)}\``),s.join(" ")})}function tc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&Vo(i,e.inputType)}t.addErrorMessage(i=>{let o=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?o.push(`${i.green("at least one of")} ${Ir("or",e.constraints.requiredFields.map(s=>`\`${i.bold(s)}\``))} arguments.`):o.push(`${i.green("at least one")} argument.`):o.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),o.push(Ut(i)),o.join(" ")})}function rc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let o=n.getDeepFieldValue(e.argumentPath)?.asObject();o&&(o.markAsError(),i=Object.keys(o.getFields()))}t.addErrorMessage(o=>{let s=[`Argument \`${o.bold(r)}\` of type ${o.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?s.push(`${o.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?s.push(`${o.green("at most one")} argument,`):s.push(`${o.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),s.push(`but you provided ${Ir("and",i.map(a=>o.red(a)))}. Please choose`),e.constraints.maxFieldCount===1?s.push("one."):s.push(`${e.constraints.maxFieldCount}.`),s.join(" ")})}function $o(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ae(r.name,"true"))}function nc(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new ae(r.name,"true"))}function ic(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new ae(r.name,"true"))}function oc(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new ae(r.name,r.typeNames.join(" | ")))}function qo(e,t){let[r,n]=ct(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let o=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),a=i.getFieldValue("omit")?.asObject(),d=o?.getField(n);return o&&d?{parentKind:"select",parent:o,field:d,fieldName:n}:(d=s?.getField(n),s&&d?{parentKind:"include",field:d,parent:s,fieldName:n}:(d=a?.getField(n),a&&d?{parentKind:"omit",field:d,parent:a,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function Vo(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new ae(r.name,r.typeNames.join(" | ")))}function ct(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function Ut({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function Ir(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var sc=3;function ac(e,t){let r=1/0,n;for(let i of t){let o=(0,_o.default)(e,i);o>sc||o<r&&(r=o,n=i)}return n}l();u();c();p();m();var jo=require("@prisma/client-runtime-utils");l();u();c();p();m();var $t=class{modelName;name;typeName;isList;isEnum;constructor(t,r,n,i,o){this.modelName=t,this.name=r,this.typeName=n,this.isList=i,this.isEnum=o}_toGraphQLInputType(){let t=this.isList?"List":"",r=this.isEnum?"Enum":"";return`${t}${r}${this.typeName}FieldRefInput<${this.modelName}>`}};function pt(e){return e instanceof $t}l();u();c();p();m();var Bo=": ",Or=class{constructor(t,r){this.name=t;this.value=r}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Bo.length}write(t){let r=new we(this.name);this.hasError&&r.underline().setColor(t.context.colors.red),t.write(r).write(Bo).write(this.value)}};var Un=class{arguments;errorMessages=[];constructor(t){this.arguments=t}write(t){t.write(this.arguments)}addErrorMessage(t){this.errorMessages.push(t)}renderAllMessages(t){return this.errorMessages.map(r=>r(t)).join(`
`)}};function mt(e){return new Un(Qo(e))}function Qo(e){let t=new ut;for(let[r,n]of Object.entries(e)){let i=new Or(r,Ho(n));t.addField(i)}return t}function Ho(e){if(typeof e=="string")return new K(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new K(String(e));if(typeof e=="bigint")return new K(`${e}n`);if(e===null)return new K("null");if(e===void 0)return new K("undefined");if(ot(e))return new K(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return y.isBuffer(e)?new K(`Buffer.alloc(${e.byteLength})`):new K(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=Pr(e)?e.toISOString():"Invalid Date";return new K(`new Date("${t}")`)}return e instanceof jo.ObjectEnumValue?new K(`Prisma.${e._getName()}`):pt(e)?new K(`prisma.${Ie(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?lc(e):typeof e=="object"?Qo(e):new K(Object.prototype.toString.call(e))}function lc(e){let t=new lt;for(let r of e)t.addItem(Ho(r));return t}function kr(e,t){let r=t==="pretty"?Lo:Rr,n=e.renderAllMessages(r),i=new st(0,{colors:r}).write(e).toString();return{message:n,args:i}}function Mr({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:o,globalOmit:s}){let a=mt(e);for(let v of t)Ar(v,a,s);let{message:d,args:f}=kr(a,r),P=vr({message:d,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:f});throw new Jo.PrismaClientValidationError(P,{clientVersion:o})}l();u();c();p();m();l();u();c();p();m();function be(e){return e.replace(/^./,t=>t.toLowerCase())}l();u();c();p();m();function Go(e,t,r){let n=be(r);return!t.result||!(t.result.$allModels||t.result[n])?e:uc({...e,...Wo(t.name,e,t.result.$allModels),...Wo(t.name,e,t.result[n])})}function uc(e){let t=new he,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(o=>r(o,i)):[n]));return Tr(e,n=>({...n,needs:r(n.name,new Set)}))}function Wo(e,t,r){return r?Tr(r,({needs:n,compute:i},o)=>({name:o,needs:n?Object.keys(n).filter(s=>n[s]):[],compute:cc(t,o,i)})):{}}function cc(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function Ko(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function zo(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var Dr=class{constructor(t,r){this.extension=t;this.previous=r}computedFieldsCache=new he;modelExtensionsCache=new he;queryCallbacksCache=new he;clientExtensions=St(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=St(()=>{let t=this.previous?.getAllBatchQueryCallbacks()??[],r=this.extension.query?.$__internalBatch;return r?t.concat(r):t});getAllComputedFields(t){return this.computedFieldsCache.getOrCreate(t,()=>Go(this.previous?.getAllComputedFields(t),this.extension,t))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(t){return this.modelExtensionsCache.getOrCreate(t,()=>{let r=be(t);return!this.extension.model||!(this.extension.model[r]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(t):{...this.previous?.getAllModelExtensions(t),...this.extension.model.$allModels,...this.extension.model[r]}})}getAllQueryCallbacks(t,r){return this.queryCallbacksCache.getOrCreate(`${t}:${r}`,()=>{let n=this.previous?.getAllQueryCallbacks(t,r)??[],i=[],o=this.extension.query;return!o||!(o[t]||o.$allModels||o[r]||o.$allOperations)?n:(o[t]!==void 0&&(o[t][r]!==void 0&&i.push(o[t][r]),o[t].$allOperations!==void 0&&i.push(o[t].$allOperations)),t!=="$none"&&o.$allModels!==void 0&&(o.$allModels[r]!==void 0&&i.push(o.$allModels[r]),o.$allModels.$allOperations!==void 0&&i.push(o.$allModels.$allOperations)),o[r]!==void 0&&i.push(o[r]),o.$allOperations!==void 0&&i.push(o.$allOperations),n.concat(i))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},dt=class e{constructor(t){this.head=t}static empty(){return new e}static single(t){return new e(new Dr(t))}isEmpty(){return this.head===void 0}append(t){return new e(new Dr(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};l();u();c();p();m();var Nr=class{constructor(t){this.name=t}};function Zo(e){return e instanceof Nr}function Yo(e){return new Nr(e)}l();u();c();p();m();l();u();c();p();m();var Xo=Symbol(),qt=class{constructor(t){if(t!==Xo)throw new Error("Skip instance can not be constructed directly")}ifUndefined(t){return t===void 0?Lr:t}},Lr=new qt(Xo);function xe(e){return e instanceof qt}var pc={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},es="explicitly `undefined` values are not allowed";function _r({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=dt.empty(),callsite:o,clientMethod:s,errorFormat:a,clientVersion:d,previewFeatures:f,globalOmit:P}){let v=new $n({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:o,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:a,clientVersion:d,previewFeatures:f,globalOmit:P});return{modelName:e,action:pc[t],query:Vt(r,v)}}function Vt({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:rs(r,n),selection:mc(e,t,i,n)}}function mc(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),yc(e,n)):dc(n,t,r)}function dc(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&fc(n,t,e),gc(n,r,e),n}function fc(e,t,r){for(let[n,i]of Object.entries(t)){if(xe(i))continue;let o=r.nestSelection(n);if(qn(i,o),i===!1||i===void 0){e[n]=!1;continue}let s=r.findField(n);if(s&&s.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),s){e[n]=Vt(i===!0?{}:i,o);continue}if(i===!0){e[n]=!0;continue}e[n]=Vt(i,o)}}function gc(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},o=zo(i,n);for(let[s,a]of Object.entries(o)){if(xe(a))continue;qn(a,r.nestSelection(s));let d=r.findField(s);n?.[s]&&!d||(e[s]=!a)}}function yc(e,t){let r={},n=t.getComputedFields(),i=Ko(e,n);for(let[o,s]of Object.entries(i)){if(xe(s))continue;let a=t.nestSelection(o);qn(s,a);let d=t.findField(o);if(!(n?.[o]&&!d)){if(s===!1||s===void 0||xe(s)){r[o]=!1;continue}if(s===!0){d?.kind==="object"?r[o]=Vt({},a):r[o]=!0;continue}r[o]=Vt(s,a)}}return r}function ts(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(it(e)){if(Pr(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(Zo(e))return{$type:"Param",value:e.name};if(pt(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return hc(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:"Bytes",value:y.from(r,n,i).toString("base64")}}if(wc(e))return e.values;if(ot(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof ke.ObjectEnumValue){if(!(0,ke.isDbNull)(e)&&!(0,ke.isJsonNull)(e)&&!(0,ke.isAnyNull)(e))throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(bc(e))return e.toJSON();if(typeof e=="object")return rs(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function rs(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],o=t.nestArgument(n);xe(i)||(i!==void 0?r[n]=ts(i,o):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:o.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:es}))}return r}function hc(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),o=e[n];if(o===void 0||xe(o)){let s=o===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${s}\` value within array. Use \`null\` or filter out \`${s}\` values`})}r.push(ts(o,i))}return r}function wc(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function bc(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function qn(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:es})}var $n=class e{constructor(t){this.params=t;this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){Mr({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[Ie(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:Ae(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};l();u();c();p();m();function ns(e,t){let r=St(()=>xc(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function xc(e){throw new Error("Prisma.dmmf is not available when running in edge runtimes.")}function Vn(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}l();u();c();p();m();var Bn=new WeakMap,Fr="$$PrismaTypedSql",Bt=class{constructor(t,r){Bn.set(this,{sql:t,values:r}),Object.defineProperty(this,Fr,{value:Fr})}get sql(){return Bn.get(this).sql}get values(){return Bn.get(this).values}};function is(e){return(...t)=>new Bt(e,t)}function Ur(e){return e!=null&&e[Fr]===Fr}l();u();c();p();m();var Zl=require("@prisma/client-runtime-utils");l();u();c();p();m();os();l();u();c();p();m();l();u();c();p();m();function jt(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}l();u();c();p();m();function te(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}l();u();c();p();m();function je(e){let t=new he;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}l();u();c();p();m();l();u();c();p();m();var qr={enumerable:!0,configurable:!0,writable:!0};function Vr(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>qr,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var ss=Symbol.for("nodejs.util.inspect.custom");function pe(e,t){let r=Ec(t),n=new Set,i=new Proxy(e,{get(o,s){if(n.has(s))return o[s];let a=r.get(s);return a?a.getPropertyValue(s):o[s]},has(o,s){if(n.has(s))return!0;let a=r.get(s);return a?a.has?.(s)??!0:Reflect.has(o,s)},ownKeys(o){let s=as(Reflect.ownKeys(o),r),a=as(Array.from(r.keys()),r);return[...new Set([...s,...a,...n])]},set(o,s,a){return r.get(s)?.getPropertyDescriptor?.(s)?.writable===!1?!1:(n.add(s),Reflect.set(o,s,a))},getOwnPropertyDescriptor(o,s){let a=Reflect.getOwnPropertyDescriptor(o,s);if(a&&!a.configurable)return a;let d=r.get(s);return d?d.getPropertyDescriptor?{...qr,...d?.getPropertyDescriptor(s)}:qr:a},defineProperty(o,s,a){return n.add(s),Reflect.defineProperty(o,s,a)},getPrototypeOf:()=>Object.prototype});return i[ss]=function(){let o={...this};return delete o[ss],o},i}function Ec(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function as(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}l();u();c();p();m();function ft(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}l();u();c();p();m();function ls(e){if(e===void 0)return"";let t=mt(e);return new st(0,{colors:Rr}).write(t).toString()}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var jn=class{getLocation(){return null}};function Me(e){return typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new jn}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var us={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function gt(e={}){let t=Pc(e);return Object.entries(t).reduce((n,[i,o])=>(us[i]!==void 0?n.select[i]={select:o}:n[i]=o,n),{select:{}})}function Pc(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function Br(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function cs(e,t){let r=Br(e);return t({action:"aggregate",unpacker:r,argsMapper:gt})(e)}l();u();c();p();m();function vc(e={}){let{select:t,...r}=e;return typeof t=="object"?gt({...r,_count:t}):gt({...r,_count:{_all:!0}})}function Ac(e={}){return typeof e.select=="object"?t=>Br(e)(t)._count:t=>Br(e)(t)._count._all}function ps(e,t){return t({action:"count",unpacker:Ac(e),argsMapper:vc})(e)}l();u();c();p();m();function Cc(e={}){let t=gt(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function Sc(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function ms(e,t){return t({action:"groupBy",unpacker:Sc(e),argsMapper:Cc})(e)}function ds(e,t,r){if(t==="aggregate")return n=>cs(n,r);if(t==="count")return n=>ps(n,r);if(t==="groupBy")return n=>ms(n,r)}l();u();c();p();m();function fs(e,t){let r=t.fields.filter(i=>!i.relationName),n=eo(r,"name");return new Proxy({},{get(i,o){if(o in i||typeof o=="symbol")return i[o];let s=n[o];if(s)return new $t(e,o,s.type,s.isList,s.kind==="enum")},...Vr(Object.keys(n))})}l();u();c();p();m();l();u();c();p();m();var gs=e=>Array.isArray(e)?e:e.split("."),Qn=(e,t)=>gs(t).reduce((r,n)=>r&&r[n],e),ys=(e,t,r)=>gs(t).reduceRight((n,i,o,s)=>Object.assign({},Qn(e,s.slice(0,o)),{[i]:n}),r);function Rc(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function Ic(e,t,r){return t===void 0?e??{}:ys(t,r,e||!0)}function Hn(e,t,r,n,i,o){let a=e._runtimeDataModel.models[t].fields.reduce((d,f)=>({...d,[f.name]:f}),{});return d=>{let f=Me(e._errorFormat),P=Rc(n,i),v=Ic(d,o,P),S=r({dataPath:P,callsite:f})(v),C=Oc(e,t);return new Proxy(S,{get(M,R){if(!C.includes(R))return M[R];let Pe=[a[R].type,r,R],re=[P,v];return Hn(e,...Pe,...re)},...Vr([...C,...Object.getOwnPropertyNames(S)])})}}function Oc(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var kc=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],Mc=["aggregate","count","groupBy"];function Jn(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[Dc(e,t),Lc(e,t),jt(r),te("name",()=>t),te("$name",()=>t),te("$parent",()=>e._appliedParent)];return pe({},n)}function Dc(e,t){let r=be(t),n=Object.keys(Lt).concat("count");return{getKeys(){return n},getPropertyValue(i){let o=i,s=a=>d=>{let f=Me(e._errorFormat);return e._createPrismaPromise(P=>{let v={args:d,dataPath:[],action:o,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:P,callsite:f};return e._request({...v,...a})},{action:o,args:d,model:t})};return kc.includes(o)?Hn(e,t,s):Nc(i)?ds(e,i,s):s({})}}}function Nc(e){return Mc.includes(e)}function Lc(e,t){return je(te("fields",()=>{let r=e._runtimeDataModel.models[t];return fs(t,r)}))}l();u();c();p();m();function hs(e){return e.replace(/^./,t=>t.toUpperCase())}var Wn=Symbol();function Qt(e){let t=[_c(e),Fc(e),te(Wn,()=>e),te("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(jt(r)),pe(e,t)}function _c(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function Fc(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(be),n=[...new Set(t.concat(r))];return je({getKeys(){return n},getPropertyValue(i){let o=hs(i);if(e._runtimeDataModel.models[o]!==void 0)return Jn(e,o);if(e._runtimeDataModel.models[i]!==void 0)return Jn(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function ws(e){return e[Wn]?e[Wn]:e}function bs(e){if(typeof e=="function")return e(this);let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return Qt(t)}l();u();c();p();m();l();u();c();p();m();function xs({result:e,modelName:t,select:r,omit:n,extensions:i}){let o=i.getAllComputedFields(t);if(!o)return e;let s=[],a=[];for(let d of Object.values(o)){if(n){if(n[d.name])continue;let f=d.needs.filter(P=>n[P]);f.length>0&&a.push(ft(f))}else if(r){if(!r[d.name])continue;let f=d.needs.filter(P=>!r[P]);f.length>0&&a.push(ft(f))}Uc(e,d.needs)&&s.push($c(d,pe(e,s)))}return s.length>0||a.length>0?pe(e,[...s,...a]):e}function Uc(e,t){return t.every(r=>Dn(e,r))}function $c(e,t){return je(te(e.name,()=>e.compute(t)))}l();u();c();p();m();function jr({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let s=0;s<t.length;s++)t[s]=jr({result:t[s],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let o=e(t,i,r)??t;return r.include&&Es({includeOrSelect:r.include,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Es({includeOrSelect:r.select,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),o}function Es({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[o,s]of Object.entries(e)){if(!s||t[o]==null||xe(s))continue;let d=n.models[r].fields.find(P=>P.name===o);if(!d||d.kind!=="object"||!d.relationName)continue;let f=typeof s=="object"?s:{};t[o]=jr({visitor:i,result:t[o],args:f,modelName:d.type,runtimeDataModel:n})}}function Ts({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:o}){return n.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:jr({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,d,f)=>{let P=be(d);return xs({result:a,modelName:P,select:f.select,omit:f.select?void 0:{...o?.[P],...f.omit},extensions:n})}})}l();u();c();p();m();l();u();c();p();m();var Qe=require("@prisma/client-runtime-utils");l();u();c();p();m();var qc=["$connect","$disconnect","$on","$transaction","$extends"],Ps=qc;function vs(e){if(e instanceof Qe.Sql)return Vc(e);if(Ur(e))return Bc(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=Ht(e[n]);return r}let t={};for(let r in e)t[r]=Ht(e[r]);return t}function Vc(e){return new Qe.Sql(e.strings,e.values)}function Bc(e){return new Bt(e.sql,e.values)}function Ht(e){if(typeof e!="object"||e==null||e instanceof Qe.ObjectEnumValue||pt(e))return e;if(ot(e))return new Qe.Decimal(e.toFixed());if(it(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=Ht(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:Ht(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=Ht(e[r]);return t}Ae(e,"Unknown value")}function Cs(e,t,r,n=0){return e._createPrismaPromise(i=>{let o=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:vs(t.args??{}),__internalParams:t,query:(s,a=t)=>{let d=a.customDataProxyFetch;return a.customDataProxyFetch=Os(o,d),a.args=s,Cs(e,a,r,n+1)}})})}function Ss(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,o=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??"$none",o);return Cs(e,t,s)}function Rs(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?Is(r,n,0,e):e(r)}}function Is(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,o=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(s=>({model:s.modelName,operation:s.action,args:s.args})),transaction:o?{isolationLevel:o.kind==="batch"?o.isolationLevel:void 0}:void 0},__internalParams:e,query(s,a=e){let d=a.customDataProxyFetch;return a.customDataProxyFetch=Os(i,d),Is(a,t,r+1,n)}})}var As=e=>e;function Os(e=As,t=As){return r=>e(t(r))}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var _s=require("@prisma/client-runtime-utils");l();u();c();p();m();var Jt=require("@prisma/client-runtime-utils");function L(e,t){throw new Error(t)}function Gn(e,t){return e===t||e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>Gn(e[r],t[r]))}function yt(e,t){let r=Object.keys(e),n=Object.keys(t);return(r.length<n.length?r:n).every(o=>{if(typeof e[o]==typeof t[o]&&typeof e[o]!="object")return e[o]===t[o];if(Jt.Decimal.isDecimal(e[o])||Jt.Decimal.isDecimal(t[o])){let s=ks(e[o]),a=ks(t[o]);return s&&a&&s.equals(a)}else if(e[o]instanceof Uint8Array||t[o]instanceof Uint8Array){let s=Ms(e[o]),a=Ms(t[o]);return s&&a&&s.equals(a)}else{if(e[o]instanceof Date||t[o]instanceof Date)return Ds(e[o])?.getTime()===Ds(t[o])?.getTime();if(typeof e[o]=="bigint"||typeof t[o]=="bigint")return Ns(e[o])===Ns(t[o]);if(typeof e[o]=="number"||typeof t[o]=="number")return Ls(e[o])===Ls(t[o])}return Gn(e[o],t[o])})}function ks(e){return Jt.Decimal.isDecimal(e)?e:typeof e=="number"||typeof e=="string"?new Jt.Decimal(e):void 0}function Ms(e){return y.isBuffer(e)?e:e instanceof Uint8Array?y.from(e.buffer,e.byteOffset,e.byteLength):typeof e=="string"?y.from(e,"base64"):void 0}function Ds(e){return e instanceof Date?e:typeof e=="string"||typeof e=="number"?new Date(e):void 0}function Ns(e){return typeof e=="bigint"?e:typeof e=="number"||typeof e=="string"?BigInt(e):void 0}function Ls(e){return typeof e=="number"?e:typeof e=="string"?Number(e):void 0}function Wt(e){return JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():ArrayBuffer.isView(r)?y.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):r)}function jc(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function Qc(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function De(e){return e===null?e:Array.isArray(e)?e.map(De):typeof e=="object"?jc(e)?Hc(e):e.constructor!==null&&e.constructor.name!=="Object"?e:Qc(e,De):e}function Hc({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:i}=y.from(t,"base64");return new Uint8Array(r,n,i)}case"DateTime":return new Date(t);case"Decimal":return new _s.Decimal(t);case"Json":return JSON.parse(t);default:L(t,"Unknown tagged value")}}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();function Qr(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}l();u();c();p();m();var I={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};var z=class extends Error{name="UserFacingError";code;meta;constructor(t,r,n){super(t),this.code=r,this.meta=n??{}}toQueryResponseErrorObject(){return{error:this.message,user_facing_error:{is_panic:!1,message:this.message,meta:this.meta,error_code:this.code}}}};function ht(e){if(!Qr(e))throw e;let t=Jc(e),r=Fs(e);throw!t||!r?e:new z(r,t,{driverAdapterError:e})}function zn(e){throw Qr(e)?new z(`Raw query failed. Code: \`${e.cause.originalCode??"N/A"}\`. Message: \`${e.cause.originalMessage??Fs(e)}\``,"P2010",{driverAdapterError:e}):e}function Jc(e){switch(e.cause.kind){case"AuthenticationFailed":return"P1000";case"DatabaseNotReachable":return"P1001";case"DatabaseDoesNotExist":return"P1003";case"SocketTimeout":return"P1008";case"DatabaseAlreadyExists":return"P1009";case"DatabaseAccessDenied":return"P1010";case"TlsConnectionError":return"P1011";case"ConnectionClosed":return"P1017";case"TransactionAlreadyClosed":return"P1018";case"LengthMismatch":return"P2000";case"UniqueConstraintViolation":return"P2002";case"ForeignKeyConstraintViolation":return"P2003";case"InvalidInputValue":return"P2007";case"UnsupportedNativeDataType":return"P2010";case"NullConstraintViolation":return"P2011";case"ValueOutOfRange":return"P2020";case"TableDoesNotExist":return"P2021";case"ColumnNotFound":return"P2022";case"InvalidIsolationLevel":case"InconsistentColumnData":return"P2023";case"MissingFullTextSearchIndex":return"P2030";case"TransactionWriteConflict":return"P2034";case"GenericJs":return"P2036";case"TooManyConnections":return"P2037";case"postgres":case"sqlite":case"mysql":case"mssql":return;default:L(e.cause,`Unknown error: ${e.cause}`)}}function Fs(e){switch(e.cause.kind){case"AuthenticationFailed":return`Authentication failed against the database server, the provided database credentials for \`${e.cause.user??"(not available)"}\` are not valid`;case"DatabaseNotReachable":{let t=e.cause.host&&e.cause.port?`${e.cause.host}:${e.cause.port}`:e.cause.host;return`Can't reach database server${t?` at ${t}`:""}`}case"DatabaseDoesNotExist":return`Database \`${e.cause.db??"(not available)"}\` does not exist on the database server`;case"SocketTimeout":return"Operation has timed out";case"DatabaseAlreadyExists":return`Database \`${e.cause.db??"(not available)"}\` already exists on the database server`;case"DatabaseAccessDenied":return`User was denied access on the database \`${e.cause.db??"(not available)"}\``;case"TlsConnectionError":return`Error opening a TLS connection: ${e.cause.reason}`;case"ConnectionClosed":return"Server has closed the connection.";case"TransactionAlreadyClosed":return e.cause.cause;case"LengthMismatch":return`The provided value for the column is too long for the column's type. Column: ${e.cause.column??"(not available)"}`;case"UniqueConstraintViolation":return`Unique constraint failed on the ${Kn(e.cause.constraint)}`;case"ForeignKeyConstraintViolation":return`Foreign key constraint violated on the ${Kn(e.cause.constraint)}`;case"UnsupportedNativeDataType":return`Failed to deserialize column of type '${e.cause.type}'. If you're using $queryRaw and this column is explicitly marked as \`Unsupported\` in your Prisma schema, try casting this column to any supported Prisma type such as \`String\`.`;case"NullConstraintViolation":return`Null constraint violation on the ${Kn(e.cause.constraint)}`;case"ValueOutOfRange":return`Value out of range for the type: ${e.cause.cause}`;case"TableDoesNotExist":return`The table \`${e.cause.table??"(not available)"}\` does not exist in the current database.`;case"ColumnNotFound":return`The column \`${e.cause.column??"(not available)"}\` does not exist in the current database.`;case"InvalidIsolationLevel":return`Error in connector: Conversion error: ${e.cause.level}`;case"InconsistentColumnData":return`Inconsistent column data: ${e.cause.cause}`;case"MissingFullTextSearchIndex":return"Cannot find a fulltext index to use for the native search, try adding a @@fulltext([Fields...]) to your schema";case"TransactionWriteConflict":return"Transaction failed due to a write conflict or a deadlock. Please retry your transaction";case"GenericJs":return`Error in external connector (id ${e.cause.id})`;case"TooManyConnections":return`Too many database connections opened: ${e.cause.cause}`;case"InvalidInputValue":return`Invalid input value: ${e.cause.message}`;case"sqlite":case"postgres":case"mysql":case"mssql":return;default:L(e.cause,`Unknown error: ${e.cause}`)}}function Kn(e){return e&&"fields"in e?`fields: (${e.fields.map(t=>`\`${t}\``).join(", ")})`:e&&"index"in e?`constraint: \`${e.index}\``:e&&"foreignKey"in e?"foreign key":"(not available)"}function Us(e,t){let r=e.map(i=>t.keys.reduce((o,s)=>(o[s]=De(i[s]),o),{})),n=new Set(t.nestedSelection);return t.arguments.map(i=>{let o=r.findIndex(s=>yt(s,i));if(o===-1)return t.expectNonEmpty?new z("An operation failed because it depends on one or more records that were required but not found","P2025"):null;{let s=Object.entries(e[o]).filter(([a])=>n.has(a));return Object.fromEntries(s)}})}l();u();c();p();m();var qs=require("@prisma/client-runtime-utils");var q=class extends z{name="DataMapperError";constructor(t,r){super(t,"P2023",r)}};function Vs(e,t,r){switch(t.type){case"affectedRows":if(typeof e!="number")throw new q(`Expected an affected rows count, got: ${typeof e} (${e})`);return{count:e};case"object":return Yn(e,t.fields,r,t.skipNulls);case"field":return Zn(e,"<result>",t.fieldType,r);default:L(t,`Invalid data mapping type: '${t.type}'`)}}function Yn(e,t,r,n){if(e===null)return null;if(Array.isArray(e)){let i=e;return n&&(i=i.filter(o=>o!==null)),i.map(o=>$s(o,t,r))}if(typeof e=="object")return $s(e,t,r);if(typeof e=="string"){let i;try{i=JSON.parse(e)}catch(o){throw new q("Expected an array or object, got a string that is not valid JSON",{cause:o})}return Yn(i,t,r,n)}throw new q(`Expected an array or an object, got: ${typeof e}`)}function $s(e,t,r){if(typeof e!="object")throw new q(`Expected an object, but got '${typeof e}'`);let n={};for(let[i,o]of Object.entries(t))switch(o.type){case"affectedRows":throw new q(`Unexpected 'AffectedRows' node in data mapping for field '${i}'`);case"object":{if(o.serializedName!==null&&!Object.hasOwn(e,o.serializedName))throw new q(`Missing data field (Object): '${i}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`);let s=o.serializedName!==null?e[o.serializedName]:e;n[i]=Yn(s,o.fields,r,o.skipNulls);break}case"field":{let s=o.dbName;if(Object.hasOwn(e,s))n[i]=Wc(e[s],s,o.fieldType,r);else throw new q(`Missing data field (Value): '${s}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`)}break;default:L(o,`DataMapper: Invalid data mapping node type: '${o.type}'`)}return n}function Wc(e,t,r,n){return e===null?r.arity==="list"?[]:null:r.arity==="list"?e.map((o,s)=>Zn(o,`${t}[${s}]`,r,n)):Zn(e,t,r,n)}function Zn(e,t,r,n){switch(r.type){case"unsupported":return e;case"string":{if(typeof e!="string")throw new q(`Expected a string in column '${t}', got ${typeof e}: ${e}`);return e}case"int":switch(typeof e){case"number":return Math.trunc(e);case"string":{let i=Math.trunc(Number(e));if(Number.isNaN(i)||!Number.isFinite(i))throw new q(`Expected an integer in column '${t}', got string: ${e}`);if(!Number.isSafeInteger(i))throw new q(`Integer value in column '${t}' is too large to represent as a JavaScript number without loss of precision, got: ${e}. Consider using BigInt type.`);return i}default:throw new q(`Expected an integer in column '${t}', got ${typeof e}: ${e}`)}case"bigint":{if(typeof e!="number"&&typeof e!="string")throw new q(`Expected a bigint in column '${t}', got ${typeof e}: ${e}`);return{$type:"BigInt",value:e}}case"float":{if(typeof e=="number")return e;if(typeof e=="string"){let i=Number(e);if(Number.isNaN(i)&&!/^[-+]?nan$/.test(e.toLowerCase()))throw new q(`Expected a float in column '${t}', got string: ${e}`);return i}throw new q(`Expected a float in column '${t}', got ${typeof e}: ${e}`)}case"boolean":{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){if(e==="true"||e==="TRUE"||e==="1")return!0;if(e==="false"||e==="FALSE"||e==="0")return!1;throw new q(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}if(Array.isArray(e)||e instanceof Uint8Array){for(let i of e)if(i!==0)return!0;return!1}throw new q(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}case"decimal":if(typeof e!="number"&&typeof e!="string"&&!qs.Decimal.isDecimal(e))throw new q(`Expected a decimal in column '${t}', got ${typeof e}: ${e}`);return{$type:"Decimal",value:e};case"datetime":{if(typeof e=="string")return{$type:"DateTime",value:Kc(e)};if(typeof e=="number"||e instanceof Date)return{$type:"DateTime",value:e};throw new q(`Expected a date in column '${t}', got ${typeof e}: ${e}`)}case"object":return{$type:"Json",value:Wt(e)};case"json":return{$type:"Json",value:`${e}`};case"bytes":{switch(r.encoding){case"base64":if(typeof e!="string")throw new q(`Expected a base64-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:e};case"hex":if(typeof e!="string"||!e.startsWith("\\x"))throw new q(`Expected a hex-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:y.from(e.slice(2),"hex").toString("base64")};case"array":if(Array.isArray(e))return{$type:"Bytes",value:y.from(e).toString("base64")};if(e instanceof Uint8Array)return{$type:"Bytes",value:y.from(e).toString("base64")};throw new q(`Expected a byte array in column '${t}', got ${typeof e}: ${e}`);default:L(r.encoding,`DataMapper: Unknown bytes encoding: ${r.encoding}`)}break}case"enum":{let i=n[r.name];if(i===void 0)throw new q(`Unknown enum '${r.name}'`);let o=i[`${e}`];if(o===void 0)throw new q(`Value '${e}' not found in enum '${r.name}'`);return o}default:L(r,`DataMapper: Unknown result type: ${r.type}`)}}var Gc=/\d{2}:\d{2}:\d{2}(?:\.\d+)?(Z|[+-]\d{2}(:?\d{2})?)?$/;function Kc(e){let t=Gc.exec(e);if(t===null)return`${e}T00:00:00Z`;let r=e,[n,i,o]=t;if(i!==void 0&&i!=="Z"&&o===void 0?r=`${e}:00`:i===void 0&&(r=`${e}Z`),n.length===e.length)return`1970-01-01T${r}`;let s=t.index-1;return r[s]===" "&&(r=`${r.slice(0,s)}T${r.slice(s+1)}`),r}l();u();c();p();m();l();u();c();p();m();function zc(e){let t=Object.entries(e);return t.length===0?"":(t.sort(([n],[i])=>n.localeCompare(i)),`/*${t.map(([n,i])=>{let o=encodeURIComponent(n),s=encodeURIComponent(i).replace(/'/g,"\\'");return`${o}='${s}'`}).join(",")}*/`)}function Hr(e,t){let r={};for(let n of e){let i=n(t);for(let[o,s]of Object.entries(i))s!==void 0&&(r[o]=s)}return r}function Bs(e,t){let r=Hr(e,t);return zc(r)}function js(e,t){return t?`${e} ${t}`:e}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var Gt;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(Gt||(Gt={}));function Zc(e){switch(e){case"postgresql":case"postgres":case"prisma+postgres":return"postgresql";case"sqlserver":return"mssql";case"mysql":case"sqlite":case"cockroachdb":case"mongodb":return e;default:L(e,`Unknown provider: ${e}`)}}async function Jr({query:e,tracingHelper:t,provider:r,onQuery:n,execute:i}){return await t.runInChildSpan({name:"db_query",kind:Gt.CLIENT,attributes:{"db.query.text":e.sql,"db.system.name":Zc(r)}},async()=>{let o=new Date,s=w.now(),a=await i(),d=w.now();return n?.({timestamp:o,duration:d-s,query:e.sql,params:e.args}),a})}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();function He(e,t){var r="000000000"+e;return r.substr(r.length-t)}var Qs=Ue(ho(),1);function Yc(){try{return Qs.default.hostname()}catch{return g.env._CLUSTER_NETWORK_NAME_||g.env.COMPUTERNAME||"hostname"}}var Hs=2,Xc=He(g.pid.toString(36),Hs),Js=Yc(),ep=Js.length,tp=He(Js.split("").reduce(function(e,t){return+e+t.charCodeAt(0)},+ep+36).toString(36),Hs);function Xn(){return Xc+tp}l();u();c();p();m();l();u();c();p();m();function Wr(e){return typeof e=="string"&&/^c[a-z0-9]{20,32}$/.test(e)}function ei(e){let n=Math.pow(36,4),i=0;function o(){return He((Math.random()*n<<0).toString(36),4)}function s(){return i=i<n?i:0,i++,i-1}function a(){var d="c",f=new Date().getTime().toString(36),P=He(s().toString(36),4),v=e(),S=o()+o();return d+f+P+v+S}return a.fingerprint=e,a.isCuid=Wr,a}var rp=ei(Xn);var Ws=rp;var Qa=Ue(Fa());l();u();c();p();m();Be();l();u();c();p();m();var Ua="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Bp=128,We,xt;function jp(e){!We||We.length<e?(We=y.allocUnsafe(e*Bp),kt.getRandomValues(We),xt=0):xt+e>We.length&&(kt.getRandomValues(We),xt=0),xt+=e}function ui(e=21){jp(e|=0);let t="";for(let r=xt-e;r<xt;r++)t+=Ua[We[r]&63];return t}l();u();c();p();m();Be();var qa="0123456789ABCDEFGHJKMNPQRSTVWXYZ",er=32;var Qp=16,Va=10,$a=0xffffffffffff;var Ge;(function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"})(Ge||(Ge={}));var Ke=class extends Error{constructor(t,r){super(`${r} (${t})`),this.name="ULIDError",this.code=t}};function Hp(e){let t=Math.floor(e()*er);return t===er&&(t=er-1),qa.charAt(t)}function Jp(e){let t=Wp(),r=t&&(t.crypto||t.msCrypto)||(typeof rt<"u"?rt:null);if(typeof r?.getRandomValues=="function")return()=>{let n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;if(rt?.randomBytes)return()=>rt.randomBytes(1).readUInt8()/255;throw new Ke(Ge.PRNGDetectFailure,"Failed to find a reliable PRNG")}function Wp(){return zp()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}function Gp(e,t){let r="";for(;e>0;e--)r=Hp(t)+r;return r}function Kp(e,t=Va){if(isNaN(e))throw new Ke(Ge.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>$a)throw new Ke(Ge.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${$a}: ${e}`);if(e<0)throw new Ke(Ge.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new Ke(Ge.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let r,n="";for(let i=t;i>0;i--)r=e%er,n=qa.charAt(r)+n,e=(e-r)/er;return n}function zp(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function Ba(e,t){let r=t||Jp(),n=!e||isNaN(e)?Date.now():e;return Kp(n,Va)+Gp(Qp,r)}l();u();c();p();m();l();u();c();p();m();var Z=[];for(let e=0;e<256;++e)Z.push((e+256).toString(16).slice(1));function Zr(e,t=0){return(Z[e[t+0]]+Z[e[t+1]]+Z[e[t+2]]+Z[e[t+3]]+"-"+Z[e[t+4]]+Z[e[t+5]]+"-"+Z[e[t+6]]+Z[e[t+7]]+"-"+Z[e[t+8]]+Z[e[t+9]]+"-"+Z[e[t+10]]+Z[e[t+11]]+Z[e[t+12]]+Z[e[t+13]]+Z[e[t+14]]+Z[e[t+15]]).toLowerCase()}l();u();c();p();m();Be();var Xr=new Uint8Array(256),Yr=Xr.length;function Et(){return Yr>Xr.length-16&&(wr(Xr),Yr=0),Xr.slice(Yr,Yr+=16)}l();u();c();p();m();l();u();c();p();m();Be();var ci={randomUUID:hr};function Zp(e,t,r){if(ci.randomUUID&&!t&&!e)return ci.randomUUID();e=e||{};let n=e.random??e.rng?.()??Et();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Zr(n)}var pi=Zp;l();u();c();p();m();var mi={};function Yp(e,t,r){let n;if(e)n=ja(e.random??e.rng?.()??Et(),e.msecs,e.seq,t,r);else{let i=Date.now(),o=Et();Xp(mi,i,o),n=ja(o,mi.msecs,mi.seq,t,r)}return t??Zr(n)}function Xp(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function ja(e,t,r,n,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t??=Date.now(),r??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=t&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|e[10]&3,n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}var di=Yp;var en=class{#t={};constructor(){this.register("uuid",new gi),this.register("cuid",new yi),this.register("ulid",new hi),this.register("nanoid",new wi),this.register("product",new bi)}snapshot(){return Object.create(this.#t,{now:{value:new fi}})}register(t,r){this.#t[t]=r}},fi=class{#t=new Date;generate(){return this.#t.toISOString()}},gi=class{generate(t){if(t===4)return pi();if(t===7)return di();throw new Error("Invalid UUID generator arguments")}},yi=class{generate(t){if(t===1)return Ws();if(t===2)return(0,Qa.createId)();throw new Error("Invalid CUID generator arguments")}},hi=class{generate(){return Ba()}},wi=class{generate(t){if(typeof t=="number")return ui(t);if(t===void 0)return ui();throw new Error("Invalid Nanoid generator arguments")}},bi=class{generate(t,r){if(t===void 0||r===void 0)throw new Error("Invalid Product generator arguments");return Array.isArray(t)&&Array.isArray(r)?t.flatMap(n=>r.map(i=>[n,i])):Array.isArray(t)?t.map(n=>[n,r]):Array.isArray(r)?r.map(n=>[t,n]):[[t,r]]}};l();u();c();p();m();function tn(e,t){return e==null?e:typeof e=="string"?tn(JSON.parse(e),t):Array.isArray(e)?tm(e,t):em(e,t)}function em(e,t){if(t.pagination){let{skip:r,take:n,cursor:i}=t.pagination;if(r!==null&&r>0||n===0||i!==null&&!yt(e,i))return null}return Ja(e,t.nested)}function Ja(e,t){for(let[r,n]of Object.entries(t))e[r]=tn(e[r],n);return e}function tm(e,t){if(t.distinct!==null){let r=t.linkingFields!==null?[...t.distinct,...t.linkingFields]:t.distinct;e=rm(e,r)}return t.pagination&&(e=nm(e,t.pagination,t.linkingFields)),t.reverse&&e.reverse(),Object.keys(t.nested).length===0?e:e.map(r=>Ja(r,t.nested))}function rm(e,t){let r=new Set,n=[];for(let i of e){let o=Tt(i,t);r.has(o)||(r.add(o),n.push(i))}return n}function nm(e,t,r){if(r===null)return Ha(e,t);let n=new Map;for(let o of e){let s=Tt(o,r);n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=Array.from(n.entries());return i.sort(([o],[s])=>o<s?-1:o>s?1:0),i.flatMap(([,o])=>Ha(o,t))}function Ha(e,{cursor:t,skip:r,take:n}){let i=t!==null?e.findIndex(a=>yt(a,t)):0;if(i===-1)return[];let o=i+(r??0),s=n!==null?o+n:e.length;return e.slice(o,s)}function Tt(e,t){return JSON.stringify(t.map(r=>e[r]))}l();u();c();p();m();l();u();c();p();m();function xi(e){return typeof e=="object"&&e!==null&&e.prisma__type==="param"}function Ei(e){return typeof e=="object"&&e!==null&&e.prisma__type==="generatorCall"}function vi(e,t,r,n){let i=e.args.map(o=>me(o,t,r));switch(e.type){case"rawSql":return[sm(e.sql,i,e.argTypes)];case"templateSql":return(e.chunkable?lm(e.fragments,i,n):[i]).map(s=>{if(n!==void 0&&s.length>n)throw new z("The query parameter limit supported by your database is exceeded.","P2029");return im(e.fragments,e.placeholderFormat,s,e.argTypes)});default:L(e.type,"Invalid query type")}}function me(e,t,r){for(;am(e);)if(xi(e)){let n=t[e.prisma__value.name];if(n===void 0)throw new Error(`Missing value for query variable ${e.prisma__value.name}`);e=n}else if(Ei(e)){let{name:n,args:i}=e.prisma__value,o=r[n];if(!o)throw new Error(`Encountered an unknown generator '${n}'`);e=o.generate(...i.map(s=>me(s,t,r)))}else L(e,`Unexpected unevaluated value type: ${e}`);return Array.isArray(e)&&(e=e.map(n=>me(n,t,r))),e}function im(e,t,r,n){let i="",o={placeholderNumber:1},s=[],a=[];for(let d of Pi(e,r,n)){if(i+=om(d,t,o),d.type==="stringChunk")continue;let f=s.length,P=s.push(...Wa(d))-f;if(d.argType.arity==="tuple"){if(P%d.argType.elements.length!==0)throw new Error(`Malformed query template. Expected the number of parameters to match the tuple arity, but got ${P} parameters for a tuple of arity ${d.argType.elements.length}.`);for(let v=0;v<P/d.argType.elements.length;v++)a.push(...d.argType.elements)}else for(let v=0;v<P;v++)a.push(d.argType)}return{sql:i,args:s,argTypes:a}}function om(e,t,r){let n=e.type;switch(n){case"parameter":return Ti(t,r.placeholderNumber++);case"stringChunk":return e.chunk;case"parameterTuple":return`(${e.value.length==0?"NULL":e.value.map(()=>Ti(t,r.placeholderNumber++)).join(",")})`;case"parameterTupleList":return e.value.map(i=>{let o=i.map(()=>Ti(t,r.placeholderNumber++)).join(e.itemSeparator);return`${e.itemPrefix}${o}${e.itemSuffix}`}).join(e.groupSeparator);default:L(n,"Invalid fragment type")}}function Ti(e,t){return e.hasNumbering?`${e.prefix}${t}`:e.prefix}function sm(e,t,r){return{sql:e,args:t,argTypes:r}}function am(e){return xi(e)||Ei(e)}function*Pi(e,t,r){let n=0;for(let i of e)switch(i.type){case"parameter":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);yield{...i,value:t[n],argType:r?.[n]},n++;break}case"stringChunk":{yield i;break}case"parameterTuple":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];yield{...i,value:Array.isArray(o)?o:[o],argType:r?.[n]},n++;break}case"parameterTupleList":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];if(!Array.isArray(o))throw new Error("Malformed query template. Tuple list expected.");if(o.length===0)throw new Error("Malformed query template. Tuple list cannot be empty.");for(let s of o)if(!Array.isArray(s))throw new Error("Malformed query template. Tuple expected.");yield{...i,value:o,argType:r?.[n]},n++;break}}}function*Wa(e){switch(e.type){case"parameter":yield e.value;break;case"stringChunk":break;case"parameterTuple":yield*e.value;break;case"parameterTupleList":for(let t of e.value)yield*t;break}}function lm(e,t,r){let n=0,i=0;for(let s of Pi(e,t,void 0)){let a=0;for(let d of Wa(s))a++;i=Math.max(i,a),n+=a}let o=[[]];for(let s of Pi(e,t,void 0))switch(s.type){case"parameter":{for(let a of o)a.push(s.value);break}case"stringChunk":break;case"parameterTuple":{let a=s.value.length,d=[];if(r&&o.length===1&&a===i&&n>r&&n-a<r){let f=r-(n-a);d=um(s.value,f)}else d=[s.value];o=o.flatMap(f=>d.map(P=>[...f,P]));break}case"parameterTupleList":{let a=s.value.reduce((v,S)=>v+S.length,0),d=[],f=[],P=0;for(let v of s.value)r&&o.length===1&&a===i&&f.length>0&&n-a+P+v.length>r&&(d.push(f),f=[],P=0),f.push(v),P+=v.length;f.length>0&&d.push(f),o=o.flatMap(v=>d.map(S=>[...v,S]));break}}return o}function um(e,t){let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}l();u();c();p();m();function Ga(e){return e.rows.map(t=>t.reduce((r,n,i)=>(r[e.columnNames[i]]=n,r),{}))}function Ka(e){return{columns:e.columnNames,types:e.columnTypes.map(t=>cm(t)),rows:e.rows.map(t=>t.map((r,n)=>tr(r,e.columnTypes[n])))}}function tr(e,t){if(e===null)return null;switch(t){case I.Int32:switch(typeof e){case"number":return Math.trunc(e);case"string":return Math.trunc(Number(e));default:throw new Error(`Cannot serialize value of type ${typeof e} as Int32`)}case I.Int32Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int32Array`);return e.map(r=>tr(r,I.Int32));case I.Int64:switch(typeof e){case"number":return BigInt(Math.trunc(e));case"string":return e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Int64`)}case I.Int64Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int64Array`);return e.map(r=>tr(r,I.Int64));case I.Json:switch(typeof e){case"string":return JSON.parse(e);default:throw new Error(`Cannot serialize value of type ${typeof e} as Json`)}case I.JsonArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as JsonArray`);return e.map(r=>tr(r,I.Json));case I.Boolean:switch(typeof e){case"boolean":return e;case"string":return e==="true"||e==="1";case"number":return e===1;default:throw new Error(`Cannot serialize value of type ${typeof e} as Boolean`)}case I.BooleanArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BooleanArray`);return e.map(r=>tr(r,I.Boolean));default:return e}}function cm(e){switch(e){case I.Int32:return"int";case I.Int64:return"bigint";case I.Float:return"float";case I.Double:return"double";case I.Text:return"string";case I.Enum:return"enum";case I.Bytes:return"bytes";case I.Boolean:return"bool";case I.Character:return"char";case I.Numeric:return"decimal";case I.Json:return"json";case I.Uuid:return"uuid";case I.DateTime:return"datetime";case I.Date:return"date";case I.Time:return"time";case I.Int32Array:return"int-array";case I.Int64Array:return"bigint-array";case I.FloatArray:return"float-array";case I.DoubleArray:return"double-array";case I.TextArray:return"string-array";case I.EnumArray:return"string-array";case I.BytesArray:return"bytes-array";case I.BooleanArray:return"bool-array";case I.CharacterArray:return"char-array";case I.NumericArray:return"decimal-array";case I.JsonArray:return"json-array";case I.UuidArray:return"uuid-array";case I.DateTimeArray:return"datetime-array";case I.DateArray:return"date-array";case I.TimeArray:return"time-array";case I.UnknownNumber:return"unknown";case I.Set:return"string";default:L(e,`Unexpected column type: ${e}`)}}l();u();c();p();m();function za(e,t,r){if(!t.every(n=>Ai(e,n))){let n=pm(e,r),i=mm(r);throw new z(n,i,r.context)}}function Ai(e,t){switch(t.type){case"rowCountEq":return Array.isArray(e)?e.length===t.args:e===null?t.args===0:t.args===1;case"rowCountNeq":return Array.isArray(e)?e.length!==t.args:e===null?t.args!==0:t.args!==1;case"affectedRowCountEq":return e===t.args;case"never":return!1;default:L(t,`Unknown rule type: ${t.type}`)}}function pm(e,t){switch(t.error_identifier){case"RELATION_VIOLATION":return`The change you are trying to make would violate the required relation '${t.context.relation}' between the \`${t.context.modelA}\` and \`${t.context.modelB}\` models.`;case"MISSING_RECORD":return`An operation failed because it depends on one or more records that were required but not found. No record was found for ${t.context.operation}.`;case"MISSING_RELATED_RECORD":{let r=t.context.neededFor?` (needed to ${t.context.neededFor})`:"";return`An operation failed because it depends on one or more records that were required but not found. No '${t.context.model}' record${r} was found for ${t.context.operation} on ${t.context.relationType} relation '${t.context.relation}'.`}case"INCOMPLETE_CONNECT_INPUT":return`An operation failed because it depends on one or more records that were required but not found. Expected ${t.context.expectedRows} records to be connected, found only ${Array.isArray(e)?e.length:e}.`;case"INCOMPLETE_CONNECT_OUTPUT":return`The required connected records were not found. Expected ${t.context.expectedRows} records to be connected after connect operation on ${t.context.relationType} relation '${t.context.relation}', found ${Array.isArray(e)?e.length:e}.`;case"RECORDS_NOT_CONNECTED":return`The records for relation \`${t.context.relation}\` between the \`${t.context.parent}\` and \`${t.context.child}\` models are not connected.`;default:L(t,`Unknown error identifier: ${t}`)}}function mm(e){switch(e.error_identifier){case"RELATION_VIOLATION":return"P2014";case"RECORDS_NOT_CONNECTED":return"P2017";case"INCOMPLETE_CONNECT_OUTPUT":return"P2018";case"MISSING_RECORD":case"MISSING_RELATED_RECORD":case"INCOMPLETE_CONNECT_INPUT":return"P2025";default:L(e,`Unknown error identifier: ${e}`)}}var rr=class e{#t;#e;#r;#n=new en;#l;#i;#s;#o;#u;#a;constructor({transactionManager:t,placeholderValues:r,onQuery:n,tracingHelper:i,serializer:o,rawSerializer:s,provider:a,connectionInfo:d,sqlCommenter:f}){this.#t=t,this.#e=r,this.#r=n,this.#l=i,this.#i=o,this.#s=s??o,this.#o=a,this.#u=d,this.#a=f}static forSql(t){return new e({transactionManager:t.transactionManager,placeholderValues:t.placeholderValues,onQuery:t.onQuery,tracingHelper:t.tracingHelper,serializer:Ga,rawSerializer:Ka,provider:t.provider,connectionInfo:t.connectionInfo,sqlCommenter:t.sqlCommenter})}async run(t,r){let{value:n}=await this.interpretNode(t,r,this.#e,this.#n.snapshot()).catch(i=>ht(i));return n}async interpretNode(t,r,n,i){switch(t.type){case"value":return{value:me(t.args,n,i)};case"seq":{let o;for(let s of t.args)o=await this.interpretNode(s,r,n,i);return o??{value:void 0}}case"get":return{value:n[t.args.name]};case"let":{let o=Object.create(n);for(let s of t.args.bindings){let{value:a}=await this.interpretNode(s.expr,r,o,i);o[s.name]=a}return this.interpretNode(t.args.expr,r,o,i)}case"getFirstNonEmpty":{for(let o of t.args.names){let s=n[o];if(!Za(s))return{value:s}}return{value:[]}}case"concat":{let o=await Promise.all(t.args.map(s=>this.interpretNode(s,r,n,i).then(a=>a.value)));return{value:o.length>0?o.reduce((s,a)=>s.concat(Ci(a)),[]):[]}}case"sum":{let o=await Promise.all(t.args.map(s=>this.interpretNode(s,r,n,i).then(a=>a.value)));return{value:o.length>0?o.reduce((s,a)=>Ee(s)+Ee(a)):0}}case"execute":{let o=vi(t.args,n,i,this.#c()),s=0;for(let a of o){let d=this.#d(a);s+=await this.#m(d,r,()=>r.executeRaw(d).catch(f=>t.args.type==="rawSql"?zn(f):ht(f)))}return{value:s}}case"query":{let o=vi(t.args,n,i,this.#c()),s;for(let a of o){let d=this.#d(a),f=await this.#m(d,r,()=>r.queryRaw(d).catch(P=>t.args.type==="rawSql"?zn(P):ht(P)));s===void 0?s=f:(s.rows.push(...f.rows),s.lastInsertId=f.lastInsertId)}return{value:t.args.type==="rawSql"?this.#s(s):this.#i(s),lastInsertId:s?.lastInsertId}}case"reverse":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);return{value:Array.isArray(o)?o.reverse():o,lastInsertId:s}}case"unique":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);if(!Array.isArray(o))return{value:o,lastInsertId:s};if(o.length>1)throw new Error(`Expected zero or one element, got ${o.length}`);return{value:o[0]??null,lastInsertId:s}}case"required":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);if(Za(o))throw new Error("Required value is empty");return{value:o,lastInsertId:s}}case"mapField":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.records,r,n,i);return{value:Ya(o,t.args.field),lastInsertId:s}}case"join":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.parent,r,n,i);if(o===null)return{value:null,lastInsertId:s};let a=await Promise.all(t.args.children.map(async d=>({joinExpr:d,childRecords:(await this.interpretNode(d.child,r,n,i)).value})));return{value:dm(o,a),lastInsertId:s}}case"transaction":{if(!this.#t.enabled)return this.interpretNode(t.args,r,n,i);let o=this.#t.manager,s=await o.startInternalTransaction(),a=await o.getTransaction(s,"query");try{let d=await this.interpretNode(t.args,a,n,i);return await o.commitTransaction(s.id),d}catch(d){throw await o.rollbackTransaction(s.id),d}}case"dataMap":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return{value:Vs(o,t.args.structure,t.args.enums),lastInsertId:s}}case"validate":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return za(o,t.args.rules,t.args),{value:o,lastInsertId:s}}case"if":{let{value:o}=await this.interpretNode(t.args.value,r,n,i);return Ai(o,t.args.rule)?await this.interpretNode(t.args.then,r,n,i):await this.interpretNode(t.args.else,r,n,i)}case"unit":return{value:void 0};case"diff":{let{value:o}=await this.interpretNode(t.args.from,r,n,i),{value:s}=await this.interpretNode(t.args.to,r,n,i),a=f=>f!==null?Tt(rn(f),t.args.fields):null,d=new Set(Ci(s).map(a));return{value:Ci(o).filter(f=>!d.has(a(f)))}}case"process":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return{value:tn(o,t.args.operations),lastInsertId:s}}case"initializeRecord":{let{lastInsertId:o}=await this.interpretNode(t.args.expr,r,n,i),s={};for(let[a,d]of Object.entries(t.args.fields))s[a]=fm(d,o,n,i);return{value:s,lastInsertId:o}}case"mapRecord":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i),a=o===null?{}:rn(o);for(let[d,f]of Object.entries(t.args.fields))a[d]=gm(f,a[d],n,i);return{value:a,lastInsertId:s}}default:L(t,`Unexpected node type: ${t.type}`)}}#c(){return this.#u?.maxBindValues!==void 0?this.#u.maxBindValues:this.#p()}#p(){if(this.#o!==void 0)switch(this.#o){case"cockroachdb":case"postgres":case"postgresql":case"prisma+postgres":return 32766;case"mysql":return 65535;case"sqlite":return 999;case"sqlserver":return 2098;case"mongodb":return;default:L(this.#o,`Unexpected provider: ${this.#o}`)}}#m(t,r,n){return Jr({query:t,execute:n,provider:this.#o??r.provider,tracingHelper:this.#l,onQuery:this.#r})}#d(t){if(!this.#a||this.#a.plugins.length===0)return t;let r=Bs(this.#a.plugins,{query:this.#a.queryInfo,sql:t.sql});return r?{...t,sql:js(t.sql,r)}:t}};function Za(e){return Array.isArray(e)?e.length===0:e==null}function Ci(e){return Array.isArray(e)?e:[e]}function Ee(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e);throw new Error(`Expected number, got ${typeof e}`)}function rn(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Expected object, got ${typeof e}`)}function Ya(e,t){return Array.isArray(e)?e.map(r=>Ya(r,t)):typeof e=="object"&&e!==null?e[t]??null:e}function dm(e,t){for(let{joinExpr:r,childRecords:n}of t){let i=r.on.map(([a])=>a),o=r.on.map(([,a])=>a),s={};for(let a of Array.isArray(e)?e:[e]){let d=rn(a),f=Tt(d,i);s[f]||(s[f]=[]),s[f].push(d),r.isRelationUnique?d[r.parentField]=null:d[r.parentField]=[]}for(let a of Array.isArray(n)?n:[n]){if(a===null)continue;let d=Tt(rn(a),o);for(let f of s[d]??[])r.isRelationUnique?f[r.parentField]=a:f[r.parentField].push(a)}}return e}function fm(e,t,r,n){switch(e.type){case"value":return me(e.value,r,n);case"lastInsertId":return t;default:L(e,`Unexpected field initializer type: ${e.type}`)}}function gm(e,t,r,n){switch(e.type){case"set":return me(e.value,r,n);case"add":return Ee(t)+Ee(me(e.value,r,n));case"subtract":return Ee(t)-Ee(me(e.value,r,n));case"multiply":return Ee(t)*Ee(me(e.value,r,n));case"divide":{let i=Ee(t),o=Ee(me(e.value,r,n));return o===0?null:i/o}default:L(e,`Unexpected field operation type: ${e.type}`)}}l();u();c();p();m();l();u();c();p();m();async function ym(){return globalThis.crypto??await Promise.resolve().then(()=>(Be(),In))}async function Xa(){return(await ym()).randomUUID()}l();u();c();p();m();async function el(e,t){return new Promise(r=>{e.addEventListener(t,r,{once:!0})})}l();u();c();p();m();var ue=class extends z{name="TransactionManagerError";constructor(t,r){super("Transaction API error: "+t,"P2028",r)}},nr=class extends ue{constructor(){super("Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.")}},nn=class extends ue{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a committed transaction.`)}},on=class extends ue{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a transaction that was rolled back.`)}},sn=class extends ue{constructor(){super("Unable to start a transaction in the given time.")}},an=class extends ue{constructor(t,{timeout:r,timeTaken:n}){super(`A ${t} cannot be executed on an expired transaction. The timeout for this transaction was ${r} ms, however ${n} ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.`,{operation:t,timeout:r,timeTaken:n})}},Pt=class extends ue{constructor(t){super(`Internal Consistency Error: ${t}`)}},ln=class extends ue{constructor(t){super(`Invalid isolation level: ${t}`,{isolationLevel:t})}};var hm=100,vt=X("prisma:client:transactionManager"),wm=()=>({sql:"COMMIT",args:[],argTypes:[]}),bm=()=>({sql:"ROLLBACK",args:[],argTypes:[]}),xm=()=>({sql:'-- Implicit "COMMIT" query via underlying driver',args:[],argTypes:[]}),Em=()=>({sql:'-- Implicit "ROLLBACK" query via underlying driver',args:[],argTypes:[]}),ir=class{transactions=new Map;closedTransactions=[];driverAdapter;transactionOptions;tracingHelper;#t;#e;constructor({driverAdapter:t,transactionOptions:r,tracingHelper:n,onQuery:i,provider:o}){this.driverAdapter=t,this.transactionOptions=r,this.tracingHelper=n,this.#t=i,this.#e=o}async startInternalTransaction(t){let r=t!==void 0?this.#s(t):{};return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async startTransaction(t){let r=t!==void 0?this.#s(t):this.transactionOptions;return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async#r(t){let r={id:await Xa(),status:"waiting",timer:void 0,timeout:t.timeout,startedAt:Date.now(),transaction:void 0},n=new AbortController,i=tl(()=>n.abort(),t.maxWait);i?.unref?.();let o=this.driverAdapter.startTransaction(t.isolationLevel).catch(ht);switch(r.transaction=await Promise.race([o.finally(()=>clearTimeout(i)),el(n.signal,"abort").then(()=>{})]),this.transactions.set(r.id,r),r.status){case"waiting":if(n.signal.aborted)throw o.then(s=>s.rollback()).catch(s=>vt("error in discarded transaction:",s)),await this.#i(r,"timed_out"),new sn;return r.status="running",r.timer=this.#l(r.id,t.timeout),{id:r.id};case"timed_out":case"running":case"committed":case"rolled_back":throw new Pt(`Transaction in invalid state ${r.status} although it just finished startup.`);default:L(r.status,"Unknown transaction status.")}}async commitTransaction(t){return await this.tracingHelper.runInChildSpan("commit_transaction",async()=>{let r=this.#n(t,"commit");await this.#i(r,"committed")})}async rollbackTransaction(t){return await this.tracingHelper.runInChildSpan("rollback_transaction",async()=>{let r=this.#n(t,"rollback");await this.#i(r,"rolled_back")})}async getTransaction(t,r){let n=this.#n(t.id,r);if(n.status==="closing"&&(await n.closing,n=this.#n(t.id,r)),!n.transaction)throw new nr;return n.transaction}#n(t,r){let n=this.transactions.get(t);if(!n){let i=this.closedTransactions.find(o=>o.id===t);if(i)switch(vt("Transaction already closed.",{transactionId:t,status:i.status}),i.status){case"closing":case"waiting":case"running":throw new Pt("Active transaction found in closed transactions list.");case"committed":throw new nn(r);case"rolled_back":throw new on(r);case"timed_out":throw new an(r,{timeout:i.timeout,timeTaken:Date.now()-i.startedAt})}else throw vt("Transaction not found.",t),new nr}if(["committed","rolled_back","timed_out"].includes(n.status))throw new Pt("Closed transaction found in active transactions map.");return n}async cancelAllTransactions(){await Promise.allSettled([...this.transactions.values()].map(t=>this.#i(t,"rolled_back")))}#l(t,r){let n=Date.now(),i=tl(async()=>{vt("Transaction timed out.",{transactionId:t,timeoutStartedAt:n,timeout:r});let o=this.transactions.get(t);o&&["running","waiting"].includes(o.status)?await this.#i(o,"timed_out"):vt("Transaction already committed or rolled back when timeout happened.",t)},r);return i?.unref?.(),i}async#i(t,r){let n=async()=>{vt("Closing transaction.",{transactionId:t.id,status:r});try{if(t.transaction&&r==="committed")if(t.transaction.options.usePhantomQuery)await this.#o(xm(),t.transaction,()=>t.transaction.commit());else{let i=wm();await this.#o(i,t.transaction,()=>t.transaction.executeRaw(i)).then(()=>t.transaction.commit(),o=>{let s=()=>Promise.reject(o);return t.transaction.rollback().then(s,s)})}else if(t.transaction)if(t.transaction.options.usePhantomQuery)await this.#o(Em(),t.transaction,()=>t.transaction.rollback());else{let i=bm();try{await this.#o(i,t.transaction,()=>t.transaction.executeRaw(i))}finally{await t.transaction.rollback()}}}finally{t.status=r,clearTimeout(t.timer),t.timer=void 0,this.transactions.delete(t.id),this.closedTransactions.push(t),this.closedTransactions.length>hm&&this.closedTransactions.shift()}};t.status==="closing"?(await t.closing,this.#n(t.id,r==="committed"?"commit":"rollback")):await Object.assign(t,{status:"closing",reason:r,closing:n()}).closing}#s(t){if(!t.timeout)throw new ue("timeout is required");if(!t.maxWait)throw new ue("maxWait is required");if(t.isolationLevel==="SNAPSHOT")throw new ln(t.isolationLevel);return{...t,timeout:t.timeout,maxWait:t.maxWait}}#o(t,r,n){return Jr({query:t,execute:n,provider:this.#e??r.provider,tracingHelper:this.tracingHelper,onQuery:this.#t})}};function tl(e,t){return t!==void 0?setTimeout(e,t):void 0}var Y=require("@prisma/client-runtime-utils");var un="7.2.0";l();u();c();p();m();function rl(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}l();u();c();p();m();l();u();c();p();m();function nl(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}l();u();c();p();m();function il(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}l();u();c();p();m();var ol=Ue(Ao());function sl({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,ol.default)({user:t,repo:r,template:n,title:e,body:i})}function al({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:o,query:s}){let a=fo(6e3-(s?.length??0)),d=il(nt(a)),f=n?`# Description
\`\`\`
${n}
\`\`\``:"",P=nt(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${g.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${o?.padEnd(19)}|

${f}

## Logs
\`\`\`
${d}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?nl(s):""}
\`\`\`
`),v=sl({title:r,body:P});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${yr(v)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}l();u();c();p();m();var cn=class e{#t;#e;#r;#n;constructor(t,r,n){this.#t=t,this.#e=r,this.#r=n,this.#n=r.getConnectionInfo?.()}static async connect(t){let r,n;try{r=await t.driverAdapterFactory.connect(),n=new ir({driverAdapter:r,transactionOptions:t.transactionOptions,tracingHelper:t.tracingHelper,onQuery:t.onQuery,provider:t.provider})}catch(i){throw await r?.dispose(),i}return new e(t,r,n)}getConnectionInfo(){let t=this.#n??{supportsRelationJoins:!1};return Promise.resolve({provider:this.#e.provider,connectionInfo:t})}async execute({plan:t,placeholderValues:r,transaction:n,batchIndex:i,queryInfo:o}){let s=n?await this.#r.getTransaction(n,i!==void 0?"batch query":"query"):this.#e;return await rr.forSql({transactionManager:n?{enabled:!1}:{enabled:!0,manager:this.#r},placeholderValues:r,onQuery:this.#t.onQuery,tracingHelper:this.#t.tracingHelper,provider:this.#t.provider,connectionInfo:this.#n,sqlCommenter:this.#t.sqlCommenters&&{plugins:this.#t.sqlCommenters,queryInfo:o}}).run(t,s)}async startTransaction(t){return{...await this.#r.startTransaction(t),payload:void 0}}async commitTransaction(t){await this.#r.commitTransaction(t.id)}async rollbackTransaction(t){await this.#r.rollbackTransaction(t.id)}async disconnect(){try{await this.#r.cancelAllTransactions()}finally{await this.#e.dispose()}}apiKey(){return null}};l();u();c();p();m();var dl=require("@prisma/client-runtime-utils");l();u();c();p();m();var pn=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function ll(e,t,r){let n=r||{},i=n.encode||encodeURIComponent;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!pn.test(e))throw new TypeError("argument name is invalid");let o=i(t);if(o&&!pn.test(o))throw new TypeError("argument val is invalid");let s=e+"="+o;if(n.maxAge!==void 0&&n.maxAge!==null){let a=n.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!pn.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!pn.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!Pm(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":{s+="; Priority=Low";break}case"medium":{s+="; Priority=Medium";break}case"high":{s+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:{s+="; SameSite=Strict";break}case"lax":{s+="; SameSite=Lax";break}case"strict":{s+="; SameSite=Strict";break}case"none":{s+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s}function Pm(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function ul(e,t){let r=(e||"").split(";").filter(d=>typeof d=="string"&&!!d.trim()),n=r.shift()||"",i=vm(n),o=i.name,s=i.value;try{s=t?.decode===!1?s:(t?.decode||decodeURIComponent)(s)}catch{}let a={name:o,value:s};for(let d of r){let f=d.split("="),P=(f.shift()||"").trimStart().toLowerCase(),v=f.join("=");switch(P){case"expires":{a.expires=new Date(v);break}case"max-age":{a.maxAge=Number.parseInt(v,10);break}case"secure":{a.secure=!0;break}case"httponly":{a.httpOnly=!0;break}case"samesite":{a.sameSite=v;break}default:a[P]=v}}return a}function vm(e){let t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var mn=class extends Error{clientVersion;cause;constructor(t,r){super(t),this.clientVersion=r.clientVersion,this.cause=r.cause}get[Symbol.toStringTag](){return this.name}};var dn=class extends mn{isRetryable;constructor(t,r){super(t,r),this.isRetryable=r.isRetryable??!0}};l();u();c();p();m();function cl(e,t){return{...e,isRetryable:t}}var ze=class extends dn{name="InvalidDatasourceError";code="P6001";constructor(t,r){super(t,cl(r,!1))}};Nt(ze,"InvalidDatasourceError");function pl(e){let t={clientVersion:e.clientVersion},r;try{r=new URL(e.accelerateUrl)}catch(d){let f=d.message;throw new ze(`Error validating \`accelerateUrl\`, the URL cannot be parsed, reason: ${f}`,t)}let{protocol:n,searchParams:i}=r;if(n!=="prisma:"&&n!==xr)throw new ze("Error validating `accelerateUrl`: the URL must start with the protocol `prisma://` or `prisma+postgres://`",t);let o=i.get("api_key");if(o===null||o.length<1)throw new ze("Error validating `accelerateUrl`: the URL must contain a valid API key",t);let s=On(r)?"http:":"https:";g.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&r.searchParams.has("use_http")&&(s="http:");let a=new URL(r.href.replace(n,s));return{apiKey:o,url:a}}l();u();c();p();m();var ml=Ue(bo()),fn=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:t,tracingHelper:r,logLevel:n,logQueries:i,engineHash:o}){this.apiKey=t,this.tracingHelper=r,this.logLevel=n,this.logQueries=i,this.engineHash=o}build({traceparent:t,transactionId:r}={}){let n={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":ml.enginesVersion};this.tracingHelper.isEnabled()&&(n.traceparent=t??this.tracingHelper.getTraceParent()),r&&(n["X-Transaction-Id"]=r);let i=this.#t();return i.length>0&&(n["X-Capture-Telemetry"]=i.join(", ")),n}#t(){let t=[];return this.tracingHelper.isEnabled()&&t.push("tracing"),this.logLevel&&t.push(this.logLevel),this.logQueries&&t.push("query"),t}};l();u();c();p();m();function Am(e){return e[0]*1e3+e[1]/1e6}function Si(e){return new Date(Am(e))}var fl=X("prisma:client:clientEngine:remoteExecutor"),gn=class{#t;#e;#r;#n;#l;#i;constructor(t){this.#t=t.clientVersion,this.#n=t.logEmitter,this.#l=t.tracingHelper,this.#i=t.sqlCommenters;let{url:r,apiKey:n}=pl({clientVersion:t.clientVersion,accelerateUrl:t.accelerateUrl});this.#r=new Ri(r),this.#e=new fn({apiKey:n,engineHash:t.clientVersion,logLevel:t.logLevel,logQueries:t.logQueries,tracingHelper:t.tracingHelper})}async getConnectionInfo(){return await this.#s({path:"/connection-info",method:"GET"})}async execute({plan:t,placeholderValues:r,batchIndex:n,model:i,operation:o,transaction:s,customFetch:a,queryInfo:d}){let f=d&&this.#i?.length?Hr(this.#i,{query:d}):void 0;return(await this.#s({path:s?`/transaction/${s.id}/query`:"/query",method:"POST",body:{model:i,operation:o,plan:t,params:r,comments:f&&Object.keys(f).length>0?f:void 0},batchRequestIdx:n,fetch:a})).data}async startTransaction(t){return{...await this.#s({path:"/transaction/start",method:"POST",body:t}),payload:void 0}}async commitTransaction(t){await this.#s({path:`/transaction/${t.id}/commit`,method:"POST"})}async rollbackTransaction(t){await this.#s({path:`/transaction/${t.id}/rollback`,method:"POST"})}disconnect(){return Promise.resolve()}apiKey(){return this.#e.apiKey}async#s({path:t,method:r,body:n,fetch:i=globalThis.fetch,batchRequestIdx:o}){let s=await this.#r.request({method:r,path:t,headers:this.#e.build(),body:n,fetch:i});s.ok||await this.#o(s,o);let a=await s.json();return typeof a.extensions=="object"&&a.extensions!==null&&this.#u(a.extensions),a}async#o(t,r){let n=t.headers.get("Prisma-Error-Code"),i=await t.text(),o,s=i;try{o=JSON.parse(i)}catch{o={}}typeof o.code=="string"&&(n=o.code),typeof o.error=="string"?s=o.error:typeof o.message=="string"?s=o.message:typeof o.InvalidRequestError=="object"&&o.InvalidRequestError!==null&&typeof o.InvalidRequestError.reason=="string"&&(s=o.InvalidRequestError.reason),s=s||`HTTP ${t.status}: ${t.statusText}`;let a=typeof o.meta=="object"&&o.meta!==null?o.meta:o;throw new dl.PrismaClientKnownRequestError(s,{clientVersion:this.#t,code:n??"P6000",batchRequestIdx:r,meta:a})}#u(t){if(t.logs)for(let r of t.logs)this.#a(r);t.spans&&this.#l.dispatchEngineSpans(t.spans)}#a(t){switch(t.level){case"debug":case"trace":fl(t);break;case"error":case"warn":case"info":{this.#n.emit(t.level,{timestamp:Si(t.timestamp),message:t.attributes.message??"",target:t.target??"RemoteExecutor"});break}case"query":{this.#n.emit("query",{query:t.attributes.query??"",timestamp:Si(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"RemoteExecutor"});break}default:throw new Error(`Unexpected log level: ${t.level}`)}}},Ri=class{#t;#e;#r;constructor(t){this.#t=t,this.#e=new Map}async request({method:t,path:r,headers:n,body:i,fetch:o}){let s=new URL(r,this.#t),a=this.#n(s);a&&(n.Cookie=a),this.#r&&(n["Accelerate-Query-Engine-Jwt"]=this.#r);let d=await o(s.href,{method:t,body:i!==void 0?JSON.stringify(i):void 0,headers:n});return fl(t,s,d.status,d.statusText),this.#r=d.headers.get("Accelerate-Query-Engine-Jwt")??void 0,this.#l(s,d),d}#n(t){let r=[],n=new Date;for(let[i,o]of this.#e){if(o.expires&&o.expires<n){this.#e.delete(i);continue}let s=o.domain??t.hostname,a=o.path??"/";t.hostname.endsWith(s)&&t.pathname.startsWith(a)&&r.push(ll(o.name,o.value))}return r.length>0?r.join("; "):void 0}#l(t,r){let n=r.headers.getSetCookie?.()||[];if(n.length===0){let i=r.headers.get("Set-Cookie");i&&n.push(i)}for(let i of n){let o=ul(i),s=o.domain??t.hostname,a=o.path??"/",d=`${s}:${a}:${o.name}`;this.#e.set(d,{name:o.name,value:o.value,domain:s,path:a,expires:o.expires})}}};l();u();c();p();m();var Oi=require("@prisma/client-runtime-utils"),Ii={},gl={async loadQueryCompiler(e){let{clientVersion:t,compilerWasm:r}=e;if(r===void 0)throw new Oi.PrismaClientInitializationError("WASM query compiler was unexpectedly `undefined`",t);let n;return e.activeProvider===void 0||Ii[e.activeProvider]===void 0?(n=(async()=>{let i=await r.getRuntime(),o=await r.getQueryCompilerWasmModule();if(o==null)throw new Oi.PrismaClientInitializationError("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let s={"./query_compiler_bg.js":i},a=new WebAssembly.Instance(o,s),d=a.exports.__wbindgen_start;return i.__wbg_set_wasm(a.exports),d(),i.QueryCompiler})(),e.activeProvider!==void 0&&(Ii[e.activeProvider]=n)):n=Ii[e.activeProvider],await n}};var Cm="P2038",or=X("prisma:client:clientEngine"),hl=globalThis;hl.PRISMA_WASM_PANIC_REGISTRY={set_message(e){throw new Y.PrismaClientRustPanicError(e,un)}};var sr=class{name="ClientEngine";#t;#e={type:"disconnected"};#r;#n;config;datamodel;logEmitter;logQueries;logLevel;tracingHelper;#l;constructor(t,r){if(t.accelerateUrl!==void 0)this.#n={remote:!0,accelerateUrl:t.accelerateUrl};else if(t.adapter)this.#n={remote:!1,driverAdapterFactory:t.adapter},or("Using driver adapter: %O",t.adapter);else throw new Y.PrismaClientInitializationError("Missing configured driver adapter. Engine type `client` requires an active driver adapter. Please check your PrismaClient initialization code.",t.clientVersion,Cm);this.#r=r??gl,this.config=t,this.logQueries=t.logQueries??!1,this.logLevel=t.logLevel??"error",this.logEmitter=t.logEmitter,this.datamodel=t.inlineSchema,this.tracingHelper=t.tracingHelper,t.enableDebugLogs&&(this.logLevel="debug"),this.logQueries&&(this.#l=n=>{this.logEmitter.emit("query",{...n,params:Wt(n.params),target:"ClientEngine"})})}async#i(){switch(this.#e.type){case"disconnected":{let t=this.tracingHelper.runInChildSpan("connect",async()=>{let r,n;try{r=await this.#s(),n=await this.#o(r)}catch(o){throw this.#e={type:"disconnected"},n?.free(),await r?.disconnect(),o}let i={executor:r,queryCompiler:n};return this.#e={type:"connected",engine:i},i});return this.#e={type:"connecting",promise:t},await t}case"connecting":return await this.#e.promise;case"connected":return this.#e.engine;case"disconnecting":return await this.#e.promise,await this.#i()}}async#s(){return this.#n.remote?new gn({clientVersion:this.config.clientVersion,accelerateUrl:this.#n.accelerateUrl,logEmitter:this.logEmitter,logLevel:this.logLevel,logQueries:this.logQueries,tracingHelper:this.tracingHelper,sqlCommenters:this.config.sqlCommenters}):await cn.connect({driverAdapterFactory:this.#n.driverAdapterFactory,tracingHelper:this.tracingHelper,transactionOptions:{...this.config.transactionOptions,isolationLevel:this.#m(this.config.transactionOptions.isolationLevel)},onQuery:this.#l,provider:this.config.activeProvider,sqlCommenters:this.config.sqlCommenters})}async#o(t){let r=this.#t;r===void 0&&(r=await this.#r.loadQueryCompiler(this.config),this.#t=r);let{provider:n,connectionInfo:i}=await t.getConnectionInfo();try{return this.#p(()=>new r({datamodel:this.datamodel,provider:n,connectionInfo:i}),void 0,!1)}catch(o){throw this.#u(o)}}#u(t){if(t instanceof Y.PrismaClientRustPanicError)return t;try{let r=JSON.parse(t.message);return new Y.PrismaClientInitializationError(r.message,this.config.clientVersion,r.error_code)}catch{return t}}#a(t,r){if(t instanceof Y.PrismaClientInitializationError)return t;if(t.code==="GenericFailure"&&t.message?.startsWith("PANIC:"))return new Y.PrismaClientRustPanicError(yl(this,t.message,r),this.config.clientVersion);if(t instanceof z)return new Y.PrismaClientKnownRequestError(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion});try{let n=JSON.parse(t);return new Y.PrismaClientUnknownRequestError(`${n.message}
${n.backtrace}`,{clientVersion:this.config.clientVersion})}catch{return t}}#c(t){return t instanceof Y.PrismaClientRustPanicError?t:typeof t.message=="string"&&typeof t.code=="string"?new Y.PrismaClientKnownRequestError(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion}):typeof t.message=="string"?new Y.PrismaClientUnknownRequestError(t.message,{clientVersion:this.config.clientVersion}):t}#p(t,r,n=!0){let i=hl.PRISMA_WASM_PANIC_REGISTRY.set_message,o;globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=s=>{o=s};try{return t()}finally{if(globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=i,o)throw this.#t=void 0,n&&this.stop().catch(s=>or("failed to disconnect:",s)),new Y.PrismaClientRustPanicError(yl(this,o,r),this.config.clientVersion)}}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the client engine, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){await this.#i()}async stop(){switch(this.#e.type){case"disconnected":return;case"connecting":return await this.#e.promise,await this.stop();case"connected":{let t=this.#e.engine,r=this.tracingHelper.runInChildSpan("disconnect",async()=>{try{await t.executor.disconnect(),t.queryCompiler.free()}finally{this.#e={type:"disconnected"}}});return this.#e={type:"disconnecting",promise:r},await r}case"disconnecting":return await this.#e.promise}}version(){return"unknown"}async transaction(t,r,n){let i,{executor:o}=await this.#i();try{if(t==="start"){let s=n;i=await o.startTransaction({...s,isolationLevel:this.#m(s.isolationLevel)})}else if(t==="commit"){let s=n;await o.commitTransaction(s)}else if(t==="rollback"){let s=n;await o.rollbackTransaction(s)}else Ae(t,"Invalid transaction action.")}catch(s){throw this.#a(s)}return i?{id:i.id,payload:void 0}:void 0}async request(t,{interactiveTransaction:r,customDataProxyFetch:n}){or("sending request");let i=JSON.stringify(t),{executor:o,queryCompiler:s}=await this.#i().catch(d=>{throw this.#a(d,i)}),a;try{a=this.#p(()=>this.#d({queries:[t],execute:()=>s.compile(i)}))}catch(d){throw this.#c(d)}try{or("query plan created",a);let d={},f=await o.execute({plan:a,model:t.modelName,operation:t.action,placeholderValues:d,transaction:r,batchIndex:void 0,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",modelName:t.modelName,action:t.action,query:t.query}});return or("query plan executed"),{data:{[t.action]:f}}}catch(d){throw this.#a(d,i)}}async requestBatch(t,{transaction:r,customDataProxyFetch:n}){if(t.length===0)return[];let i=t[0].action,o=t[0].modelName,s=JSON.stringify(rl(t,r)),{executor:a,queryCompiler:d}=await this.#i().catch(P=>{throw this.#a(P,s)}),f;try{f=this.#p(()=>this.#d({queries:t,execute:()=>d.compileBatch(s)}))}catch(P){throw this.#c(P)}try{let P;r?.kind==="itx"&&(P=r.options);let v={};switch(f.type){case"multi":{if(r?.kind!=="itx"){let M=r?.options.isolationLevel?{...this.config.transactionOptions,isolationLevel:r.options.isolationLevel}:this.config.transactionOptions;P=await this.transaction("start",{},M)}let S=[],C=!1;for(let[M,R]of f.plans.entries())try{let k=await a.execute({plan:R,placeholderValues:v,model:t[M].modelName,operation:t[M].action,batchIndex:M,transaction:P,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",...t[M]}});S.push({data:{[t[M].action]:k}})}catch(k){S.push(k),C=!0;break}return P!==void 0&&r?.kind!=="itx"&&(C?await this.transaction("rollback",{},P):await this.transaction("commit",{},P)),S}case"compacted":{if(!t.every(M=>M.action===i&&M.modelName===o)){let M=t.map(k=>k.action).join(", "),R=t.map(k=>k.modelName).join(", ");throw new Error(`Internal error: All queries in a compacted batch must have the same action and model name, but received actions: [${M}] and model names: [${R}]. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.`)}if(o===void 0)throw new Error("Internal error: A compacted batch cannot contain raw queries. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.");let S=await a.execute({plan:f.plan,placeholderValues:v,model:o,operation:i,batchIndex:void 0,transaction:P,customFetch:n?.(globalThis.fetch),queryInfo:{type:"compacted",action:i,modelName:o,queries:t}});return Us(S,f).map(M=>({data:{[i]:M}}))}}}catch(P){throw this.#a(P,s)}}async apiKey(){let{executor:t}=await this.#i();return t.apiKey()}#m(t){switch(t){case void 0:return;case"ReadUncommitted":return"READ UNCOMMITTED";case"ReadCommitted":return"READ COMMITTED";case"RepeatableRead":return"REPEATABLE READ";case"Serializable":return"SERIALIZABLE";case"Snapshot":return"SNAPSHOT";default:throw new Y.PrismaClientKnownRequestError(`Inconsistent column data: Conversion failed: Invalid isolation level \`${t}\``,{code:"P2023",clientVersion:this.config.clientVersion,meta:{providedIsolationLevel:t}})}}#d({queries:t,execute:r}){return this.tracingHelper.runInChildSpan({name:"compile",attributes:{models:t.map(n=>n.modelName).filter(n=>n!==void 0),actions:t.map(n=>n.action)}},r)}};function yl(e,t,r){return al({binaryTarget:void 0,title:t,version:e.config.clientVersion,engineVersion:"unknown",database:e.config.activeProvider,query:r})}function wl(e){return new sr(e)}l();u();c();p();m();var bl=e=>({command:e});l();u();c();p();m();var Sl=require("@prisma/client-runtime-utils");l();u();c();p();m();var xl=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);l();u();c();p();m();var Pl=require("@prisma/client-runtime-utils");function At(e){try{return El(e,"fast")}catch{return El(e,"slow")}}function El(e,t){return JSON.stringify(e.map(r=>vl(r,t)))}function vl(e,t){if(Array.isArray(e))return e.map(r=>vl(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(it(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(Pl.Decimal.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(y.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(Sm(e))return{prisma__type:"bytes",prisma__value:y.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:y.from(r,n,i).toString("base64")}}return typeof e=="object"&&t==="slow"?Al(e):e}function Sm(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function Al(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(Tl);let t={};for(let r of Object.keys(e))t[r]=Tl(e[r]);return t}function Tl(e){return typeof e=="bigint"?e.toString():Al(e)}var Rm=/^(\s*alter\s)/i,Cl=X("prisma:client");function ki(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&Rm.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var Mi=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(Ur(r))n=r.sql,i={values:At(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[o,...s]=r;n=o,i={values:At(s||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,i={values:At(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,i={values:At(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=xl(r),i={values:At(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?Cl(`prisma.${e}(${n}, ${i.values})`):Cl(`prisma.${e}(${n})`),{query:n,parameters:i}},Rl={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new Sl.Sql(t,r)}},Il={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};l();u();c();p();m();function Di(e){return function(r,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Ol(r(s)):Ol(r(s))}catch(a){return Promise.reject(a)}};return{get spec(){return n},then(s,a){return o().then(s,a)},catch(s){return o().catch(s)},finally(s){return o().finally(s)},requestTransaction(s){let a=o(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:"PrismaPromise"}}}function Ol(e){return typeof e.then=="function"?e:Promise.resolve(e)}l();u();c();p();m();l();u();c();p();m();l();u();c();p();m();var kl={name:"@prisma/instrumentation-contract",version:"7.2.0",description:"Shared types and utilities for Prisma instrumentation",main:"dist/index.js",module:"dist/index.mjs",types:"dist/index.d.ts",exports:{".":{require:{types:"./dist/index.d.ts",default:"./dist/index.js"},import:{types:"./dist/index.d.mts",default:"./dist/index.mjs"}}},license:"Apache-2.0",homepage:"https://www.prisma.io",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/instrumentation-contract"},bugs:"https://github.com/prisma/prisma/issues",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",prepublishOnly:"pnpm run build",test:"vitest run"},files:["dist"],sideEffects:!1,devDependencies:{"@opentelemetry/api":"1.9.0"},peerDependencies:{"@opentelemetry/api":"^1.8"}};var Om=kl.version.split(".")[0],km="PRISMA_INSTRUMENTATION",Mm=`V${Om}_PRISMA_INSTRUMENTATION`,Ml=globalThis;function Dl(){let e=Ml[Mm];return e?.helper?e.helper:Ml[km]?.helper}var Dm={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},Ni=class{isEnabled(){return this.getTracingHelper().isEnabled()}getTraceParent(t){return this.getTracingHelper().getTraceParent(t)}dispatchEngineSpans(t){return this.getTracingHelper().dispatchEngineSpans(t)}getActiveContext(){return this.getTracingHelper().getActiveContext()}runInChildSpan(t,r){return this.getTracingHelper().runInChildSpan(t,r)}getTracingHelper(){return Dl()??Dm}};function Nl(){return new Ni}l();u();c();p();m();function Ll(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}l();u();c();p();m();function _l(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}l();u();c();p();m();var $l=require("@prisma/client-runtime-utils");l();u();c();p();m();function Fl(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(Li(e.query.arguments)),t.push(Li(e.query.selection)),t.join("")}function Li(e){return`(${Object.keys(e).sort().map(r=>{let n=e[r];return typeof n=="object"&&n!==null?`(${r} ${Li(n)})`:r}).join(" ")})`}l();u();c();p();m();var Nm={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function _i(e){return Nm[e]}l();u();c();p();m();var yn=class{constructor(t){this.options=t;this.batches={}}batches;tickActive=!1;request(t){let r=this.options.batchBy(t);return r?(this.batches[r]||(this.batches[r]=[],this.tickActive||(this.tickActive=!0,g.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((n,i)=>{this.batches[r].push({request:t,resolve:n,reject:i})})):this.options.singleLoader(t)}dispatchBatches(){for(let t in this.batches){let r=this.batches[t];delete this.batches[t],r.length===1?this.options.singleLoader(r[0].request).then(n=>{n instanceof Error?r[0].reject(n):r[0].resolve(n)}).catch(n=>{r[0].reject(n)}):(r.sort((n,i)=>this.options.batchOrder(n.request,i.request)),this.options.batchLoader(r.map(n=>n.request)).then(n=>{if(n instanceof Error)for(let i=0;i<r.length;i++)r[i].reject(n);else for(let i=0;i<r.length;i++){let o=n[i];o instanceof Error?r[i].reject(o):r[i].resolve(o)}}).catch(n=>{for(let i=0;i<r.length;i++)r[i].reject(n)}))}}get[Symbol.toStringTag](){return"DataLoader"}};l();u();c();p();m();var Ul=require("@prisma/client-runtime-utils");function Ze(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:i}=y.from(t,"base64");return new Uint8Array(r,n,i)}case"decimal":return new Ul.Decimal(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>Ze("bigint",r));case"bytes-array":return t.map(r=>Ze("bytes",r));case"decimal-array":return t.map(r=>Ze("decimal",r));case"datetime-array":return t.map(r=>Ze("datetime",r));case"date-array":return t.map(r=>Ze("date",r));case"time-array":return t.map(r=>Ze("time",r));default:return t}}function hn(e){let t=[],r=Lm(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],o={...r};for(let s=0;s<i.length;s++)o[e.columns[s]]=Ze(e.types[s],i[s]);t.push(o)}return t}function Lm(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var _m=X("prisma:client:request_handler"),wn=class{client;dataloader;logEmitter;constructor(t,r){this.logEmitter=r,this.client=t,this.dataloader=new yn({batchLoader:Rs(async({requests:n,customDataProxyFetch:i})=>{let{transaction:o,otelParentCtx:s}=n[0],a=n.map(v=>v.protocolQuery),d=this.client._tracingHelper.getTraceParent(s),f=n.some(v=>_i(v.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:d,transaction:Fm(o),containsWrite:f,customDataProxyFetch:i})).map((v,S)=>{if(v instanceof Error)return v;try{return this.mapQueryEngineResult(n[S],v)}catch(C){return C}})}),singleLoader:async n=>{let i=n.transaction?.kind==="itx"?ql(n.transaction):void 0,o=await this.client._engine.request(n.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:i,isWrite:_i(n.protocolQuery.action),customDataProxyFetch:n.customDataProxyFetch});return this.mapQueryEngineResult(n,o)},batchBy:n=>n.transaction?.id?`transaction-${n.transaction.id}`:Fl(n.protocolQuery),batchOrder(n,i){return n.transaction?.kind==="batch"&&i.transaction?.kind==="batch"?n.transaction.index-i.transaction.index:0}})}async request(t){try{return await this.dataloader.request(t)}catch(r){let{clientMethod:n,callsite:i,transaction:o,args:s,modelName:a}=t;this.handleAndLogRequestError({error:r,clientMethod:n,callsite:i,transaction:o,args:s,modelName:a,globalOmit:t.globalOmit})}}mapQueryEngineResult({dataPath:t,unpacker:r},n){let i=n?.data,o=this.unpack(i,t,r);return g.env.PRISMA_CLIENT_GET_TIME?{data:o}:o}handleAndLogRequestError(t){try{this.handleRequestError(t)}catch(r){throw this.logEmitter&&this.logEmitter.emit("error",{message:r.message,target:t.clientMethod,timestamp:new Date}),r}}handleRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:o,modelName:s,globalOmit:a}){if(_m(t),Um(t,i))throw t;if(t instanceof D.PrismaClientKnownRequestError&&$m(t)){let f=Vl(t.meta);Mr({args:o,errors:[f],callsite:n,errorFormat:this.client._errorFormat,originalMethod:r,clientVersion:this.client._clientVersion,globalOmit:a})}let d=t.message;if(n&&(d=vr({callsite:n,originalMethod:r,isPanic:t.isPanic,showColors:this.client._errorFormat==="pretty",message:d})),d=this.sanitizeMessage(d),t.code){let f=s?{modelName:s,...t.meta}:t.meta;throw new D.PrismaClientKnownRequestError(d,{code:t.code,clientVersion:this.client._clientVersion,meta:f,batchRequestIdx:t.batchRequestIdx})}else{if(t.isPanic)throw new D.PrismaClientRustPanicError(d,this.client._clientVersion);if(t instanceof D.PrismaClientUnknownRequestError)throw new D.PrismaClientUnknownRequestError(d,{clientVersion:this.client._clientVersion,batchRequestIdx:t.batchRequestIdx});if(t instanceof D.PrismaClientInitializationError)throw new D.PrismaClientInitializationError(d,this.client._clientVersion);if(t instanceof D.PrismaClientRustPanicError)throw new D.PrismaClientRustPanicError(d,this.client._clientVersion)}throw t.clientVersion=this.client._clientVersion,t}sanitizeMessage(t){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?nt(t):t}unpack(t,r,n){if(!t||(t.data&&(t=t.data),!t))return t;let i=Object.keys(t)[0],o=Object.values(t)[0],s=r.filter(f=>f!=="select"&&f!=="include"),a=Qn(o,s),d=i==="queryRaw"?hn(a):De(a);return n?n(d):d}get[Symbol.toStringTag](){return"RequestHandler"}};function Fm(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:ql(e)};Ae(e,"Unknown transaction kind")}}function ql(e){return{id:e.id,payload:e.payload}}function Um(e,t){return(0,$l.hasBatchIndex)(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function $m(e){return e.code==="P2009"||e.code==="P2012"}function Vl(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(Vl)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}l();u();c();p();m();var Fi=un;l();u();c();p();m();var Jl=Ue(_n());l();u();c();p();m();var j=class extends Error{constructor(t){super(t+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};Nt(j,"PrismaClientConstructorValidationError");var Bl=["errorFormat","adapter","accelerateUrl","log","transactionOptions","omit","comments","__internal"],jl=["pretty","colorless","minimal"],Ql=["info","query","warn","error"],qm={adapter:()=>{},accelerateUrl:e=>{if(e!==void 0){if(typeof e!="string")throw new j(`Invalid value ${JSON.stringify(e)} for "accelerateUrl" provided to PrismaClient constructor.`);if(e.trim().length===0)throw new j('"accelerateUrl" provided to PrismaClient constructor must be a non-empty string.')}},errorFormat:e=>{if(e){if(typeof e!="string")throw new j(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!jl.includes(e)){let t=ar(e,jl);throw new j(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new j(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!Ql.includes(r)){let n=ar(r,Ql);throw new j(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let o=["stdout","event"];if(!o.includes(i)){let s=ar(i,o);throw new j(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${s}`)}}};if(r&&typeof r=="object")for(let[i,o]of Object.entries(r))if(n[i])n[i](o);else throw new j(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new j(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new j(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new j('"omit" option is expected to be an object.');if(e===null)throw new j('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let o=jm(n,t.runtimeDataModel);if(!o){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[s,a]of Object.entries(i)){let d=o.fields.find(f=>f.name===s);if(!d){r.push({kind:"UnknownField",modelKey:n,fieldName:s});continue}if(d.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:s});continue}typeof a!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:s})}}if(r.length>0)throw new j(Qm(e,r))},comments:e=>{if(e!==void 0){if(!Array.isArray(e))throw new j(`Invalid value ${JSON.stringify(e)} for "comments" provided to PrismaClient constructor. Expected an array of SQL commenter plugins.`);for(let t=0;t<e.length;t++)if(typeof e[t]!="function")throw new j(`Invalid value at index ${t} for "comments" provided to PrismaClient constructor. Each plugin must be a function.`)}},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new j(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=ar(r,t);throw new j(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function Vm(e){let t=e.adapter!==void 0,r=e.accelerateUrl!==void 0;if(t&&r)throw new j('The "adapter" and "accelerateUrl" options are mutually exclusive. Please provide only one of them.');if(!t&&!r)throw new j('Using engine type "client" requires either "adapter" or "accelerateUrl" to be provided to PrismaClient constructor.')}function Wl(e,t){for(let[r,n]of Object.entries(e)){if(!Bl.includes(r)){let i=ar(r,Bl);throw new j(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}qm[r](n,t)}Vm(e)}function ar(e,t){if(t.length===0||typeof e!="string")return"";let r=Bm(e,t);return r?` Did you mean "${r}"?`:""}function Bm(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,Jl.default)(e,i)}));r.sort((i,o)=>i.distance<o.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function jm(e,t){return Hl(t.models,e)??Hl(t.types,e)}function Hl(e,t){let r=Object.keys(e).find(n=>Ie(n)===t);if(r)return e[r]}function Qm(e,t){let r=mt(e);for(let o of t)switch(o.kind){case"UnknownModel":r.arguments.getField(o.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${o.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${o.modelKey}" does not have a field named "${o.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:i}=kr(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}l();u();c();p();m();var Gl=require("@prisma/client-runtime-utils");function Kl(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,o=!1,s=0,a=()=>{o||(s++,s===e.length&&(o=!0,i?r(i):t(n)))},d=f=>{o||(o=!0,r(f))};for(let f=0;f<e.length;f++)e[f].then(P=>{n[f]=P,a()},P=>{if(!(0,Gl.hasBatchIndex)(P)){d(P);return}P.batchRequestIdx===f?d(P):(i||(i=P),a())})})}var lr=X("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Hm={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},Jm=Symbol.for("prisma.client.transaction.id"),Wm={id:0,nextId(){return++this.id}};function Yl(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=Di();constructor(n){if(!n)throw new D.PrismaClientInitializationError("`PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:\n\n```\nnew PrismaClient({\n  ...\n})\n```\n\nor\n\n```\nconstructor() {\n  super({ ... });\n}\n```\n          ",Fi);e=n.__internal?.configOverride?.(e)??e,Wl(n,e);let i=new $r().on("error",()=>{});this._extensions=dt.empty(),this._previewFeatures=e.previewFeatures,this._clientVersion=e.clientVersion??Fi,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=Nl();let o;if(n.adapter){o=n.adapter;let s=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(o.provider!==s)throw new D.PrismaClientInitializationError(`The Driver Adapter \`${o.adapterName}\`, based on \`${o.provider}\`, is not compatible with the provider \`${s}\` specified in the Prisma schema.`,this._clientVersion)}try{let s=n??{},d=(s.__internal??{}).debug===!0;if(d&&X.enable("prisma:client"),s.errorFormat?this._errorFormat=s.errorFormat:g.env.NODE_ENV==="production"?this._errorFormat="minimal":g.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={enableDebugLogs:d,logLevel:s.log&&_l(s.log),logQueries:s.log&&!!(typeof s.log=="string"?s.log==="query":s.log.find(f=>typeof f=="string"?f==="query":f.level==="query")),compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:s.transactionOptions?.maxWait??2e3,timeout:s.transactionOptions?.timeout??5e3,isolationLevel:s.transactionOptions?.isolationLevel},logEmitter:i,adapter:o,accelerateUrl:s.accelerateUrl,sqlCommenters:s.comments},this._accelerateEngineConfig=Object.create(this._engineConfig),this._accelerateEngineConfig.accelerateUtils={resolveDatasourceUrl:()=>{if(s.accelerateUrl)return s.accelerateUrl;throw new D.PrismaClientInitializationError(`\`accelerateUrl\` is required when using \`@prisma/extension-accelerate\`:

new PrismaClient({
  accelerateUrl: "prisma://...",
}).$extends(withAccelerate())
`,e.clientVersion)}},lr("clientVersion",e.clientVersion),this._engine=wl(this._engineConfig),this._requestHandler=new wn(this,i),s.log)for(let f of s.log){let P=typeof f=="string"?f:f.emit==="stdout"?f.level:null;P&&this.$on(P,v=>{Dt.log(`${Dt.tags[P]??""}`,v.message||v.query)})}}catch(s){throw s.clientVersion=this._clientVersion,s}return this._appliedParent=Qt(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{go()}}$executeRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"executeRaw",args:o,transaction:n,clientMethod:i,argsMapper:Mi({clientMethod:i,activeProvider:a}),callsite:Me(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$executeRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0){let[s,a]=zl(n,i);return ki(this._activeProvider,s.text,s.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(o,"$executeRaw",s,a)}throw new D.PrismaClientValidationError("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(o=>(ki(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(o,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new D.PrismaClientValidationError(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:bl,callsite:Me(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"queryRaw",args:o,transaction:n,clientMethod:i,argsMapper:Mi({clientMethod:i,activeProvider:a}),callsite:Me(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$queryRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(o,"$queryRaw",...zl(n,i));throw new D.PrismaClientValidationError("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new D.PrismaClientValidationError("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(o=>this.$queryRawInternal(o,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){let o=Wm.nextId(),s=Ll(n.length),a=n.map((d,f)=>{if(d?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let P=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,v={kind:"batch",id:o,index:f,isolationLevel:P,lock:s};return d.requestTransaction?.(v)??d});return Kl(a)}async _transactionWithCallback({callback:n,options:i}){let o={traceparent:this._tracingHelper.getTraceParent()},s={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",o,s),d;try{let f={kind:"itx",...a};d=await n(this._createItxClient(f)),await this._engine.transaction("commit",o,a)}catch(f){throw await this._engine.transaction("rollback",o,a).catch(()=>{}),f}return d}_createItxClient(n){return pe(Qt(pe(ws(this),[te("_appliedParent",()=>this._appliedParent._createItxClient(n)),te("_createPrismaPromise",()=>Di(n)),te(Jm,()=>n.id)])),[ft(Ps)])}$transaction(n,i){let o;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?o=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:o=()=>this._transactionWithCallback({callback:n,options:i}):o=()=>this._transactionWithArray({promises:n,options:i});let s={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(s,o)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??Hm,o={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},s={operation:{name:"operation",attributes:{method:o.action,model:o.model,name:o.model?`${o.model}.${o.action}`:o.action}}},a=async d=>{let{runInTransaction:f,args:P,...v}=d,S={...n,...v};P&&(S.args=i.middlewareArgsToRequestArgs(P)),n.transaction!==void 0&&f===!1&&delete S.transaction;let C=await Ss(this,S);return S.model?Ts({result:C,modelName:S.model,args:S.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):C};return this._tracingHelper.runInChildSpan(s.operation,()=>a(o))}async _executeRequest({args:n,clientMethod:i,dataPath:o,callsite:s,action:a,model:d,argsMapper:f,transaction:P,unpacker:v,otelParentCtx:S,customDataProxyFetch:C}){try{n=f?f(n):n;let M={name:"serialize"},R=this._tracingHelper.runInChildSpan(M,()=>_r({modelName:d,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:i,callsite:s,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return X.enabled("prisma:client")&&(lr("Prisma Client call:"),lr(`prisma.${i}(${ls(n)})`),lr("Generated request:"),lr(JSON.stringify(R,null,2)+`
`)),P?.kind==="batch"&&await P.lock,this._requestHandler.request({protocolQuery:R,modelName:d,action:a,clientMethod:i,dataPath:o,callsite:s,args:n,extensions:this._extensions,transaction:P,unpacker:v,otelParentCtx:S,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:C})}catch(M){throw M.clientVersion=this._clientVersion,M}}_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$extends=bs}return t}function zl(e,t){return Gm(e)?[new Zl.Sql(e,t),Rl]:[e,Il]}function Gm(e){return Array.isArray(e)&&Array.isArray(e.raw)}l();u();c();p();m();var Km=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function Xl(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!Km.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}l();u();c();p();m();var zm=()=>globalThis.process?.release?.name==="node",Zm=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,Ym=()=>!!globalThis.Deno,Xm=()=>typeof globalThis.Netlify=="object",ed=()=>typeof globalThis.EdgeRuntime=="object",td=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function rd(){return[[Xm,"netlify"],[ed,"edge-light"],[td,"workerd"],[Ym,"deno"],[Zm,"bun"],[zm,"node"]].flatMap(r=>r[0]()?[r[1]]:[]).at(0)??""}var nd={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function eu(){let e=rd();return{id:e,prettyName:nd[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var D=require("@prisma/client-runtime-utils"),Te=require("@prisma/client-runtime-utils"),ee=require("@prisma/client-runtime-utils"),tu=require("@prisma/client-runtime-utils");0&&(module.exports={AnyNull,DMMF,DbNull,Debug,Decimal,Extensions,JsonNull,NullTypes,ObjectEnumValue,PrismaClientInitializationError,PrismaClientKnownRequestError,PrismaClientRustPanicError,PrismaClientUnknownRequestError,PrismaClientValidationError,Public,Sql,createParam,defineDmmfProperty,deserializeJsonResponse,deserializeRawResult,dmmfToRuntimeDataModel,empty,getPrismaClient,getRuntime,isAnyNull,isDbNull,isJsonNull,join,makeStrictEnum,makeTypedQueryFactory,raw,serializeJsonQuery,skip,sqltag,warnOnce});
//# sourceMappingURL=wasm-compiler-edge.js.map
