
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file
"use strict";var El=Object.create;var $t=Object.defineProperty;var Tl=Object.getOwnPropertyDescriptor;var Pl=Object.getOwnPropertyNames;var Al=Object.getPrototypeOf,Sl=Object.prototype.hasOwnProperty;var oi=(e,t)=>()=>(e&&(t=e(e=0)),t);var L=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ae=(e,t)=>{for(var r in t)$t(e,r,{get:t[r],enumerable:!0})},si=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Pl(t))!Sl.call(e,i)&&i!==r&&$t(e,i,{get:()=>t[i],enumerable:!(n=Tl(t,i))||n.enumerable});return e};var V=(e,t,r)=>(r=e!=null?El(Al(e)):{},si(t||!e||!e.__esModule?$t(r,"default",{value:e,enumerable:!0}):r,e)),vl=e=>si($t({},"__esModule",{value:!0}),e);var Ei=L((Pm,Gl)=>{Gl.exports={name:"@prisma/engines-version",version:"7.2.0-4.0c8ef2ce45c83248ab3df073180d5eda9e8be7a3",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"0c8ef2ce45c83248ab3df073180d5eda9e8be7a3"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}});var Ti=L(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.enginesVersion=void 0;Vt.enginesVersion=Ei().prisma.enginesVersion});var Ai=L((Sm,Pi)=>{"use strict";Pi.exports=e=>{let t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((r,n)=>Math.min(r,n.length),1/0):0}});var ki=L((Rm,Ri)=>{"use strict";Ri.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Ii=L((Nm,jt)=>{"use strict";jt.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");let r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(let i of n){let o=e[i];if(o!==void 0){if(i==="labels"||i==="projects"){if(!Array.isArray(o))throw new TypeError(`The \`${i}\` option should be an array`);o=o.join(",")}r.searchParams.set(i,o)}}return r.toString()};jt.exports.default=jt.exports});var en=L((Cf,qi)=>{"use strict";qi.exports=function(){function e(t,r,n,i,o){return t<r||n<r?t>n?n+1:t+1:i===o?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,o=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(o-1);)i--,o--;for(var s=0;s<i&&t.charCodeAt(s)===r.charCodeAt(s);)s++;if(i-=s,o-=s,i===0||o<3)return o;var a=0,l,c,u,p,y,h,g,E,C,re,R,P,q=[];for(l=0;l<i;l++)q.push(l+1),q.push(t.charCodeAt(s+l));for(var Pe=q.length-1;a<o-3;)for(C=r.charCodeAt(s+(c=a)),re=r.charCodeAt(s+(u=a+1)),R=r.charCodeAt(s+(p=a+2)),P=r.charCodeAt(s+(y=a+3)),h=a+=4,l=0;l<Pe;l+=2)g=q[l],E=q[l+1],c=e(g,c,u,C,E),u=e(c,u,p,re,E),p=e(u,p,y,R,E),h=e(p,y,h,P,E),q[l]=h,y=p,p=u,u=c,c=g;for(;a<o;)for(C=r.charCodeAt(s+(c=a)),h=++a,l=0;l<Pe;l+=2)g=q[l],q[l]=h=e(g,c,h,C,q[l+1]),c=g;return h}}()});var Qi=oi(()=>{"use strict"});var Hi=oi(()=>{"use strict"});var Tn=L(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.anumber=En;he.abytes=ss;he.ahash=Ju;he.aexists=Wu;he.aoutput=Gu;function En(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Hu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ss(e,...t){if(!Hu(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Ju(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");En(e.outputLen),En(e.blockLen)}function Wu(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Gu(e,t){ss(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var Rs=L(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.add5L=m.add5H=m.add4H=m.add4L=m.add3H=m.add3L=m.rotlBL=m.rotlBH=m.rotlSL=m.rotlSH=m.rotr32L=m.rotr32H=m.rotrBL=m.rotrBH=m.rotrSL=m.rotrSH=m.shrSL=m.shrSH=m.toBig=void 0;m.fromBig=An;m.split=as;m.add=Es;var yr=BigInt(2**32-1),Pn=BigInt(32);function An(e,t=!1){return t?{h:Number(e&yr),l:Number(e>>Pn&yr)}:{h:Number(e>>Pn&yr)|0,l:Number(e&yr)|0}}function as(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=An(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var ls=(e,t)=>BigInt(e>>>0)<<Pn|BigInt(t>>>0);m.toBig=ls;var cs=(e,t,r)=>e>>>r;m.shrSH=cs;var us=(e,t,r)=>e<<32-r|t>>>r;m.shrSL=us;var ps=(e,t,r)=>e>>>r|t<<32-r;m.rotrSH=ps;var ds=(e,t,r)=>e<<32-r|t>>>r;m.rotrSL=ds;var ms=(e,t,r)=>e<<64-r|t>>>r-32;m.rotrBH=ms;var fs=(e,t,r)=>e>>>r-32|t<<64-r;m.rotrBL=fs;var gs=(e,t)=>t;m.rotr32H=gs;var ys=(e,t)=>e;m.rotr32L=ys;var hs=(e,t,r)=>e<<r|t>>>32-r;m.rotlSH=hs;var ws=(e,t,r)=>t<<r|e>>>32-r;m.rotlSL=ws;var xs=(e,t,r)=>t<<r-32|e>>>64-r;m.rotlBH=xs;var bs=(e,t,r)=>e<<r-32|t>>>64-r;m.rotlBL=bs;function Es(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var Ts=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);m.add3L=Ts;var Ps=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;m.add3H=Ps;var As=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);m.add4L=As;var Ss=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;m.add4H=Ss;var vs=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);m.add5L=vs;var Cs=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;m.add5H=Cs;var Ku={fromBig:An,split:as,toBig:ls,shrSH:cs,shrSL:us,rotrSH:ps,rotrSL:ds,rotrBH:ms,rotrBL:fs,rotr32H:gs,rotr32L:ys,rotlSH:hs,rotlSL:ws,rotlBH:xs,rotlBL:bs,add:Es,add3L:Ts,add3H:Ps,add4L:As,add4H:Ss,add5H:Cs,add5L:vs};m.default=Ku});var ks=L(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.crypto=void 0;var ce=require("node:crypto");hr.crypto=ce&&typeof ce=="object"&&"webcrypto"in ce?ce.webcrypto:ce&&typeof ce=="object"&&"randomBytes"in ce?ce:void 0});var Fs=L(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.Hash=x.nextTick=x.byteSwapIfBE=x.isLE=void 0;x.isBytes=zu;x.u8=Zu;x.u32=Yu;x.createView=Xu;x.rotr=ep;x.rotl=tp;x.byteSwap=Cn;x.byteSwap32=rp;x.bytesToHex=ip;x.hexToBytes=op;x.asyncLoop=ap;x.utf8ToBytes=Is;x.toBytes=wr;x.concatBytes=lp;x.checkOpts=cp;x.wrapConstructor=up;x.wrapConstructorWithOpts=pp;x.wrapXOFConstructorWithOpts=dp;x.randomBytes=mp;var Ue=ks(),vn=Tn();function zu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Zu(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function Yu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Xu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ep(e,t){return e<<32-t|e>>>t}function tp(e,t){return e<<t|e>>>32-t>>>0}x.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Cn(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}x.byteSwapIfBE=x.isLE?e=>e:e=>Cn(e);function rp(e){for(let t=0;t<e.length;t++)e[t]=Cn(e[t])}var np=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ip(e){(0,vn.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=np[e[r]];return t}var ee={_0:48,_9:57,A:65,F:70,a:97,f:102};function Os(e){if(e>=ee._0&&e<=ee._9)return e-ee._0;if(e>=ee.A&&e<=ee.F)return e-(ee.A-10);if(e>=ee.a&&e<=ee.f)return e-(ee.a-10)}function op(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=Os(e.charCodeAt(o)),a=Os(e.charCodeAt(o+1));if(s===void 0||a===void 0){let l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}n[i]=s*16+a}return n}var sp=async()=>{};x.nextTick=sp;async function ap(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,x.nextTick)(),n+=o)}}function Is(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function wr(e){return typeof e=="string"&&(e=Is(e)),(0,vn.abytes)(e),e}function lp(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,vn.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var Sn=class{clone(){return this._cloneInto()}};x.Hash=Sn;function cp(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function up(e){let t=n=>e().update(wr(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function pp(e){let t=(n,i)=>e(i).update(wr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function dp(e){let t=(n,i)=>e(i).update(wr(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function mp(e=32){if(Ue.crypto&&typeof Ue.crypto.getRandomValues=="function")return Ue.crypto.getRandomValues(new Uint8Array(e));if(Ue.crypto&&typeof Ue.crypto.randomBytes=="function")return Ue.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}});var Vs=L(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.shake256=S.shake128=S.keccak_512=S.keccak_384=S.keccak_256=S.keccak_224=S.sha3_512=S.sha3_384=S.sha3_256=S.sha3_224=S.Keccak=void 0;S.keccakP=$s;var je=Tn(),Pt=Rs(),te=Fs(),Ns=[],_s=[],Ls=[],fp=BigInt(0),Tt=BigInt(1),gp=BigInt(2),yp=BigInt(7),hp=BigInt(256),wp=BigInt(113);for(let e=0,t=Tt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Ns.push(2*(5*n+r)),_s.push((e+1)*(e+2)/2%64);let i=fp;for(let o=0;o<7;o++)t=(t<<Tt^(t>>yp)*wp)%hp,t&gp&&(i^=Tt<<(Tt<<BigInt(o))-Tt);Ls.push(i)}var[xp,bp]=(0,Pt.split)(Ls,!0),Ms=(e,t,r)=>r>32?(0,Pt.rotlBH)(e,t,r):(0,Pt.rotlSH)(e,t,r),Ds=(e,t,r)=>r>32?(0,Pt.rotlBL)(e,t,r):(0,Pt.rotlSL)(e,t,r);function $s(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,l=(s+2)%10,c=r[l],u=r[l+1],p=Ms(c,u,1)^r[a],y=Ds(c,u,1)^r[a+1];for(let h=0;h<50;h+=10)e[s+h]^=p,e[s+h+1]^=y}let i=e[2],o=e[3];for(let s=0;s<24;s++){let a=_s[s],l=Ms(i,o,a),c=Ds(i,o,a),u=Ns[s];i=e[u],o=e[u+1],e[u]=l,e[u+1]=c}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=xp[n],e[1]^=bp[n]}r.fill(0)}var At=class e extends te.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,je.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,te.u32)(this.state)}keccak(){te.isLE||(0,te.byteSwap32)(this.state32),$s(this.state32,this.rounds),te.isLE||(0,te.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,je.aexists)(this);let{blockLen:r,state:n}=this;t=(0,te.toBytes)(t);let i=t.length;for(let o=0;o<i;){let s=Math.min(r-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,je.aexists)(this,!1),(0,je.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,je.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,je.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return t||(t=new e(r,n,i,s,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};S.Keccak=At;var ue=(e,t,r)=>(0,te.wrapConstructor)(()=>new At(t,e,r));S.sha3_224=ue(6,144,224/8);S.sha3_256=ue(6,136,256/8);S.sha3_384=ue(6,104,384/8);S.sha3_512=ue(6,72,512/8);S.keccak_224=ue(1,144,224/8);S.keccak_256=ue(1,136,256/8);S.keccak_384=ue(1,104,384/8);S.keccak_512=ue(1,72,512/8);var qs=(e,t,r)=>(0,te.wrapXOFConstructorWithOpts)((n={})=>new At(t,e,n.dkLen===void 0?r:n.dkLen,!0));S.shake128=qs(31,168,128/8);S.shake256=qs(31,136,256/8)});var Gs=L((dx,pe)=>{"use strict";var{sha3_512:Ep}=Vs(),js=24,St=32,Rn=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r=r+Math.floor(t()*36).toString(36);return r};function Bs(e){let t=8n,r=0n;for(let n of e.values()){let i=BigInt(n);r=(r<<t)+i}return r}var Qs=(e="")=>Bs(Ep(e)).toString(36).slice(1),Us=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),Tp=e=>Us[Math.floor(e()*Us.length)],Hs=({globalObj:e=typeof global<"u"?global:typeof window<"u"?window:{},random:t=Math.random}={})=>{let r=Object.keys(e).toString(),n=r.length?r+Rn(St,t):Rn(St,t);return Qs(n).substring(0,St)},Js=e=>()=>e++,Pp=476782367,Ws=({random:e=Math.random,counter:t=Js(Math.floor(e()*Pp)),length:r=js,fingerprint:n=Hs({random:e})}={})=>function(){let o=Tp(e),s=Date.now().toString(36),a=t().toString(36),l=Rn(r,e),c=`${s+l+a+n}`;return`${o+Qs(c).substring(1,r)}`},Ap=Ws(),Sp=(e,{minLength:t=2,maxLength:r=St}={})=>{let n=e.length,i=/^[0-9a-z]+$/;try{if(typeof e=="string"&&n>=t&&n<=r&&i.test(e))return!0}finally{}return!1};pe.exports.getConstants=()=>({defaultLength:js,bigLength:St});pe.exports.init=Ws;pe.exports.createId=Ap;pe.exports.bufToBigInt=Bs;pe.exports.createCounter=Js;pe.exports.createFingerprint=Hs;pe.exports.isCuid=Sp});var Ks=L((mx,vt)=>{"use strict";var{createId:vp,init:Cp,getConstants:Rp,isCuid:kp}=Gs();vt.exports.createId=vp;vt.exports.init=Cp;vt.exports.getConstants=Rp;vt.exports.isCuid=kp});var Jd={};Ae(Jd,{AnyNull:()=>D.AnyNull,DMMF:()=>lt,DbNull:()=>D.DbNull,Debug:()=>M,Decimal:()=>hl.Decimal,Extensions:()=>Ur,JsonNull:()=>D.JsonNull,NullTypes:()=>D.NullTypes,ObjectEnumValue:()=>D.ObjectEnumValue,PrismaClientInitializationError:()=>w.PrismaClientInitializationError,PrismaClientKnownRequestError:()=>w.PrismaClientKnownRequestError,PrismaClientRustPanicError:()=>w.PrismaClientRustPanicError,PrismaClientUnknownRequestError:()=>w.PrismaClientUnknownRequestError,PrismaClientValidationError:()=>w.PrismaClientValidationError,Public:()=>jr,Sql:()=>Z.Sql,createParam:()=>co,defineDmmfProperty:()=>go,deserializeJsonResponse:()=>le,deserializeRawResult:()=>$r,dmmfToRuntimeDataModel:()=>pi,empty:()=>Z.empty,getPrismaClient:()=>fl,getRuntime:()=>yl,isAnyNull:()=>D.isAnyNull,isDbNull:()=>D.isDbNull,isJsonNull:()=>D.isJsonNull,join:()=>Z.join,makeStrictEnum:()=>gl,makeTypedQueryFactory:()=>yo,raw:()=>Z.raw,serializeJsonQuery:()=>or,skip:()=>ir,sqltag:()=>Z.sql,warnOnce:()=>Xr});module.exports=vl(Jd);var Ur={};Ae(Ur,{defineExtension:()=>ai,getExtensionContext:()=>li});function ai(e){return typeof e=="function"?e:t=>t.$extends(e)}function li(e){return e}var jr={};Ae(jr,{validator:()=>ci});function ci(...e){return t=>t}var J=class{_map=new Map;get(t){return this._map.get(t)?.value}set(t,r){this._map.set(t,{value:r})}getOrCreate(t,r){let n=this._map.get(t);if(n)return n.value;let i=r();return this.set(t,i),i}};function ie(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function ui(e,t){let r={};for(let n of e){let i=n[t];r[i]=n}return r}function ze(e){let t;return{get(){return t||(t={value:e()}),t.value}}}function pi(e){return{models:Br(e.models),enums:Br(e.enums),types:Br(e.types)}}function Br(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}var se=require("@prisma/client-runtime-utils");var qt={};Ae(qt,{$:()=>yi,bgBlack:()=>_l,bgBlue:()=>Vl,bgCyan:()=>jl,bgGreen:()=>$l,bgMagenta:()=>Ul,bgRed:()=>Ll,bgWhite:()=>Bl,bgYellow:()=>ql,black:()=>Fl,blue:()=>me,bold:()=>j,cyan:()=>Y,dim:()=>Ze,gray:()=>tt,green:()=>Xe,grey:()=>Nl,hidden:()=>Ol,inverse:()=>kl,italic:()=>Rl,magenta:()=>Ml,red:()=>de,reset:()=>Cl,strikethrough:()=>Il,underline:()=>Ye,white:()=>Dl,yellow:()=>et});var Qr,di,mi,fi,gi=!0;typeof process<"u"&&({FORCE_COLOR:Qr,NODE_DISABLE_COLORS:di,NO_COLOR:mi,TERM:fi}=process.env||{},gi=process.stdout&&process.stdout.isTTY);var yi={enabled:!di&&mi==null&&fi!=="dumb"&&(Qr!=null&&Qr!=="0"||gi)};function T(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`\x1B[${e}m`,i=`\x1B[${t}m`;return function(o){return!yi.enabled||o==null?o:n+(~(""+o).indexOf(i)?o.replace(r,i+n):o)+i}}var Cl=T(0,0),j=T(1,22),Ze=T(2,22),Rl=T(3,23),Ye=T(4,24),kl=T(7,27),Ol=T(8,28),Il=T(9,29),Fl=T(30,39),de=T(31,39),Xe=T(32,39),et=T(33,39),me=T(34,39),Ml=T(35,39),Y=T(36,39),Dl=T(37,39),tt=T(90,39),Nl=T(90,39),_l=T(40,49),Ll=T(41,49),$l=T(42,49),ql=T(43,49),Vl=T(44,49),Ul=T(45,49),jl=T(46,49),Bl=T(47,49);var Ql=100,hi=["green","yellow","blue","magenta","cyan","red"],rt=[],wi=Date.now(),Hl=0,Hr=typeof process<"u"?process.env:{};globalThis.DEBUG??=Hr.DEBUG??"";globalThis.DEBUG_COLORS??=Hr.DEBUG_COLORS?Hr.DEBUG_COLORS==="true":!0;var nt={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(i=>i.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(i=>i===""||i[0]==="-"?!1:e.match(RegExp(i.split("*").join(".*")+"$"))),n=t.some(i=>i===""||i[0]!=="-"?!1:e.match(RegExp(i.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function Jl(e){let t={color:hi[Hl++%hi.length],enabled:nt.enabled(e),namespace:e,log:nt.log,extend:()=>{}},r=(...n)=>{let{enabled:i,namespace:o,color:s,log:a}=t;if(n.length!==0&&rt.push([o,...n]),rt.length>Ql&&rt.shift(),nt.enabled(o)||i){let l=n.map(u=>typeof u=="string"?u:Wl(u)),c=`+${Date.now()-wi}ms`;wi=Date.now(),globalThis.DEBUG_COLORS?a(qt[s](j(o)),...l,qt[s](c)):a(o,...l,c)}};return new Proxy(r,{get:(n,i)=>t[i],set:(n,i,o)=>t[i]=o})}var M=new Proxy(Jl,{get:(e,t)=>nt[t],set:(e,t,r)=>nt[t]=r});function Wl(e,t=2){let r=new Set;return JSON.stringify(e,(n,i)=>{if(typeof i=="object"&&i!==null){if(r.has(i))return"[Circular *]";r.add(i)}else if(typeof i=="bigint")return i.toString();return i},t)}function xi(e=7500){let t=rt.map(([r,...n])=>`${r} ${n.map(i=>typeof i=="string"?i:JSON.stringify(i)).join(" ")}`).join(`
`);return t.length<e?t:t.slice(-e)}function bi(){rt.length=0}var Si=V(Ai(),1);function Jr(e){let t=(0,Si.default)(e);if(t===0)return e;let r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}var vi="prisma+postgres",Ut=`${vi}:`;function Ci(e){return e?.toString().startsWith(`${Ut}//`)??!1}function Wr(e){if(!Ci(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var ot={};Ae(ot,{error:()=>Zl,info:()=>zl,log:()=>Kl,query:()=>Yl,should:()=>Oi,tags:()=>it,warn:()=>Gr});var it={error:de("prisma:error"),warn:et("prisma:warn"),info:Y("prisma:info"),query:me("prisma:query")},Oi={warn:()=>!process.env.PRISMA_DISABLE_WARNINGS};function Kl(...e){console.log(...e)}function Gr(e,...t){Oi.warn()&&console.warn(`${it.warn} ${e}`,...t)}function zl(e,...t){console.info(`${it.info} ${e}`,...t)}function Zl(e,...t){console.error(`${it.error} ${e}`,...t)}function Yl(e,...t){console.log(`${it.query} ${e}`,...t)}function X(e,t){throw new Error(t)}function Kr({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var Xl=Kr();function Se(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Xl,"")}var st=V(require("node:path"));function zr(e){return st.default.sep===st.default.posix.sep?e:e.split(st.default.sep).join(st.default.posix.sep)}function Zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bt(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function Yr(e,t){if(e.length===0)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}function at(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}var Fi=new Set,Xr=(e,t,...r)=>{Fi.has(e)||(Fi.add(e),Gr(t,...r))};function ve(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Qt(e){return e.toString()!=="Invalid Date"}var Mi=require("@prisma/client-runtime-utils");function Ce(e){return Mi.Decimal.isDecimal(e)?!0:e!==null&&typeof e=="object"&&typeof e.s=="number"&&typeof e.e=="number"&&typeof e.toFixed=="function"&&Array.isArray(e.d)}var no=require("@prisma/client-runtime-utils");var lt={};Ae(lt,{ModelAction:()=>Re,datamodelEnumToSchemaEnum:()=>ec,datamodelSchemaEnumToSchemaEnum:()=>tc});function ec(e){return{name:e.name,data:e.values.map(t=>({key:t.name,value:t.dbName??t.name}))}}function tc(e){return{name:e.name,data:e.values.map(t=>({key:t,value:t}))}}var Re=(P=>(P.findUnique="findUnique",P.findUniqueOrThrow="findUniqueOrThrow",P.findFirst="findFirst",P.findFirstOrThrow="findFirstOrThrow",P.findMany="findMany",P.create="create",P.createMany="createMany",P.createManyAndReturn="createManyAndReturn",P.update="update",P.updateMany="updateMany",P.updateManyAndReturn="updateManyAndReturn",P.upsert="upsert",P.delete="delete",P.deleteMany="deleteMany",P.groupBy="groupBy",P.count="count",P.aggregate="aggregate",P.findRaw="findRaw",P.aggregateRaw="aggregateRaw",P))(Re||{});var $i=V(ki());var Li=V(require("node:fs"));var Di={keyword:Y,entity:Y,value:e=>j(me(e)),punctuation:me,directive:Y,function:Y,variable:e=>j(me(e)),string:e=>j(Xe(e)),boolean:et,number:Y,comment:tt};var rc=e=>e,Ht={},nc=0,f={manual:Ht.Prism&&Ht.Prism.manual,disableWorkerMessageHandler:Ht.Prism&&Ht.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof B){let t=e;return new B(t.type,f.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(f.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++nc}),e.__id},clone:function e(t,r){let n,i,o=f.util.type(t);switch(r=r||{},o){case"Object":if(i=f.util.objId(t),r[i])return r[i];n={},r[i]=n;for(let s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s],r));return n;case"Array":return i=f.util.objId(t),r[i]?r[i]:(n=[],r[i]=n,t.forEach(function(s,a){n[a]=e(s,r)}),n);default:return t}}},languages:{extend:function(e,t){let r=f.util.clone(f.languages[e]);for(let n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||f.languages;let i=n[e],o={};for(let a in i)if(i.hasOwnProperty(a)){if(a==t)for(let l in r)r.hasOwnProperty(l)&&(o[l]=r[l]);r.hasOwnProperty(a)||(o[a]=i[a])}let s=n[e];return n[e]=o,f.languages.DFS(f.languages,function(a,l){l===s&&a!=e&&(this[a]=o)}),o},DFS:function e(t,r,n,i){i=i||{};let o=f.util.objId;for(let s in t)if(t.hasOwnProperty(s)){r.call(t,s,t[s],n||s);let a=t[s],l=f.util.type(a);l==="Object"&&!i[o(a)]?(i[o(a)]=!0,e(a,r,null,i)):l==="Array"&&!i[o(a)]&&(i[o(a)]=!0,e(a,r,s,i))}}},plugins:{},highlight:function(e,t,r){let n={code:e,grammar:t,language:r};return f.hooks.run("before-tokenize",n),n.tokens=f.tokenize(n.code,n.grammar),f.hooks.run("after-tokenize",n),B.stringify(f.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,o,s){for(let E in r){if(!r.hasOwnProperty(E)||!r[E])continue;if(E==s)return;let C=r[E];C=f.util.type(C)==="Array"?C:[C];for(let re=0;re<C.length;++re){let R=C[re],P=R.inside,q=!!R.lookbehind,Pe=!!R.greedy,Vr=0,wl=R.alias;if(Pe&&!R.pattern.global){let _=R.pattern.toString().match(/[imuy]*$/)[0];R.pattern=RegExp(R.pattern.source,_+"g")}R=R.pattern||R;for(let _=n,ne=i;_<t.length;ne+=t[_].length,++_){let Ke=t[_];if(t.length>e.length)return;if(Ke instanceof B)continue;if(Pe&&_!=t.length-1){R.lastIndex=ne;var p=R.exec(e);if(!p)break;var u=p.index+(q?p[1].length:0),y=p.index+p[0].length,a=_,l=ne;for(let bl=t.length;a<bl&&(l<y||!t[a].type&&!t[a-1].greedy);++a)l+=t[a].length,u>=l&&(++_,ne=l);if(t[_]instanceof B)continue;c=a-_,Ke=e.slice(ne,l),p.index-=ne}else{R.lastIndex=0;var p=R.exec(Ke),c=1}if(!p){if(o)break;continue}q&&(Vr=p[1]?p[1].length:0);var u=p.index+Vr,p=p[0].slice(Vr),y=u+p.length,h=Ke.slice(0,u),g=Ke.slice(y);let Lt=[_,c];h&&(++_,ne+=h.length,Lt.push(h));let xl=new B(E,P?f.tokenize(p,P):p,wl,p,Pe);if(Lt.push(xl),g&&Lt.push(g),Array.prototype.splice.apply(t,Lt),c!=1&&f.matchGrammar(e,t,r,_,ne,!0,E),o)break}}}},tokenize:function(e,t){let r=[e],n=t.rest;if(n){for(let i in n)t[i]=n[i];delete t.rest}return f.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){let r=f.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){let r=f.hooks.all[e];if(!(!r||!r.length))for(var n=0,i;i=r[n++];)i(t)}},Token:B};f.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};f.languages.javascript=f.languages.extend("clike",{"class-name":[f.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});f.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;f.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:f.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:f.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:f.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:f.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});f.languages.markup&&f.languages.markup.tag.addInlined("script","javascript");f.languages.js=f.languages.javascript;f.languages.typescript=f.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});f.languages.ts=f.languages.typescript;function B(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!i}B.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return B.stringify(r,t)}).join(""):ic(e.type)(e.content)};function ic(e){return Di[e]||rc}function Ni(e){return oc(e,f.languages.javascript)}function oc(e,t){return f.tokenize(e,t).map(n=>B.stringify(n)).join("")}function _i(e){return Jr(e)}var Jt=class e{firstLineNumber;lines;static read(t){let r;try{r=Li.default.readFileSync(t,"utf-8")}catch{return null}return e.fromContent(r)}static fromContent(t){let r=t.split(/\r?\n/);return new e(1,r)}constructor(t,r){this.firstLineNumber=t,this.lines=r}get lastLineNumber(){return this.firstLineNumber+this.lines.length-1}mapLineAt(t,r){if(t<this.firstLineNumber||t>this.lines.length+this.firstLineNumber)return this;let n=t-this.firstLineNumber,i=[...this.lines];return i[n]=r(i[n]),new e(this.firstLineNumber,i)}mapLines(t){return new e(this.firstLineNumber,this.lines.map((r,n)=>t(r,this.firstLineNumber+n)))}lineAt(t){return this.lines[t-this.firstLineNumber]}prependSymbolAt(t,r){return this.mapLines((n,i)=>i===t?`${r} ${n}`:`  ${n}`)}slice(t,r){let n=this.lines.slice(t-1,r).join(`
`);return new e(t,_i(n).split(`
`))}highlight(){let t=Ni(this.toString());return new e(this.firstLineNumber,t.split(`
`))}toString(){return this.lines.join(`
`)}};var sc={red:de,gray:tt,dim:Ze,bold:j,underline:Ye,highlightSource:e=>e.highlight()},ac={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function lc({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function cc({callsite:e,message:t,originalMethod:r,isPanic:n,callArguments:i},o){let s=lc({message:t,originalMethod:r,isPanic:n,callArguments:i});if(!e||typeof window<"u"||process.env.NODE_ENV==="production")return s;let a=e.getLocation();if(!a||!a.lineNumber||!a.columnNumber)return s;let l=Math.max(1,a.lineNumber-3),c=Jt.read(a.fileName)?.slice(l,a.lineNumber),u=c?.lineAt(a.lineNumber);if(c&&u){let p=pc(u),y=uc(u);if(!y)return s;s.functionName=`${y.code})`,s.location=a,n||(c=c.mapLineAt(a.lineNumber,g=>g.slice(0,y.openingBraceIndex))),c=o.highlightSource(c);let h=String(c.lastLineNumber).length;if(s.contextLines=c.mapLines((g,E)=>o.gray(String(E).padStart(h))+" "+g).mapLines(g=>o.dim(g)).prependSymbolAt(a.lineNumber,o.bold(o.red("\u2192"))),i){let g=p+h+1;g+=2,s.callArguments=(0,$i.default)(i,g).slice(g)}}return s}function uc(e){let t=Object.keys(Re).join("|"),n=new RegExp(String.raw`\.(${t})\(`).exec(e);if(n){let i=n.index+n[0].length,o=e.lastIndexOf(" ",n.index)+1;return{code:e.slice(o,i),openingBraceIndex:i}}return null}function pc(e){let t=0;for(let r=0;r<e.length;r++){if(e.charAt(r)!==" ")return t;t++}return t}function dc({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:o},s){let a=[""],l=t?" in":":";if(n?(a.push(s.red(`Oops, an unknown error occurred! This is ${s.bold("on us")}, you did nothing wrong.`)),a.push(s.red(`It occurred in the ${s.bold(`\`${e}\``)} invocation${l}`))):a.push(s.red(`Invalid ${s.bold(`\`${e}\``)} invocation${l}`)),t&&a.push(s.underline(mc(t))),i){a.push("");let c=[i.toString()];o&&(c.push(o),c.push(s.dim(")"))),a.push(c.join("")),o&&a.push("")}else a.push(""),o&&a.push(o),a.push("");return a.push(r),a.join(`
`)}function mc(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function Wt(e){let t=e.showColors?sc:ac,r;return r=cc(e,t),dc(r,t)}var Wi=V(en());function ji(e,t,r){let n=Bi(e),i=fc(n),o=yc(i);o?Gt(o,t,r):t.addErrorMessage(()=>"Unknown error")}function Bi(e){return e.errors.flatMap(t=>t.kind==="Union"?Bi(t):[t])}function fc(e){let t=new Map,r=[];for(let n of e){if(n.kind!=="InvalidArgumentType"){r.push(n);continue}let i=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,o=t.get(i);o?t.set(i,{...n,argument:{...n.argument,typeNames:gc(o.argument.typeNames,n.argument.typeNames)}}):t.set(i,n)}return r.push(...t.values()),r}function gc(e,t){return[...new Set(e.concat(t))]}function yc(e){return Yr(e,(t,r)=>{let n=Vi(t),i=Vi(r);return n!==i?n-i:Ui(t)-Ui(r)})}function Vi(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function Ui(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}var $=class{constructor(t,r){this.name=t;this.value=r}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(t){let{colors:{green:r}}=t.context;t.addMarginSymbol(r(this.isRequired?"+":"?")),t.write(r(this.name)),this.isRequired||t.write(r("?")),t.write(r(": ")),typeof this.value=="string"?t.write(r(this.value)):t.write(this.value)}};Hi();var ke=class{constructor(t=0,r){this.context=r;this.currentIndent=t}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(t){return typeof t=="string"?this.currentLine+=t:t.write(this),this}writeJoined(t,r,n=(i,o)=>o.write(i)){let i=r.length-1;for(let o=0;o<r.length;o++)n(r[o],this),o!==i&&this.write(t);return this}writeLine(t){return this.write(t).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let t=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,t?.(),this}withIndent(t){return this.indent(),t(this),this.unindent(),this}afterNextNewline(t){return this.afterNextNewLineCallback=t,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(t){return this.marginSymbol=t,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let t=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+t.slice(1):t}};Qi();var Kt=class{constructor(t){this.value=t}write(t){t.write(this.value)}markAsError(){this.value.markAsError()}};var zt=e=>e,Zt={bold:zt,red:zt,green:zt,dim:zt,enabled:!1},Ji={bold:j,red:de,green:Xe,dim:Ze,enabled:!0},Oe={write(e){e.writeLine(",")}};var W=class{constructor(t){this.contents=t}isUnderlined=!1;color=t=>t;underline(){return this.isUnderlined=!0,this}setColor(t){return this.color=t,this}write(t){let r=t.getCurrentLineLength();t.write(this.color(this.contents)),this.isUnderlined&&t.afterNextNewline(()=>{t.write(" ".repeat(r)).writeLine(this.color("~".repeat(this.contents.length)))})}};var oe=class{hasError=!1;markAsError(){return this.hasError=!0,this}};var Ie=class extends oe{items=[];addItem(t){return this.items.push(new Kt(t)),this}getField(t){return this.items[t]}getPrintWidth(){return this.items.length===0?2:Math.max(...this.items.map(r=>r.value.getPrintWidth()))+2}write(t){if(this.items.length===0){this.writeEmpty(t);return}this.writeWithItems(t)}writeEmpty(t){let r=new W("[]");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithItems(t){let{colors:r}=t.context;t.writeLine("[").withIndent(()=>t.writeJoined(Oe,this.items).newLine()).write("]"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(r.red("~".repeat(this.getPrintWidth())))})}asObject(){}};var Fe=class e extends oe{fields={};suggestions=[];addField(t){this.fields[t.name]=t}addSuggestion(t){this.suggestions.push(t)}getField(t){return this.fields[t]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let o=i;for(let s of n){let a;if(o.value instanceof e?a=o.value.getField(s):o.value instanceof Ie&&(a=o.value.getField(Number(s))),!a)return;o=a}return o}getDeepFieldValue(t){return t.length===0?this:this.getDeepField(t)?.value}hasField(t){return!!this.getField(t)}removeAllFields(){this.fields={}}removeField(t){delete this.fields[t]}getFields(){return this.fields}isEmpty(){return Object.keys(this.fields).length===0}getFieldValue(t){return this.getField(t)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let i=r.getSubSelectionValue(n);if(!i)return;r=i}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let i of t){let o=n.value.getFieldValue(i);if(!o||!(o instanceof e))return;let s=o.getSelectionParent();if(!s)return;n=s}return n}getSelectionParent(){let t=this.getField("select")?.value.asObject();if(t)return{kind:"select",value:t};let r=this.getField("include")?.value.asObject();if(r)return{kind:"include",value:r}}getSubSelectionValue(t){return this.getSelectionParent()?.value.fields[t].value}getPrintWidth(){let t=Object.values(this.fields);return t.length==0?2:Math.max(...t.map(n=>n.getPrintWidth()))+2}write(t){let r=Object.values(this.fields);if(r.length===0&&this.suggestions.length===0){this.writeEmpty(t);return}this.writeWithContents(t,r)}asObject(){return this}writeEmpty(t){let r=new W("{}");this.hasError&&r.setColor(t.context.colors.red).underline(),t.write(r)}writeWithContents(t,r){t.writeLine("{").withIndent(()=>{t.writeJoined(Oe,[...r,...this.suggestions]).newLine()}),t.write("}"),this.hasError&&t.afterNextNewline(()=>{t.writeLine(t.context.colors.red("~".repeat(this.getPrintWidth())))})}};var k=class extends oe{constructor(r){super();this.text=r}getPrintWidth(){return this.text.length}write(r){let n=new W(this.text);this.hasError&&n.underline().setColor(r.context.colors.red),r.write(n)}asObject(){}};var ct=class{fields=[];addField(t,r){return this.fields.push({write(n){let{green:i,dim:o}=n.context.colors;n.write(i(o(`${t}: ${r}`))).addMarginSymbol(i(o("+")))}}),this}write(t){let{colors:{green:r}}=t.context;t.writeLine(r("{")).withIndent(()=>{t.writeJoined(Oe,this.fields).newLine()}).write(r("}")).addMarginSymbol(r("+"))}};function Gt(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":hc(e,t);break;case"IncludeOnScalar":wc(e,t);break;case"EmptySelection":xc(e,t,r);break;case"UnknownSelectionField":Pc(e,t);break;case"InvalidSelectionValue":Ac(e,t);break;case"UnknownArgument":Sc(e,t);break;case"UnknownInputField":vc(e,t);break;case"RequiredArgumentMissing":Cc(e,t);break;case"InvalidArgumentType":Rc(e,t);break;case"InvalidArgumentValue":kc(e,t);break;case"ValueTooLarge":Oc(e,t);break;case"SomeFieldsMissing":Ic(e,t);break;case"TooManyFieldsGiven":Fc(e,t);break;case"Union":ji(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function hc(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(n=>`Please ${n.bold("either")} use ${n.green(`\`${e.firstField}\``)} or ${n.green(`\`${e.secondField}\``)}, but ${n.red("not both")} at the same time.`)}function wc(e,t){let[r,n]=Me(e.selectionPath),i=e.outputType,o=t.arguments.getDeepSelectionParent(r)?.value;if(o&&(o.getField(n)?.markAsError(),i))for(let s of i.fields)s.isRelation&&o.addSuggestion(new $(s.name,"true"));t.addErrorMessage(s=>{let a=`Invalid scalar field ${s.red(`\`${n}\``)} for ${s.bold("include")} statement`;return i?a+=` on model ${s.bold(i.name)}. ${ut(s)}`:a+=".",a+=`
Note that ${s.bold("include")} statements only accept relation fields.`,a})}function xc(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getField("omit")?.value.asObject();if(i){bc(e,t,i);return}if(n.hasField("select")){Ec(e,t);return}}if(r?.[ie(e.outputType.name)]){Tc(e,t);return}t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function bc(e,t,r){r.removeAllFields();for(let n of e.outputType.fields)r.addSuggestion(new $(n.name,"false"));t.addErrorMessage(n=>`The ${n.red("omit")} statement includes every field of the model ${n.bold(e.outputType.name)}. At least one field must be included in the result`)}function Ec(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),zi(n,r)),t.addErrorMessage(o=>i?`The ${o.red("`select`")} statement for type ${o.bold(r.name)} must not be empty. ${ut(o)}`:`The ${o.red("`select`")} statement for type ${o.bold(r.name)} needs ${o.bold("at least one truthy value")}.`)}function Tc(e,t){let r=new ct;for(let i of e.outputType.fields)i.isRelation||r.addField(i.name,"false");let n=new $("omit",r).makeRequired();if(e.selectionPath.length===0)t.arguments.addSuggestion(n);else{let[i,o]=Me(e.selectionPath),a=t.arguments.getDeepSelectionParent(i)?.value.asObject()?.getField(o);if(a){let l=a?.value.asObject()??new Fe;l.addSuggestion(n),a.value=l}}t.addErrorMessage(i=>`The global ${i.red("omit")} configuration excludes every field of the model ${i.bold(e.outputType.name)}. At least one field must be included in the result`)}function Pc(e,t){let r=Zi(e.selectionPath,t);if(r.parentKind!=="unknown"){r.field.markAsError();let n=r.parent;switch(r.parentKind){case"select":zi(n,e.outputType);break;case"include":Mc(n,e.outputType);break;case"omit":Dc(n,e.outputType);break}}t.addErrorMessage(n=>{let i=[`Unknown field ${n.red(`\`${r.fieldName}\``)}`];return r.parentKind!=="unknown"&&i.push(`for ${n.bold(r.parentKind)} statement`),i.push(`on model ${n.bold(`\`${e.outputType.name}\``)}.`),i.push(ut(n)),i.join(" ")})}function Ac(e,t){let r=Zi(e.selectionPath,t);r.parentKind!=="unknown"&&r.field.value.markAsError(),t.addErrorMessage(n=>`Invalid value for selection field \`${n.red(r.fieldName)}\`: ${e.underlyingError}`)}function Sc(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Nc(n,e.arguments)),t.addErrorMessage(i=>Gi(i,r,e.arguments.map(o=>o.name)))}function vc(e,t){let[r,n]=Me(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let o=i.getDeepFieldValue(r)?.asObject();o&&Yi(o,e.inputType)}t.addErrorMessage(o=>Gi(o,n,e.inputType.fields.map(s=>s.name)))}function Gi(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=Lc(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(ut(e)),n.join(" ")}function Cc(e,t){let r;t.addErrorMessage(l=>r?.value instanceof k&&r.value.text==="null"?`Argument \`${l.green(o)}\` must not be ${l.red("null")}.`:`Argument \`${l.green(o)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,o]=Me(e.argumentPath),s=new ct,a=n.getDeepFieldValue(i)?.asObject();if(a){if(r=a.getField(o),r&&a.removeField(o),e.inputTypes.length===1&&e.inputTypes[0].kind==="object"){for(let l of e.inputTypes[0].fields)s.addField(l.name,l.typeNames.join(" | "));a.addSuggestion(new $(o,s).makeRequired())}else{let l=e.inputTypes.map(Ki).join(" | ");a.addSuggestion(new $(o,l).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,l]=Me(e.dependentArgumentPath);t.addErrorMessage(c=>`Argument \`${c.green(o)}\` is required because argument \`${c.green(l)}\` was provided.`)}}}function Ki(e){return e.kind==="list"?`${Ki(e.elementType)}[]`:e.name}function Rc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=Yt("or",e.argument.typeNames.map(s=>i.green(s)));return`Argument \`${i.bold(r)}\`: Invalid value provided. Expected ${o}, provided ${i.red(e.inferredType)}.`})}function kc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(i=>{let o=[`Invalid value for argument \`${i.bold(r)}\``];if(e.underlyingError&&o.push(`: ${e.underlyingError}`),o.push("."),e.argument.typeNames.length>0){let s=Yt("or",e.argument.typeNames.map(a=>i.green(a)));o.push(` Expected ${s}.`)}return o.join("")})}function Oc(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i;if(n){let s=n.getDeepField(e.argumentPath)?.value;s?.markAsError(),s instanceof k&&(i=s.text)}t.addErrorMessage(o=>{let s=["Unable to fit value"];return i&&s.push(o.red(i)),s.push(`into a 64-bit signed integer for field \`${o.bold(r)}\``),s.join(" ")})}function Ic(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let i=n.getDeepFieldValue(e.argumentPath)?.asObject();i&&Yi(i,e.inputType)}t.addErrorMessage(i=>{let o=[`Argument \`${i.bold(r)}\` of type ${i.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1?e.constraints.requiredFields?o.push(`${i.green("at least one of")} ${Yt("or",e.constraints.requiredFields.map(s=>`\`${i.bold(s)}\``))} arguments.`):o.push(`${i.green("at least one")} argument.`):o.push(`${i.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),o.push(ut(i)),o.join(" ")})}function Fc(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let o=n.getDeepFieldValue(e.argumentPath)?.asObject();o&&(o.markAsError(),i=Object.keys(o.getFields()))}t.addErrorMessage(o=>{let s=[`Argument \`${o.bold(r)}\` of type ${o.bold(e.inputType.name)} needs`];return e.constraints.minFieldCount===1&&e.constraints.maxFieldCount==1?s.push(`${o.green("exactly one")} argument,`):e.constraints.maxFieldCount==1?s.push(`${o.green("at most one")} argument,`):s.push(`${o.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),s.push(`but you provided ${Yt("and",i.map(a=>o.red(a)))}. Please choose`),e.constraints.maxFieldCount===1?s.push("one."):s.push(`${e.constraints.maxFieldCount}.`),s.join(" ")})}function zi(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new $(r.name,"true"))}function Mc(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new $(r.name,"true"))}function Dc(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new $(r.name,"true"))}function Nc(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new $(r.name,r.typeNames.join(" | ")))}function Zi(e,t){let[r,n]=Me(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let o=i.getFieldValue("select")?.asObject(),s=i.getFieldValue("include")?.asObject(),a=i.getFieldValue("omit")?.asObject(),l=o?.getField(n);return o&&l?{parentKind:"select",parent:o,field:l,fieldName:n}:(l=s?.getField(n),s&&l?{parentKind:"include",field:l,parent:s,fieldName:n}:(l=a?.getField(n),a&&l?{parentKind:"omit",field:l,parent:a,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function Yi(e,t){if(t.kind==="object")for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new $(r.name,r.typeNames.join(" | ")))}function Me(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function ut({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function Yt(e,t){if(t.length===1)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var _c=3;function Lc(e,t){let r=1/0,n;for(let i of t){let o=(0,Wi.default)(e,i);o>_c||o<r&&(r=o,n=i)}return n}var eo=require("@prisma/client-runtime-utils");var pt=class{modelName;name;typeName;isList;isEnum;constructor(t,r,n,i,o){this.modelName=t,this.name=r,this.typeName=n,this.isList=i,this.isEnum=o}_toGraphQLInputType(){let t=this.isList?"List":"",r=this.isEnum?"Enum":"";return`${t}${r}${this.typeName}FieldRefInput<${this.modelName}>`}};function De(e){return e instanceof pt}var Xi=": ",Xt=class{constructor(t,r){this.name=t;this.value=r}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+Xi.length}write(t){let r=new W(this.name);this.hasError&&r.underline().setColor(t.context.colors.red),t.write(r).write(Xi).write(this.value)}};var rn=class{arguments;errorMessages=[];constructor(t){this.arguments=t}write(t){t.write(this.arguments)}addErrorMessage(t){this.errorMessages.push(t)}renderAllMessages(t){return this.errorMessages.map(r=>r(t)).join(`
`)}};function Ne(e){return new rn(to(e))}function to(e){let t=new Fe;for(let[r,n]of Object.entries(e)){let i=new Xt(r,ro(n));t.addField(i)}return t}function ro(e){if(typeof e=="string")return new k(JSON.stringify(e));if(typeof e=="number"||typeof e=="boolean")return new k(String(e));if(typeof e=="bigint")return new k(`${e}n`);if(e===null)return new k("null");if(e===void 0)return new k("undefined");if(Ce(e))return new k(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return Buffer.isBuffer(e)?new k(`Buffer.alloc(${e.byteLength})`):new k(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=Qt(e)?e.toISOString():"Invalid Date";return new k(`new Date("${t}")`)}return e instanceof eo.ObjectEnumValue?new k(`Prisma.${e._getName()}`):De(e)?new k(`prisma.${ie(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?$c(e):typeof e=="object"?to(e):new k(Object.prototype.toString.call(e))}function $c(e){let t=new Ie;for(let r of e)t.addItem(ro(r));return t}function er(e,t){let r=t==="pretty"?Ji:Zt,n=e.renderAllMessages(r),i=new ke(0,{colors:r}).write(e).toString();return{message:n,args:i}}function tr({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:o,globalOmit:s}){let a=Ne(e);for(let p of t)Gt(p,a,s);let{message:l,args:c}=er(a,r),u=Wt({message:l,callsite:n,originalMethod:i,showColors:r==="pretty",callArguments:c});throw new no.PrismaClientValidationError(u,{clientVersion:o})}function G(e){return e.replace(/^./,t=>t.toLowerCase())}function oo(e,t,r){let n=G(r);return!t.result||!(t.result.$allModels||t.result[n])?e:qc({...e,...io(t.name,e,t.result.$allModels),...io(t.name,e,t.result[n])})}function qc(e){let t=new J,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(o=>r(o,i)):[n]));return Bt(e,n=>({...n,needs:r(n.name,new Set)}))}function io(e,t,r){return r?Bt(r,({needs:n,compute:i},o)=>({name:o,needs:n?Object.keys(n).filter(s=>n[s]):[],compute:Vc(t,o,i)})):{}}function Vc(e,t,r){let n=e?.[t]?.compute;return n?i=>r({...i,[t]:n(i)}):r}function so(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let i of n.needs)r[i]=!0;return r}function ao(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let i of n.needs)delete r[i];return r}var rr=class{constructor(t,r){this.extension=t;this.previous=r}computedFieldsCache=new J;modelExtensionsCache=new J;queryCallbacksCache=new J;clientExtensions=ze(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=ze(()=>{let t=this.previous?.getAllBatchQueryCallbacks()??[],r=this.extension.query?.$__internalBatch;return r?t.concat(r):t});getAllComputedFields(t){return this.computedFieldsCache.getOrCreate(t,()=>oo(this.previous?.getAllComputedFields(t),this.extension,t))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(t){return this.modelExtensionsCache.getOrCreate(t,()=>{let r=G(t);return!this.extension.model||!(this.extension.model[r]||this.extension.model.$allModels)?this.previous?.getAllModelExtensions(t):{...this.previous?.getAllModelExtensions(t),...this.extension.model.$allModels,...this.extension.model[r]}})}getAllQueryCallbacks(t,r){return this.queryCallbacksCache.getOrCreate(`${t}:${r}`,()=>{let n=this.previous?.getAllQueryCallbacks(t,r)??[],i=[],o=this.extension.query;return!o||!(o[t]||o.$allModels||o[r]||o.$allOperations)?n:(o[t]!==void 0&&(o[t][r]!==void 0&&i.push(o[t][r]),o[t].$allOperations!==void 0&&i.push(o[t].$allOperations)),t!=="$none"&&o.$allModels!==void 0&&(o.$allModels[r]!==void 0&&i.push(o.$allModels[r]),o.$allModels.$allOperations!==void 0&&i.push(o.$allModels.$allOperations)),o[r]!==void 0&&i.push(o[r]),o.$allOperations!==void 0&&i.push(o.$allOperations),n.concat(i))})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},_e=class e{constructor(t){this.head=t}static empty(){return new e}static single(t){return new e(new rr(t))}isEmpty(){return this.head===void 0}append(t){return new e(new rr(t,this.head))}getAllComputedFields(t){return this.head?.getAllComputedFields(t)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(t){return this.head?.getAllModelExtensions(t)}getAllQueryCallbacks(t,r){return this.head?.getAllQueryCallbacks(t,r)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};var nr=class{constructor(t){this.name=t}};function lo(e){return e instanceof nr}function co(e){return new nr(e)}var uo=Symbol(),dt=class{constructor(t){if(t!==uo)throw new Error("Skip instance can not be constructed directly")}ifUndefined(t){return t===void 0?ir:t}},ir=new dt(uo);function K(e){return e instanceof dt}var Uc={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},po="explicitly `undefined` values are not allowed";function or({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=_e.empty(),callsite:o,clientMethod:s,errorFormat:a,clientVersion:l,previewFeatures:c,globalOmit:u}){let p=new nn({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:o,extensions:i,selectionPath:[],argumentPath:[],originalMethod:s,errorFormat:a,clientVersion:l,previewFeatures:c,globalOmit:u});return{modelName:e,action:Uc[t],query:mt(r,p)}}function mt({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:fo(r,n),selection:jc(e,t,i,n)}}function jc(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),Jc(e,n)):Bc(n,t,r)}function Bc(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&Qc(n,t,e),Hc(n,r,e),n}function Qc(e,t,r){for(let[n,i]of Object.entries(t)){if(K(i))continue;let o=r.nestSelection(n);if(on(i,o),i===!1||i===void 0){e[n]=!1;continue}let s=r.findField(n);if(s&&s.kind!=="object"&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),s){e[n]=mt(i===!0?{}:i,o);continue}if(i===!0){e[n]=!0;continue}e[n]=mt(i,o)}}function Hc(e,t,r){let n=r.getComputedFields(),i={...r.getGlobalOmit(),...t},o=ao(i,n);for(let[s,a]of Object.entries(o)){if(K(a))continue;on(a,r.nestSelection(s));let l=r.findField(s);n?.[s]&&!l||(e[s]=!a)}}function Jc(e,t){let r={},n=t.getComputedFields(),i=so(e,n);for(let[o,s]of Object.entries(i)){if(K(s))continue;let a=t.nestSelection(o);on(s,a);let l=t.findField(o);if(!(n?.[o]&&!l)){if(s===!1||s===void 0||K(s)){r[o]=!1;continue}if(s===!0){l?.kind==="object"?r[o]=mt({},a):r[o]=!0;continue}r[o]=mt(s,a)}}return r}function mo(e,t){if(e===null)return null;if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(typeof e=="bigint")return{$type:"BigInt",value:String(e)};if(ve(e)){if(Qt(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(lo(e))return{$type:"Param",value:e.name};if(De(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return Wc(e,t);if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{$type:"Bytes",value:Buffer.from(r,n,i).toString("base64")}}if(Gc(e))return e.values;if(Ce(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof se.ObjectEnumValue){if(!(0,se.isDbNull)(e)&&!(0,se.isJsonNull)(e)&&!(0,se.isAnyNull)(e))throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}if(Kc(e))return e.toJSON();if(typeof e=="object")return fo(e,t);t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function fo(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],o=t.nestArgument(n);K(i)||(i!==void 0?r[n]=mo(i,o):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:o.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:po}))}return r}function Wc(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),o=e[n];if(o===void 0||K(o)){let s=o===void 0?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${s}\` value within array. Use \`null\` or filter out \`${s}\` values`})}r.push(mo(o,i))}return r}function Gc(e){return typeof e=="object"&&e!==null&&e.__prismaRawParameters__===!0}function Kc(e){return typeof e=="object"&&e!==null&&typeof e.toJSON=="function"}function on(e,t){e===void 0&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:po})}var nn=class e{constructor(t){this.params=t;this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(t){tr({errors:[t],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(t=>({name:t.name,typeName:"boolean",isRelation:t.kind==="object"}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(t){return this.params.previewFeatures.includes(t)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(t){return this.modelOrType?.fields.find(r=>r.name===t)}nestSelection(t){let r=this.findField(t),n=r?.kind==="object"?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[ie(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:X(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function go(e,t){let r=ze(()=>zc(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function zc(e){return{datamodel:{models:sn(e.models),enums:sn(e.enums),types:sn(e.types)}}}function sn(e){return Object.entries(e).map(([t,r])=>({name:t,...r}))}var an=new WeakMap,sr="$$PrismaTypedSql",ft=class{constructor(t,r){an.set(this,{sql:t,values:r}),Object.defineProperty(this,sr,{value:sr})}get sql(){return an.get(this).sql}get values(){return an.get(this).values}};function yo(e){return(...t)=>new ft(e,t)}function ar(e){return e!=null&&e[sr]===sr}var pl=require("@prisma/client-runtime-utils");var dl=require("node:async_hooks"),ml=require("node:events");function gt(e){return{getKeys(){return Object.keys(e)},getPropertyValue(t){return e[t]}}}function N(e,t){return{getKeys(){return[e]},getPropertyValue(){return t()}}}function fe(e){let t=new J;return{getKeys(){return e.getKeys()},getPropertyValue(r){return t.getOrCreate(r,()=>e.getPropertyValue(r))},getPropertyDescriptor(r){return e.getPropertyDescriptor?.(r)}}}var lr={enumerable:!0,configurable:!0,writable:!0};function cr(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>lr,has:(r,n)=>t.has(n),set:(r,n,i)=>t.add(n)&&Reflect.set(r,n,i),ownKeys:()=>[...t]}}var ho=Symbol.for("nodejs.util.inspect.custom");function Q(e,t){let r=Zc(t),n=new Set,i=new Proxy(e,{get(o,s){if(n.has(s))return o[s];let a=r.get(s);return a?a.getPropertyValue(s):o[s]},has(o,s){if(n.has(s))return!0;let a=r.get(s);return a?a.has?.(s)??!0:Reflect.has(o,s)},ownKeys(o){let s=wo(Reflect.ownKeys(o),r),a=wo(Array.from(r.keys()),r);return[...new Set([...s,...a,...n])]},set(o,s,a){return r.get(s)?.getPropertyDescriptor?.(s)?.writable===!1?!1:(n.add(s),Reflect.set(o,s,a))},getOwnPropertyDescriptor(o,s){let a=Reflect.getOwnPropertyDescriptor(o,s);if(a&&!a.configurable)return a;let l=r.get(s);return l?l.getPropertyDescriptor?{...lr,...l?.getPropertyDescriptor(s)}:lr:a},defineProperty(o,s,a){return n.add(s),Reflect.defineProperty(o,s,a)},getPrototypeOf:()=>Object.prototype});return i[ho]=function(){let o={...this};return delete o[ho],o},i}function Zc(e){let t=new Map;for(let r of e){let n=r.getKeys();for(let i of n)t.set(i,r)}return t}function wo(e,t){return e.filter(r=>t.get(r)?.has?.(r)??!0)}function Le(e){return{getKeys(){return e},has(){return!1},getPropertyValue(){}}}function xo(e){if(e===void 0)return"";let t=Ne(e);return new ke(0,{colors:Zt}).write(t).toString()}var yt="<unknown>";function bo(e){var t=e.split(`
`);return t.reduce(function(r,n){var i=eu(n)||ru(n)||ou(n)||cu(n)||au(n);return i&&r.push(i),r},[])}var Yc=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|rsc|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Xc=/\((\S*)(?::(\d+))(?::(\d+))\)/;function eu(e){var t=Yc.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=Xc.exec(t[2]);return n&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||yt,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var tu=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|rsc|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function ru(e){var t=tu.exec(e);return t?{file:t[2],methodName:t[1]||yt,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var nu=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|rsc|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,iu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function ou(e){var t=nu.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=iu.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||yt,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var su=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function au(e){var t=su.exec(e);return t?{file:t[3],methodName:t[1]||yt,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var lu=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function cu(e){var t=lu.exec(e);return t?{file:t[2],methodName:t[1]||yt,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var ln=class{getLocation(){return null}},cn=class{_error;constructor(){this._error=new Error}getLocation(){let t=this._error.stack;if(!t)return null;let n=bo(t).find(i=>{if(!i.file)return!1;let o=zr(i.file);return o!=="<anonymous>"&&!o.includes("@prisma")&&!o.includes("/packages/client/src/runtime/")&&!o.endsWith("/runtime/client.js")&&!o.startsWith("internal/")&&!i.methodName.includes("new ")&&!i.methodName.includes("getCallSite")&&!i.methodName.includes("Proxy.")&&i.methodName.split(".").length<4});return!n||!n.file?null:{fileName:n.file,lineNumber:n.lineNumber,columnNumber:n.column}}};function ae(e){return e==="minimal"?typeof $EnabledCallSite=="function"&&e!=="minimal"?new $EnabledCallSite:new ln:new cn}var Eo={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function $e(e={}){let t=pu(e);return Object.entries(t).reduce((n,[i,o])=>(Eo[i]!==void 0?n.select[i]={select:o}:n[i]=o,n),{select:{}})}function pu(e={}){return typeof e._count=="boolean"?{...e,_count:{_all:e._count}}:e}function ur(e={}){return t=>(typeof e._count=="boolean"&&(t._count=t._count._all),t)}function To(e,t){let r=ur(e);return t({action:"aggregate",unpacker:r,argsMapper:$e})(e)}function du(e={}){let{select:t,...r}=e;return typeof t=="object"?$e({...r,_count:t}):$e({...r,_count:{_all:!0}})}function mu(e={}){return typeof e.select=="object"?t=>ur(e)(t)._count:t=>ur(e)(t)._count._all}function Po(e,t){return t({action:"count",unpacker:mu(e),argsMapper:du})(e)}function fu(e={}){let t=$e(e);if(Array.isArray(t.by))for(let r of t.by)typeof r=="string"&&(t.select[r]=!0);else typeof t.by=="string"&&(t.select[t.by]=!0);return t}function gu(e={}){return t=>(typeof e?._count=="boolean"&&t.forEach(r=>{r._count=r._count._all}),t)}function Ao(e,t){return t({action:"groupBy",unpacker:gu(e),argsMapper:fu})(e)}function So(e,t,r){if(t==="aggregate")return n=>To(n,r);if(t==="count")return n=>Po(n,r);if(t==="groupBy")return n=>Ao(n,r)}function vo(e,t){let r=t.fields.filter(i=>!i.relationName),n=ui(r,"name");return new Proxy({},{get(i,o){if(o in i||typeof o=="symbol")return i[o];let s=n[o];if(s)return new pt(e,o,s.type,s.isList,s.kind==="enum")},...cr(Object.keys(n))})}var Co=e=>Array.isArray(e)?e:e.split("."),un=(e,t)=>Co(t).reduce((r,n)=>r&&r[n],e),Ro=(e,t,r)=>Co(t).reduceRight((n,i,o,s)=>Object.assign({},un(e,s.slice(0,o)),{[i]:n}),r);function yu(e,t){return e===void 0||t===void 0?[]:[...t,"select",e]}function hu(e,t,r){return t===void 0?e??{}:Ro(t,r,e||!0)}function pn(e,t,r,n,i,o){let a=e._runtimeDataModel.models[t].fields.reduce((l,c)=>({...l,[c.name]:c}),{});return l=>{let c=ae(e._errorFormat),u=yu(n,i),p=hu(l,o,u),y=r({dataPath:u,callsite:c})(p),h=wu(e,t);return new Proxy(y,{get(g,E){if(!h.includes(E))return g[E];let re=[a[E].type,r,E],R=[u,p];return pn(e,...re,...R)},...cr([...h,...Object.getOwnPropertyNames(y)])})}}function wu(e,t){return e._runtimeDataModel.models[t].fields.filter(r=>r.kind==="object").map(r=>r.name)}var xu=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],bu=["aggregate","count","groupBy"];function dn(e,t){let r=e._extensions.getAllModelExtensions(t)??{},n=[Eu(e,t),Pu(e,t),gt(r),N("name",()=>t),N("$name",()=>t),N("$parent",()=>e._appliedParent)];return Q({},n)}function Eu(e,t){let r=G(t),n=Object.keys(Re).concat("count");return{getKeys(){return n},getPropertyValue(i){let o=i,s=a=>l=>{let c=ae(e._errorFormat);return e._createPrismaPromise(u=>{let p={args:l,dataPath:[],action:o,model:t,clientMethod:`${r}.${i}`,jsModelName:r,transaction:u,callsite:c};return e._request({...p,...a})},{action:o,args:l,model:t})};return xu.includes(o)?pn(e,t,s):Tu(i)?So(e,i,s):s({})}}}function Tu(e){return bu.includes(e)}function Pu(e,t){return fe(N("fields",()=>{let r=e._runtimeDataModel.models[t];return vo(t,r)}))}function ko(e){return e.replace(/^./,t=>t.toUpperCase())}var mn=Symbol();function ht(e){let t=[Au(e),Su(e),N(mn,()=>e),N("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(gt(r)),Q(e,t)}function Au(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys(){return r},getPropertyValue(n){return e[n]}}}function Su(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(G),n=[...new Set(t.concat(r))];return fe({getKeys(){return n},getPropertyValue(i){let o=ko(i);if(e._runtimeDataModel.models[o]!==void 0)return dn(e,o);if(e._runtimeDataModel.models[i]!==void 0)return dn(e,i)},getPropertyDescriptor(i){if(!r.includes(i))return{enumerable:!1}}})}function Oo(e){return e[mn]?e[mn]:e}function Io(e){if(typeof e=="function")return e(this);let t=Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}});return ht(t)}function Fo({result:e,modelName:t,select:r,omit:n,extensions:i}){let o=i.getAllComputedFields(t);if(!o)return e;let s=[],a=[];for(let l of Object.values(o)){if(n){if(n[l.name])continue;let c=l.needs.filter(u=>n[u]);c.length>0&&a.push(Le(c))}else if(r){if(!r[l.name])continue;let c=l.needs.filter(u=>!r[u]);c.length>0&&a.push(Le(c))}vu(e,l.needs)&&s.push(Cu(l,Q(e,s)))}return s.length>0||a.length>0?Q(e,[...s,...a]):e}function vu(e,t){return t.every(r=>Zr(e,r))}function Cu(e,t){return fe(N(e.name,()=>e.compute(t)))}function pr({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let s=0;s<t.length;s++)t[s]=pr({result:t[s],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let o=e(t,i,r)??t;return r.include&&Mo({includeOrSelect:r.include,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&Mo({includeOrSelect:r.select,result:o,parentModelName:i,runtimeDataModel:n,visitor:e}),o}function Mo({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[o,s]of Object.entries(e)){if(!s||t[o]==null||K(s))continue;let l=n.models[r].fields.find(u=>u.name===o);if(!l||l.kind!=="object"||!l.relationName)continue;let c=typeof s=="object"?s:{};t[o]=pr({visitor:i,result:t[o],args:c,modelName:l.type,runtimeDataModel:n})}}function Do({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:o}){return n.isEmpty()||e==null||typeof e!="object"||!i.models[t]?e:pr({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(a,l,c)=>{let u=G(l);return Fo({result:a,modelName:u,select:c.select,omit:c.select?void 0:{...o?.[u],...c.omit},extensions:n})}})}var ge=require("@prisma/client-runtime-utils");var Ru=["$connect","$disconnect","$on","$transaction","$extends"],No=Ru;function _o(e){if(e instanceof ge.Sql)return ku(e);if(ar(e))return Ou(e);if(Array.isArray(e)){let r=[e[0]];for(let n=1;n<e.length;n++)r[n]=wt(e[n]);return r}let t={};for(let r in e)t[r]=wt(e[r]);return t}function ku(e){return new ge.Sql(e.strings,e.values)}function Ou(e){return new ft(e.sql,e.values)}function wt(e){if(typeof e!="object"||e==null||e instanceof ge.ObjectEnumValue||De(e))return e;if(Ce(e))return new ge.Decimal(e.toFixed());if(ve(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t=e.length,r;for(r=Array(t);t--;)r[t]=wt(e[t]);return r}if(typeof e=="object"){let t={};for(let r in e)r==="__proto__"?Object.defineProperty(t,r,{value:wt(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=wt(e[r]);return t}X(e,"Unknown value")}function $o(e,t,r,n=0){return e._createPrismaPromise(i=>{let o=t.customDataProxyFetch;return"transaction"in t&&i!==void 0&&(t.transaction?.kind==="batch"&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:_o(t.args??{}),__internalParams:t,query:(s,a=t)=>{let l=a.customDataProxyFetch;return a.customDataProxyFetch=jo(o,l),a.args=s,$o(e,a,r,n+1)}})})}function qo(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,o=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let s=e._extensions.getAllQueryCallbacks(r??"$none",o);return $o(e,t,s)}function Vo(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?Uo(r,n,0,e):e(r)}}function Uo(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,o=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(s=>({model:s.modelName,operation:s.action,args:s.args})),transaction:o?{isolationLevel:o.kind==="batch"?o.isolationLevel:void 0}:void 0},__internalParams:e,query(s,a=e){let l=a.customDataProxyFetch;return a.customDataProxyFetch=jo(i,l),Uo(a,t,r+1,n)}})}var Lo=e=>e;function jo(e=Lo,t=Lo){return r=>e(t(r))}var Go=require("@prisma/client-runtime-utils");var xt=require("@prisma/client-runtime-utils");function b(e,t){throw new Error(t)}function fn(e,t){return e===t||e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>fn(e[r],t[r]))}function qe(e,t){let r=Object.keys(e),n=Object.keys(t);return(r.length<n.length?r:n).every(o=>{if(typeof e[o]==typeof t[o]&&typeof e[o]!="object")return e[o]===t[o];if(xt.Decimal.isDecimal(e[o])||xt.Decimal.isDecimal(t[o])){let s=Bo(e[o]),a=Bo(t[o]);return s&&a&&s.equals(a)}else if(e[o]instanceof Uint8Array||t[o]instanceof Uint8Array){let s=Qo(e[o]),a=Qo(t[o]);return s&&a&&s.equals(a)}else{if(e[o]instanceof Date||t[o]instanceof Date)return Ho(e[o])?.getTime()===Ho(t[o])?.getTime();if(typeof e[o]=="bigint"||typeof t[o]=="bigint")return Jo(e[o])===Jo(t[o]);if(typeof e[o]=="number"||typeof t[o]=="number")return Wo(e[o])===Wo(t[o])}return fn(e[o],t[o])})}function Bo(e){return xt.Decimal.isDecimal(e)?e:typeof e=="number"||typeof e=="string"?new xt.Decimal(e):void 0}function Qo(e){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e.buffer,e.byteOffset,e.byteLength):typeof e=="string"?Buffer.from(e,"base64"):void 0}function Ho(e){return e instanceof Date?e:typeof e=="string"||typeof e=="number"?new Date(e):void 0}function Jo(e){return typeof e=="bigint"?e:typeof e=="number"||typeof e=="string"?BigInt(e):void 0}function Wo(e){return typeof e=="number"?e:typeof e=="string"?Number(e):void 0}function bt(e){return JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString():ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("base64"):r)}function Iu(e){return e!==null&&typeof e=="object"&&typeof e.$type=="string"}function Fu(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function le(e){return e===null?e:Array.isArray(e)?e.map(le):typeof e=="object"?Iu(e)?Mu(e):e.constructor!==null&&e.constructor.name!=="Object"?e:Fu(e,le):e}function Mu({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"DateTime":return new Date(t);case"Decimal":return new Go.Decimal(t);case"Json":return JSON.parse(t);default:b(t,"Unknown tagged value")}}function dr(e){return e.name==="DriverAdapterError"&&typeof e.cause=="object"}var d={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};var O=class extends Error{name="UserFacingError";code;meta;constructor(t,r,n){super(t),this.code=r,this.meta=n??{}}toQueryResponseErrorObject(){return{error:this.message,user_facing_error:{is_panic:!1,message:this.message,meta:this.meta,error_code:this.code}}}};function Ve(e){if(!dr(e))throw e;let t=Du(e),r=Ko(e);throw!t||!r?e:new O(r,t,{driverAdapterError:e})}function yn(e){throw dr(e)?new O(`Raw query failed. Code: \`${e.cause.originalCode??"N/A"}\`. Message: \`${e.cause.originalMessage??Ko(e)}\``,"P2010",{driverAdapterError:e}):e}function Du(e){switch(e.cause.kind){case"AuthenticationFailed":return"P1000";case"DatabaseNotReachable":return"P1001";case"DatabaseDoesNotExist":return"P1003";case"SocketTimeout":return"P1008";case"DatabaseAlreadyExists":return"P1009";case"DatabaseAccessDenied":return"P1010";case"TlsConnectionError":return"P1011";case"ConnectionClosed":return"P1017";case"TransactionAlreadyClosed":return"P1018";case"LengthMismatch":return"P2000";case"UniqueConstraintViolation":return"P2002";case"ForeignKeyConstraintViolation":return"P2003";case"InvalidInputValue":return"P2007";case"UnsupportedNativeDataType":return"P2010";case"NullConstraintViolation":return"P2011";case"ValueOutOfRange":return"P2020";case"TableDoesNotExist":return"P2021";case"ColumnNotFound":return"P2022";case"InvalidIsolationLevel":case"InconsistentColumnData":return"P2023";case"MissingFullTextSearchIndex":return"P2030";case"TransactionWriteConflict":return"P2034";case"GenericJs":return"P2036";case"TooManyConnections":return"P2037";case"postgres":case"sqlite":case"mysql":case"mssql":return;default:b(e.cause,`Unknown error: ${e.cause}`)}}function Ko(e){switch(e.cause.kind){case"AuthenticationFailed":return`Authentication failed against the database server, the provided database credentials for \`${e.cause.user??"(not available)"}\` are not valid`;case"DatabaseNotReachable":{let t=e.cause.host&&e.cause.port?`${e.cause.host}:${e.cause.port}`:e.cause.host;return`Can't reach database server${t?` at ${t}`:""}`}case"DatabaseDoesNotExist":return`Database \`${e.cause.db??"(not available)"}\` does not exist on the database server`;case"SocketTimeout":return"Operation has timed out";case"DatabaseAlreadyExists":return`Database \`${e.cause.db??"(not available)"}\` already exists on the database server`;case"DatabaseAccessDenied":return`User was denied access on the database \`${e.cause.db??"(not available)"}\``;case"TlsConnectionError":return`Error opening a TLS connection: ${e.cause.reason}`;case"ConnectionClosed":return"Server has closed the connection.";case"TransactionAlreadyClosed":return e.cause.cause;case"LengthMismatch":return`The provided value for the column is too long for the column's type. Column: ${e.cause.column??"(not available)"}`;case"UniqueConstraintViolation":return`Unique constraint failed on the ${gn(e.cause.constraint)}`;case"ForeignKeyConstraintViolation":return`Foreign key constraint violated on the ${gn(e.cause.constraint)}`;case"UnsupportedNativeDataType":return`Failed to deserialize column of type '${e.cause.type}'. If you're using $queryRaw and this column is explicitly marked as \`Unsupported\` in your Prisma schema, try casting this column to any supported Prisma type such as \`String\`.`;case"NullConstraintViolation":return`Null constraint violation on the ${gn(e.cause.constraint)}`;case"ValueOutOfRange":return`Value out of range for the type: ${e.cause.cause}`;case"TableDoesNotExist":return`The table \`${e.cause.table??"(not available)"}\` does not exist in the current database.`;case"ColumnNotFound":return`The column \`${e.cause.column??"(not available)"}\` does not exist in the current database.`;case"InvalidIsolationLevel":return`Error in connector: Conversion error: ${e.cause.level}`;case"InconsistentColumnData":return`Inconsistent column data: ${e.cause.cause}`;case"MissingFullTextSearchIndex":return"Cannot find a fulltext index to use for the native search, try adding a @@fulltext([Fields...]) to your schema";case"TransactionWriteConflict":return"Transaction failed due to a write conflict or a deadlock. Please retry your transaction";case"GenericJs":return`Error in external connector (id ${e.cause.id})`;case"TooManyConnections":return`Too many database connections opened: ${e.cause.cause}`;case"InvalidInputValue":return`Invalid input value: ${e.cause.message}`;case"sqlite":case"postgres":case"mysql":case"mssql":return;default:b(e.cause,`Unknown error: ${e.cause}`)}}function gn(e){return e&&"fields"in e?`fields: (${e.fields.map(t=>`\`${t}\``).join(", ")})`:e&&"index"in e?`constraint: \`${e.index}\``:e&&"foreignKey"in e?"foreign key":"(not available)"}function zo(e,t){let r=e.map(i=>t.keys.reduce((o,s)=>(o[s]=le(i[s]),o),{})),n=new Set(t.nestedSelection);return t.arguments.map(i=>{let o=r.findIndex(s=>qe(s,i));if(o===-1)return t.expectNonEmpty?new O("An operation failed because it depends on one or more records that were required but not found","P2025"):null;{let s=Object.entries(e[o]).filter(([a])=>n.has(a));return Object.fromEntries(s)}})}var Yo=require("@prisma/client-runtime-utils");var A=class extends O{name="DataMapperError";constructor(t,r){super(t,"P2023",r)}};function Xo(e,t,r){switch(t.type){case"affectedRows":if(typeof e!="number")throw new A(`Expected an affected rows count, got: ${typeof e} (${e})`);return{count:e};case"object":return wn(e,t.fields,r,t.skipNulls);case"field":return hn(e,"<result>",t.fieldType,r);default:b(t,`Invalid data mapping type: '${t.type}'`)}}function wn(e,t,r,n){if(e===null)return null;if(Array.isArray(e)){let i=e;return n&&(i=i.filter(o=>o!==null)),i.map(o=>Zo(o,t,r))}if(typeof e=="object")return Zo(e,t,r);if(typeof e=="string"){let i;try{i=JSON.parse(e)}catch(o){throw new A("Expected an array or object, got a string that is not valid JSON",{cause:o})}return wn(i,t,r,n)}throw new A(`Expected an array or an object, got: ${typeof e}`)}function Zo(e,t,r){if(typeof e!="object")throw new A(`Expected an object, but got '${typeof e}'`);let n={};for(let[i,o]of Object.entries(t))switch(o.type){case"affectedRows":throw new A(`Unexpected 'AffectedRows' node in data mapping for field '${i}'`);case"object":{if(o.serializedName!==null&&!Object.hasOwn(e,o.serializedName))throw new A(`Missing data field (Object): '${i}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`);let s=o.serializedName!==null?e[o.serializedName]:e;n[i]=wn(s,o.fields,r,o.skipNulls);break}case"field":{let s=o.dbName;if(Object.hasOwn(e,s))n[i]=Nu(e[s],s,o.fieldType,r);else throw new A(`Missing data field (Value): '${s}'; node: ${JSON.stringify(o)}; data: ${JSON.stringify(e)}`)}break;default:b(o,`DataMapper: Invalid data mapping node type: '${o.type}'`)}return n}function Nu(e,t,r,n){return e===null?r.arity==="list"?[]:null:r.arity==="list"?e.map((o,s)=>hn(o,`${t}[${s}]`,r,n)):hn(e,t,r,n)}function hn(e,t,r,n){switch(r.type){case"unsupported":return e;case"string":{if(typeof e!="string")throw new A(`Expected a string in column '${t}', got ${typeof e}: ${e}`);return e}case"int":switch(typeof e){case"number":return Math.trunc(e);case"string":{let i=Math.trunc(Number(e));if(Number.isNaN(i)||!Number.isFinite(i))throw new A(`Expected an integer in column '${t}', got string: ${e}`);if(!Number.isSafeInteger(i))throw new A(`Integer value in column '${t}' is too large to represent as a JavaScript number without loss of precision, got: ${e}. Consider using BigInt type.`);return i}default:throw new A(`Expected an integer in column '${t}', got ${typeof e}: ${e}`)}case"bigint":{if(typeof e!="number"&&typeof e!="string")throw new A(`Expected a bigint in column '${t}', got ${typeof e}: ${e}`);return{$type:"BigInt",value:e}}case"float":{if(typeof e=="number")return e;if(typeof e=="string"){let i=Number(e);if(Number.isNaN(i)&&!/^[-+]?nan$/.test(e.toLowerCase()))throw new A(`Expected a float in column '${t}', got string: ${e}`);return i}throw new A(`Expected a float in column '${t}', got ${typeof e}: ${e}`)}case"boolean":{if(typeof e=="boolean")return e;if(typeof e=="number")return e===1;if(typeof e=="string"){if(e==="true"||e==="TRUE"||e==="1")return!0;if(e==="false"||e==="FALSE"||e==="0")return!1;throw new A(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}if(Array.isArray(e)||e instanceof Uint8Array){for(let i of e)if(i!==0)return!0;return!1}throw new A(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}case"decimal":if(typeof e!="number"&&typeof e!="string"&&!Yo.Decimal.isDecimal(e))throw new A(`Expected a decimal in column '${t}', got ${typeof e}: ${e}`);return{$type:"Decimal",value:e};case"datetime":{if(typeof e=="string")return{$type:"DateTime",value:Lu(e)};if(typeof e=="number"||e instanceof Date)return{$type:"DateTime",value:e};throw new A(`Expected a date in column '${t}', got ${typeof e}: ${e}`)}case"object":return{$type:"Json",value:bt(e)};case"json":return{$type:"Json",value:`${e}`};case"bytes":{switch(r.encoding){case"base64":if(typeof e!="string")throw new A(`Expected a base64-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:e};case"hex":if(typeof e!="string"||!e.startsWith("\\x"))throw new A(`Expected a hex-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:Buffer.from(e.slice(2),"hex").toString("base64")};case"array":if(Array.isArray(e))return{$type:"Bytes",value:Buffer.from(e).toString("base64")};if(e instanceof Uint8Array)return{$type:"Bytes",value:Buffer.from(e).toString("base64")};throw new A(`Expected a byte array in column '${t}', got ${typeof e}: ${e}`);default:b(r.encoding,`DataMapper: Unknown bytes encoding: ${r.encoding}`)}break}case"enum":{let i=n[r.name];if(i===void 0)throw new A(`Unknown enum '${r.name}'`);let o=i[`${e}`];if(o===void 0)throw new A(`Value '${e}' not found in enum '${r.name}'`);return o}default:b(r,`DataMapper: Unknown result type: ${r.type}`)}}var _u=/\d{2}:\d{2}:\d{2}(?:\.\d+)?(Z|[+-]\d{2}(:?\d{2})?)?$/;function Lu(e){let t=_u.exec(e);if(t===null)return`${e}T00:00:00Z`;let r=e,[n,i,o]=t;if(i!==void 0&&i!=="Z"&&o===void 0?r=`${e}:00`:i===void 0&&(r=`${e}Z`),n.length===e.length)return`1970-01-01T${r}`;let s=t.index-1;return r[s]===" "&&(r=`${r.slice(0,s)}T${r.slice(s+1)}`),r}function $u(e){let t=Object.entries(e);return t.length===0?"":(t.sort(([n],[i])=>n.localeCompare(i)),`/*${t.map(([n,i])=>{let o=encodeURIComponent(n),s=encodeURIComponent(i).replace(/'/g,"\\'");return`${o}='${s}'`}).join(",")}*/`)}function mr(e,t){let r={};for(let n of e){let i=n(t);for(let[o,s]of Object.entries(i))s!==void 0&&(r[o]=s)}return r}function es(e,t){let r=mr(e,t);return $u(r)}function ts(e,t){return t?`${e} ${t}`:e}var Et;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(Et||(Et={}));function qu(e){switch(e){case"postgresql":case"postgres":case"prisma+postgres":return"postgresql";case"sqlserver":return"mssql";case"mysql":case"sqlite":case"cockroachdb":case"mongodb":return e;default:b(e,`Unknown provider: ${e}`)}}async function fr({query:e,tracingHelper:t,provider:r,onQuery:n,execute:i}){return await t.runInChildSpan({name:"db_query",kind:Et.CLIENT,attributes:{"db.query.text":e.sql,"db.system.name":qu(r)}},async()=>{let o=new Date,s=performance.now(),a=await i(),l=performance.now();return n?.({timestamp:o,duration:l-s,query:e.sql,params:e.args}),a})}function ye(e,t){var r="000000000"+e;return r.substr(r.length-t)}var rs=V(require("node:os"),1);function Vu(){try{return rs.default.hostname()}catch{return process.env._CLUSTER_NETWORK_NAME_||process.env.COMPUTERNAME||"hostname"}}var ns=2,Uu=ye(process.pid.toString(36),ns),is=Vu(),ju=is.length,Bu=ye(is.split("").reduce(function(e,t){return+e+t.charCodeAt(0)},+ju+36).toString(36),ns);function xn(){return Uu+Bu}function gr(e){return typeof e=="string"&&/^c[a-z0-9]{20,32}$/.test(e)}function bn(e){let n=Math.pow(36,4),i=0;function o(){return ye((Math.random()*n<<0).toString(36),4)}function s(){return i=i<n?i:0,i++,i-1}function a(){var l="c",c=new Date().getTime().toString(36),u=ye(s().toString(36),4),p=e(),y=o()+o();return l+c+u+p+y}return a.fingerprint=e,a.isCuid=gr,a}var Qu=bn(xn);var os=Qu;var ia=V(Ks());var kn=require("node:crypto");var zs="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var Op=128,we,Be;function Ip(e){!we||we.length<e?(we=Buffer.allocUnsafe(e*Op),kn.webcrypto.getRandomValues(we),Be=0):Be+e>we.length&&(kn.webcrypto.getRandomValues(we),Be=0),Be+=e}function On(e=21){Ip(e|=0);let t="";for(let r=Be-e;r<Be;r++)t+=zs[we[r]&63];return t}var Ct=V(require("node:crypto"),1);var Ys="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Rt=32;var Fp=16,Xs=10,Zs=0xffffffffffff;var xe;(function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"})(xe||(xe={}));var be=class extends Error{constructor(t,r){super(`${r} (${t})`),this.name="ULIDError",this.code=t}};function Mp(e){let t=Math.floor(e()*Rt);return t===Rt&&(t=Rt-1),Ys.charAt(t)}function Dp(e){let t=Np(),r=t&&(t.crypto||t.msCrypto)||(typeof Ct.default<"u"?Ct.default:null);if(typeof r?.getRandomValues=="function")return()=>{let n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;if(Ct.default?.randomBytes)return()=>Ct.default.randomBytes(1).readUInt8()/255;throw new be(xe.PRNGDetectFailure,"Failed to find a reliable PRNG")}function Np(){return $p()?self:typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:null}function _p(e,t){let r="";for(;e>0;e--)r=Mp(t)+r;return r}function Lp(e,t=Xs){if(isNaN(e))throw new be(xe.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>Zs)throw new be(xe.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${Zs}: ${e}`);if(e<0)throw new be(xe.EncodeTimeNegative,`Time must be positive: ${e}`);if(Number.isInteger(e)===!1)throw new be(xe.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let r,n="";for(let i=t;i>0;i--)r=e%Rt,n=Ys.charAt(r)+n,e=(e-r)/Rt;return n}function $p(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function ea(e,t){let r=t||Dp(),n=!e||isNaN(e)?Date.now():e;return Lp(n,Xs)+_p(Fp,r)}var I=[];for(let e=0;e<256;++e)I.push((e+256).toString(16).slice(1));function xr(e,t=0){return(I[e[t+0]]+I[e[t+1]]+I[e[t+2]]+I[e[t+3]]+"-"+I[e[t+4]]+I[e[t+5]]+"-"+I[e[t+6]]+I[e[t+7]]+"-"+I[e[t+8]]+I[e[t+9]]+"-"+I[e[t+10]]+I[e[t+11]]+I[e[t+12]]+I[e[t+13]]+I[e[t+14]]+I[e[t+15]]).toLowerCase()}var ta=require("node:crypto"),Er=new Uint8Array(256),br=Er.length;function Qe(){return br>Er.length-16&&((0,ta.randomFillSync)(Er),br=0),Er.slice(br,br+=16)}var ra=require("node:crypto"),In={randomUUID:ra.randomUUID};function qp(e,t,r){if(In.randomUUID&&!t&&!e)return In.randomUUID();e=e||{};let n=e.random??e.rng?.()??Qe();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[r+i]=n[i];return t}return xr(n)}var Fn=qp;var Mn={};function Vp(e,t,r){let n;if(e)n=na(e.random??e.rng?.()??Qe(),e.msecs,e.seq,t,r);else{let i=Date.now(),o=Qe();Up(Mn,i,o),n=na(o,Mn.msecs,Mn.seq,t,r)}return t??xr(n)}function Up(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function na(e,t,r,n,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!n)n=new Uint8Array(16),i=0;else if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);return t??=Date.now(),r??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=t&255,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|e[10]&3,n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}var Dn=Vp;var Tr=class{#t={};constructor(){this.register("uuid",new _n),this.register("cuid",new Ln),this.register("ulid",new $n),this.register("nanoid",new qn),this.register("product",new Vn)}snapshot(){return Object.create(this.#t,{now:{value:new Nn}})}register(t,r){this.#t[t]=r}},Nn=class{#t=new Date;generate(){return this.#t.toISOString()}},_n=class{generate(t){if(t===4)return Fn();if(t===7)return Dn();throw new Error("Invalid UUID generator arguments")}},Ln=class{generate(t){if(t===1)return os();if(t===2)return(0,ia.createId)();throw new Error("Invalid CUID generator arguments")}},$n=class{generate(){return ea()}},qn=class{generate(t){if(typeof t=="number")return On(t);if(t===void 0)return On();throw new Error("Invalid Nanoid generator arguments")}},Vn=class{generate(t,r){if(t===void 0||r===void 0)throw new Error("Invalid Product generator arguments");return Array.isArray(t)&&Array.isArray(r)?t.flatMap(n=>r.map(i=>[n,i])):Array.isArray(t)?t.map(n=>[n,r]):Array.isArray(r)?r.map(n=>[t,n]):[[t,r]]}};function Pr(e,t){return e==null?e:typeof e=="string"?Pr(JSON.parse(e),t):Array.isArray(e)?Bp(e,t):jp(e,t)}function jp(e,t){if(t.pagination){let{skip:r,take:n,cursor:i}=t.pagination;if(r!==null&&r>0||n===0||i!==null&&!qe(e,i))return null}return sa(e,t.nested)}function sa(e,t){for(let[r,n]of Object.entries(t))e[r]=Pr(e[r],n);return e}function Bp(e,t){if(t.distinct!==null){let r=t.linkingFields!==null?[...t.distinct,...t.linkingFields]:t.distinct;e=Qp(e,r)}return t.pagination&&(e=Hp(e,t.pagination,t.linkingFields)),t.reverse&&e.reverse(),Object.keys(t.nested).length===0?e:e.map(r=>sa(r,t.nested))}function Qp(e,t){let r=new Set,n=[];for(let i of e){let o=He(i,t);r.has(o)||(r.add(o),n.push(i))}return n}function Hp(e,t,r){if(r===null)return oa(e,t);let n=new Map;for(let o of e){let s=He(o,r);n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=Array.from(n.entries());return i.sort(([o],[s])=>o<s?-1:o>s?1:0),i.flatMap(([,o])=>oa(o,t))}function oa(e,{cursor:t,skip:r,take:n}){let i=t!==null?e.findIndex(a=>qe(a,t)):0;if(i===-1)return[];let o=i+(r??0),s=n!==null?o+n:e.length;return e.slice(o,s)}function He(e,t){return JSON.stringify(t.map(r=>e[r]))}function Un(e){return typeof e=="object"&&e!==null&&e.prisma__type==="param"}function jn(e){return typeof e=="object"&&e!==null&&e.prisma__type==="generatorCall"}function Hn(e,t,r,n){let i=e.args.map(o=>H(o,t,r));switch(e.type){case"rawSql":return[Gp(e.sql,i,e.argTypes)];case"templateSql":return(e.chunkable?zp(e.fragments,i,n):[i]).map(s=>{if(n!==void 0&&s.length>n)throw new O("The query parameter limit supported by your database is exceeded.","P2029");return Jp(e.fragments,e.placeholderFormat,s,e.argTypes)});default:b(e.type,"Invalid query type")}}function H(e,t,r){for(;Kp(e);)if(Un(e)){let n=t[e.prisma__value.name];if(n===void 0)throw new Error(`Missing value for query variable ${e.prisma__value.name}`);e=n}else if(jn(e)){let{name:n,args:i}=e.prisma__value,o=r[n];if(!o)throw new Error(`Encountered an unknown generator '${n}'`);e=o.generate(...i.map(s=>H(s,t,r)))}else b(e,`Unexpected unevaluated value type: ${e}`);return Array.isArray(e)&&(e=e.map(n=>H(n,t,r))),e}function Jp(e,t,r,n){let i="",o={placeholderNumber:1},s=[],a=[];for(let l of Qn(e,r,n)){if(i+=Wp(l,t,o),l.type==="stringChunk")continue;let c=s.length,u=s.push(...aa(l))-c;if(l.argType.arity==="tuple"){if(u%l.argType.elements.length!==0)throw new Error(`Malformed query template. Expected the number of parameters to match the tuple arity, but got ${u} parameters for a tuple of arity ${l.argType.elements.length}.`);for(let p=0;p<u/l.argType.elements.length;p++)a.push(...l.argType.elements)}else for(let p=0;p<u;p++)a.push(l.argType)}return{sql:i,args:s,argTypes:a}}function Wp(e,t,r){let n=e.type;switch(n){case"parameter":return Bn(t,r.placeholderNumber++);case"stringChunk":return e.chunk;case"parameterTuple":return`(${e.value.length==0?"NULL":e.value.map(()=>Bn(t,r.placeholderNumber++)).join(",")})`;case"parameterTupleList":return e.value.map(i=>{let o=i.map(()=>Bn(t,r.placeholderNumber++)).join(e.itemSeparator);return`${e.itemPrefix}${o}${e.itemSuffix}`}).join(e.groupSeparator);default:b(n,"Invalid fragment type")}}function Bn(e,t){return e.hasNumbering?`${e.prefix}${t}`:e.prefix}function Gp(e,t,r){return{sql:e,args:t,argTypes:r}}function Kp(e){return Un(e)||jn(e)}function*Qn(e,t,r){let n=0;for(let i of e)switch(i.type){case"parameter":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);yield{...i,value:t[n],argType:r?.[n]},n++;break}case"stringChunk":{yield i;break}case"parameterTuple":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];yield{...i,value:Array.isArray(o)?o:[o],argType:r?.[n]},n++;break}case"parameterTupleList":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let o=t[n];if(!Array.isArray(o))throw new Error("Malformed query template. Tuple list expected.");if(o.length===0)throw new Error("Malformed query template. Tuple list cannot be empty.");for(let s of o)if(!Array.isArray(s))throw new Error("Malformed query template. Tuple expected.");yield{...i,value:o,argType:r?.[n]},n++;break}}}function*aa(e){switch(e.type){case"parameter":yield e.value;break;case"stringChunk":break;case"parameterTuple":yield*e.value;break;case"parameterTupleList":for(let t of e.value)yield*t;break}}function zp(e,t,r){let n=0,i=0;for(let s of Qn(e,t,void 0)){let a=0;for(let l of aa(s))a++;i=Math.max(i,a),n+=a}let o=[[]];for(let s of Qn(e,t,void 0))switch(s.type){case"parameter":{for(let a of o)a.push(s.value);break}case"stringChunk":break;case"parameterTuple":{let a=s.value.length,l=[];if(r&&o.length===1&&a===i&&n>r&&n-a<r){let c=r-(n-a);l=Zp(s.value,c)}else l=[s.value];o=o.flatMap(c=>l.map(u=>[...c,u]));break}case"parameterTupleList":{let a=s.value.reduce((p,y)=>p+y.length,0),l=[],c=[],u=0;for(let p of s.value)r&&o.length===1&&a===i&&c.length>0&&n-a+u+p.length>r&&(l.push(c),c=[],u=0),c.push(p),u+=p.length;c.length>0&&l.push(c),o=o.flatMap(p=>l.map(y=>[...p,y]));break}}return o}function Zp(e,t){let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}function la(e){return e.rows.map(t=>t.reduce((r,n,i)=>(r[e.columnNames[i]]=n,r),{}))}function ca(e){return{columns:e.columnNames,types:e.columnTypes.map(t=>Yp(t)),rows:e.rows.map(t=>t.map((r,n)=>kt(r,e.columnTypes[n])))}}function kt(e,t){if(e===null)return null;switch(t){case d.Int32:switch(typeof e){case"number":return Math.trunc(e);case"string":return Math.trunc(Number(e));default:throw new Error(`Cannot serialize value of type ${typeof e} as Int32`)}case d.Int32Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int32Array`);return e.map(r=>kt(r,d.Int32));case d.Int64:switch(typeof e){case"number":return BigInt(Math.trunc(e));case"string":return e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Int64`)}case d.Int64Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int64Array`);return e.map(r=>kt(r,d.Int64));case d.Json:switch(typeof e){case"string":return JSON.parse(e);default:throw new Error(`Cannot serialize value of type ${typeof e} as Json`)}case d.JsonArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as JsonArray`);return e.map(r=>kt(r,d.Json));case d.Boolean:switch(typeof e){case"boolean":return e;case"string":return e==="true"||e==="1";case"number":return e===1;default:throw new Error(`Cannot serialize value of type ${typeof e} as Boolean`)}case d.BooleanArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BooleanArray`);return e.map(r=>kt(r,d.Boolean));default:return e}}function Yp(e){switch(e){case d.Int32:return"int";case d.Int64:return"bigint";case d.Float:return"float";case d.Double:return"double";case d.Text:return"string";case d.Enum:return"enum";case d.Bytes:return"bytes";case d.Boolean:return"bool";case d.Character:return"char";case d.Numeric:return"decimal";case d.Json:return"json";case d.Uuid:return"uuid";case d.DateTime:return"datetime";case d.Date:return"date";case d.Time:return"time";case d.Int32Array:return"int-array";case d.Int64Array:return"bigint-array";case d.FloatArray:return"float-array";case d.DoubleArray:return"double-array";case d.TextArray:return"string-array";case d.EnumArray:return"string-array";case d.BytesArray:return"bytes-array";case d.BooleanArray:return"bool-array";case d.CharacterArray:return"char-array";case d.NumericArray:return"decimal-array";case d.JsonArray:return"json-array";case d.UuidArray:return"uuid-array";case d.DateTimeArray:return"datetime-array";case d.DateArray:return"date-array";case d.TimeArray:return"time-array";case d.UnknownNumber:return"unknown";case d.Set:return"string";default:b(e,`Unexpected column type: ${e}`)}}function ua(e,t,r){if(!t.every(n=>Jn(e,n))){let n=Xp(e,r),i=ed(r);throw new O(n,i,r.context)}}function Jn(e,t){switch(t.type){case"rowCountEq":return Array.isArray(e)?e.length===t.args:e===null?t.args===0:t.args===1;case"rowCountNeq":return Array.isArray(e)?e.length!==t.args:e===null?t.args!==0:t.args!==1;case"affectedRowCountEq":return e===t.args;case"never":return!1;default:b(t,`Unknown rule type: ${t.type}`)}}function Xp(e,t){switch(t.error_identifier){case"RELATION_VIOLATION":return`The change you are trying to make would violate the required relation '${t.context.relation}' between the \`${t.context.modelA}\` and \`${t.context.modelB}\` models.`;case"MISSING_RECORD":return`An operation failed because it depends on one or more records that were required but not found. No record was found for ${t.context.operation}.`;case"MISSING_RELATED_RECORD":{let r=t.context.neededFor?` (needed to ${t.context.neededFor})`:"";return`An operation failed because it depends on one or more records that were required but not found. No '${t.context.model}' record${r} was found for ${t.context.operation} on ${t.context.relationType} relation '${t.context.relation}'.`}case"INCOMPLETE_CONNECT_INPUT":return`An operation failed because it depends on one or more records that were required but not found. Expected ${t.context.expectedRows} records to be connected, found only ${Array.isArray(e)?e.length:e}.`;case"INCOMPLETE_CONNECT_OUTPUT":return`The required connected records were not found. Expected ${t.context.expectedRows} records to be connected after connect operation on ${t.context.relationType} relation '${t.context.relation}', found ${Array.isArray(e)?e.length:e}.`;case"RECORDS_NOT_CONNECTED":return`The records for relation \`${t.context.relation}\` between the \`${t.context.parent}\` and \`${t.context.child}\` models are not connected.`;default:b(t,`Unknown error identifier: ${t}`)}}function ed(e){switch(e.error_identifier){case"RELATION_VIOLATION":return"P2014";case"RECORDS_NOT_CONNECTED":return"P2017";case"INCOMPLETE_CONNECT_OUTPUT":return"P2018";case"MISSING_RECORD":case"MISSING_RELATED_RECORD":case"INCOMPLETE_CONNECT_INPUT":return"P2025";default:b(e,`Unknown error identifier: ${e}`)}}var Ot=class e{#t;#e;#r;#n=new Tr;#l;#i;#s;#o;#c;#a;constructor({transactionManager:t,placeholderValues:r,onQuery:n,tracingHelper:i,serializer:o,rawSerializer:s,provider:a,connectionInfo:l,sqlCommenter:c}){this.#t=t,this.#e=r,this.#r=n,this.#l=i,this.#i=o,this.#s=s??o,this.#o=a,this.#c=l,this.#a=c}static forSql(t){return new e({transactionManager:t.transactionManager,placeholderValues:t.placeholderValues,onQuery:t.onQuery,tracingHelper:t.tracingHelper,serializer:la,rawSerializer:ca,provider:t.provider,connectionInfo:t.connectionInfo,sqlCommenter:t.sqlCommenter})}async run(t,r){let{value:n}=await this.interpretNode(t,r,this.#e,this.#n.snapshot()).catch(i=>Ve(i));return n}async interpretNode(t,r,n,i){switch(t.type){case"value":return{value:H(t.args,n,i)};case"seq":{let o;for(let s of t.args)o=await this.interpretNode(s,r,n,i);return o??{value:void 0}}case"get":return{value:n[t.args.name]};case"let":{let o=Object.create(n);for(let s of t.args.bindings){let{value:a}=await this.interpretNode(s.expr,r,o,i);o[s.name]=a}return this.interpretNode(t.args.expr,r,o,i)}case"getFirstNonEmpty":{for(let o of t.args.names){let s=n[o];if(!pa(s))return{value:s}}return{value:[]}}case"concat":{let o=await Promise.all(t.args.map(s=>this.interpretNode(s,r,n,i).then(a=>a.value)));return{value:o.length>0?o.reduce((s,a)=>s.concat(Wn(a)),[]):[]}}case"sum":{let o=await Promise.all(t.args.map(s=>this.interpretNode(s,r,n,i).then(a=>a.value)));return{value:o.length>0?o.reduce((s,a)=>z(s)+z(a)):0}}case"execute":{let o=Hn(t.args,n,i,this.#u()),s=0;for(let a of o){let l=this.#m(a);s+=await this.#d(l,r,()=>r.executeRaw(l).catch(c=>t.args.type==="rawSql"?yn(c):Ve(c)))}return{value:s}}case"query":{let o=Hn(t.args,n,i,this.#u()),s;for(let a of o){let l=this.#m(a),c=await this.#d(l,r,()=>r.queryRaw(l).catch(u=>t.args.type==="rawSql"?yn(u):Ve(u)));s===void 0?s=c:(s.rows.push(...c.rows),s.lastInsertId=c.lastInsertId)}return{value:t.args.type==="rawSql"?this.#s(s):this.#i(s),lastInsertId:s?.lastInsertId}}case"reverse":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);return{value:Array.isArray(o)?o.reverse():o,lastInsertId:s}}case"unique":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);if(!Array.isArray(o))return{value:o,lastInsertId:s};if(o.length>1)throw new Error(`Expected zero or one element, got ${o.length}`);return{value:o[0]??null,lastInsertId:s}}case"required":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args,r,n,i);if(pa(o))throw new Error("Required value is empty");return{value:o,lastInsertId:s}}case"mapField":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.records,r,n,i);return{value:da(o,t.args.field),lastInsertId:s}}case"join":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.parent,r,n,i);if(o===null)return{value:null,lastInsertId:s};let a=await Promise.all(t.args.children.map(async l=>({joinExpr:l,childRecords:(await this.interpretNode(l.child,r,n,i)).value})));return{value:td(o,a),lastInsertId:s}}case"transaction":{if(!this.#t.enabled)return this.interpretNode(t.args,r,n,i);let o=this.#t.manager,s=await o.startInternalTransaction(),a=await o.getTransaction(s,"query");try{let l=await this.interpretNode(t.args,a,n,i);return await o.commitTransaction(s.id),l}catch(l){throw await o.rollbackTransaction(s.id),l}}case"dataMap":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return{value:Xo(o,t.args.structure,t.args.enums),lastInsertId:s}}case"validate":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return ua(o,t.args.rules,t.args),{value:o,lastInsertId:s}}case"if":{let{value:o}=await this.interpretNode(t.args.value,r,n,i);return Jn(o,t.args.rule)?await this.interpretNode(t.args.then,r,n,i):await this.interpretNode(t.args.else,r,n,i)}case"unit":return{value:void 0};case"diff":{let{value:o}=await this.interpretNode(t.args.from,r,n,i),{value:s}=await this.interpretNode(t.args.to,r,n,i),a=c=>c!==null?He(Ar(c),t.args.fields):null,l=new Set(Wn(s).map(a));return{value:Wn(o).filter(c=>!l.has(a(c)))}}case"process":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i);return{value:Pr(o,t.args.operations),lastInsertId:s}}case"initializeRecord":{let{lastInsertId:o}=await this.interpretNode(t.args.expr,r,n,i),s={};for(let[a,l]of Object.entries(t.args.fields))s[a]=rd(l,o,n,i);return{value:s,lastInsertId:o}}case"mapRecord":{let{value:o,lastInsertId:s}=await this.interpretNode(t.args.expr,r,n,i),a=o===null?{}:Ar(o);for(let[l,c]of Object.entries(t.args.fields))a[l]=nd(c,a[l],n,i);return{value:a,lastInsertId:s}}default:b(t,`Unexpected node type: ${t.type}`)}}#u(){return this.#c?.maxBindValues!==void 0?this.#c.maxBindValues:this.#p()}#p(){if(this.#o!==void 0)switch(this.#o){case"cockroachdb":case"postgres":case"postgresql":case"prisma+postgres":return 32766;case"mysql":return 65535;case"sqlite":return 999;case"sqlserver":return 2098;case"mongodb":return;default:b(this.#o,`Unexpected provider: ${this.#o}`)}}#d(t,r,n){return fr({query:t,execute:n,provider:this.#o??r.provider,tracingHelper:this.#l,onQuery:this.#r})}#m(t){if(!this.#a||this.#a.plugins.length===0)return t;let r=es(this.#a.plugins,{query:this.#a.queryInfo,sql:t.sql});return r?{...t,sql:ts(t.sql,r)}:t}};function pa(e){return Array.isArray(e)?e.length===0:e==null}function Wn(e){return Array.isArray(e)?e:[e]}function z(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e);throw new Error(`Expected number, got ${typeof e}`)}function Ar(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Expected object, got ${typeof e}`)}function da(e,t){return Array.isArray(e)?e.map(r=>da(r,t)):typeof e=="object"&&e!==null?e[t]??null:e}function td(e,t){for(let{joinExpr:r,childRecords:n}of t){let i=r.on.map(([a])=>a),o=r.on.map(([,a])=>a),s={};for(let a of Array.isArray(e)?e:[e]){let l=Ar(a),c=He(l,i);s[c]||(s[c]=[]),s[c].push(l),r.isRelationUnique?l[r.parentField]=null:l[r.parentField]=[]}for(let a of Array.isArray(n)?n:[n]){if(a===null)continue;let l=He(Ar(a),o);for(let c of s[l]??[])r.isRelationUnique?c[r.parentField]=a:c[r.parentField].push(a)}}return e}function rd(e,t,r,n){switch(e.type){case"value":return H(e.value,r,n);case"lastInsertId":return t;default:b(e,`Unexpected field initializer type: ${e.type}`)}}function nd(e,t,r,n){switch(e.type){case"set":return H(e.value,r,n);case"add":return z(t)+z(H(e.value,r,n));case"subtract":return z(t)-z(H(e.value,r,n));case"multiply":return z(t)*z(H(e.value,r,n));case"divide":{let i=z(t),o=z(H(e.value,r,n));return o===0?null:i/o}default:b(e,`Unexpected field operation type: ${e.type}`)}}async function id(){return globalThis.crypto??await import("node:crypto")}async function ma(){return(await id()).randomUUID()}async function fa(e,t){return new Promise(r=>{e.addEventListener(t,r,{once:!0})})}var U=class extends O{name="TransactionManagerError";constructor(t,r){super("Transaction API error: "+t,"P2028",r)}},It=class extends U{constructor(){super("Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.")}},Sr=class extends U{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a committed transaction.`)}},vr=class extends U{constructor(t){super(`Transaction already closed: A ${t} cannot be executed on a transaction that was rolled back.`)}},Cr=class extends U{constructor(){super("Unable to start a transaction in the given time.")}},Rr=class extends U{constructor(t,{timeout:r,timeTaken:n}){super(`A ${t} cannot be executed on an expired transaction. The timeout for this transaction was ${r} ms, however ${n} ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.`,{operation:t,timeout:r,timeTaken:n})}},Je=class extends U{constructor(t){super(`Internal Consistency Error: ${t}`)}},kr=class extends U{constructor(t){super(`Invalid isolation level: ${t}`,{isolationLevel:t})}};var od=100,We=M("prisma:client:transactionManager"),sd=()=>({sql:"COMMIT",args:[],argTypes:[]}),ad=()=>({sql:"ROLLBACK",args:[],argTypes:[]}),ld=()=>({sql:'-- Implicit "COMMIT" query via underlying driver',args:[],argTypes:[]}),cd=()=>({sql:'-- Implicit "ROLLBACK" query via underlying driver',args:[],argTypes:[]}),Ft=class{transactions=new Map;closedTransactions=[];driverAdapter;transactionOptions;tracingHelper;#t;#e;constructor({driverAdapter:t,transactionOptions:r,tracingHelper:n,onQuery:i,provider:o}){this.driverAdapter=t,this.transactionOptions=r,this.tracingHelper=n,this.#t=i,this.#e=o}async startInternalTransaction(t){let r=t!==void 0?this.#s(t):{};return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async startTransaction(t){let r=t!==void 0?this.#s(t):this.transactionOptions;return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(r))}async#r(t){let r={id:await ma(),status:"waiting",timer:void 0,timeout:t.timeout,startedAt:Date.now(),transaction:void 0},n=new AbortController,i=ga(()=>n.abort(),t.maxWait);i?.unref?.();let o=this.driverAdapter.startTransaction(t.isolationLevel).catch(Ve);switch(r.transaction=await Promise.race([o.finally(()=>clearTimeout(i)),fa(n.signal,"abort").then(()=>{})]),this.transactions.set(r.id,r),r.status){case"waiting":if(n.signal.aborted)throw o.then(s=>s.rollback()).catch(s=>We("error in discarded transaction:",s)),await this.#i(r,"timed_out"),new Cr;return r.status="running",r.timer=this.#l(r.id,t.timeout),{id:r.id};case"timed_out":case"running":case"committed":case"rolled_back":throw new Je(`Transaction in invalid state ${r.status} although it just finished startup.`);default:b(r.status,"Unknown transaction status.")}}async commitTransaction(t){return await this.tracingHelper.runInChildSpan("commit_transaction",async()=>{let r=this.#n(t,"commit");await this.#i(r,"committed")})}async rollbackTransaction(t){return await this.tracingHelper.runInChildSpan("rollback_transaction",async()=>{let r=this.#n(t,"rollback");await this.#i(r,"rolled_back")})}async getTransaction(t,r){let n=this.#n(t.id,r);if(n.status==="closing"&&(await n.closing,n=this.#n(t.id,r)),!n.transaction)throw new It;return n.transaction}#n(t,r){let n=this.transactions.get(t);if(!n){let i=this.closedTransactions.find(o=>o.id===t);if(i)switch(We("Transaction already closed.",{transactionId:t,status:i.status}),i.status){case"closing":case"waiting":case"running":throw new Je("Active transaction found in closed transactions list.");case"committed":throw new Sr(r);case"rolled_back":throw new vr(r);case"timed_out":throw new Rr(r,{timeout:i.timeout,timeTaken:Date.now()-i.startedAt})}else throw We("Transaction not found.",t),new It}if(["committed","rolled_back","timed_out"].includes(n.status))throw new Je("Closed transaction found in active transactions map.");return n}async cancelAllTransactions(){await Promise.allSettled([...this.transactions.values()].map(t=>this.#i(t,"rolled_back")))}#l(t,r){let n=Date.now(),i=ga(async()=>{We("Transaction timed out.",{transactionId:t,timeoutStartedAt:n,timeout:r});let o=this.transactions.get(t);o&&["running","waiting"].includes(o.status)?await this.#i(o,"timed_out"):We("Transaction already committed or rolled back when timeout happened.",t)},r);return i?.unref?.(),i}async#i(t,r){let n=async()=>{We("Closing transaction.",{transactionId:t.id,status:r});try{if(t.transaction&&r==="committed")if(t.transaction.options.usePhantomQuery)await this.#o(ld(),t.transaction,()=>t.transaction.commit());else{let i=sd();await this.#o(i,t.transaction,()=>t.transaction.executeRaw(i)).then(()=>t.transaction.commit(),o=>{let s=()=>Promise.reject(o);return t.transaction.rollback().then(s,s)})}else if(t.transaction)if(t.transaction.options.usePhantomQuery)await this.#o(cd(),t.transaction,()=>t.transaction.rollback());else{let i=ad();try{await this.#o(i,t.transaction,()=>t.transaction.executeRaw(i))}finally{await t.transaction.rollback()}}}finally{t.status=r,clearTimeout(t.timer),t.timer=void 0,this.transactions.delete(t.id),this.closedTransactions.push(t),this.closedTransactions.length>od&&this.closedTransactions.shift()}};t.status==="closing"?(await t.closing,this.#n(t.id,r==="committed"?"commit":"rollback")):await Object.assign(t,{status:"closing",reason:r,closing:n()}).closing}#s(t){if(!t.timeout)throw new U("timeout is required");if(!t.maxWait)throw new U("maxWait is required");if(t.isolationLevel==="SNAPSHOT")throw new kr(t.isolationLevel);return{...t,timeout:t.timeout,maxWait:t.maxWait}}#o(t,r,n){return fr({query:t,execute:n,provider:this.#e??r.provider,tracingHelper:this.tracingHelper,onQuery:this.#t})}};function ga(e,t){return t!==void 0?setTimeout(e,t):void 0}var F=require("@prisma/client-runtime-utils");var Or="7.2.0";function ya(e,t){return{batch:e,transaction:t?.kind==="batch"?{isolationLevel:t.options.isolationLevel}:void 0}}function ha(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,t=>`${t[0]}5`):""}function wa(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}var xa=V(Ii());function ba({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,xa.default)({user:t,repo:r,template:n,title:e,body:i})}function Ea({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:o,query:s}){let a=xi(6e3-(s?.length??0)),l=wa(Se(a)),c=n?`# Description
\`\`\`
${n}
\`\`\``:"",u=Se(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version?.padEnd(19)}| 
| OS              | ${t?.padEnd(19)}|
| Prisma Client   | ${e?.padEnd(19)}|
| Query Engine    | ${i?.padEnd(19)}|
| Database        | ${o?.padEnd(19)}|

${c}

## Logs
\`\`\`
${l}
\`\`\`

## Client Snippet
\`\`\`ts
// PLEASE FILL YOUR CODE SNIPPET HERE
\`\`\`

## Schema
\`\`\`prisma
// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE
\`\`\`

## Prisma Engine Query
\`\`\`
${s?ha(s):""}
\`\`\`
`),p=ba({title:r,body:u});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${Ye(p)}

If you want the Prisma team to look into it, please open the link above \u{1F64F}
To increase the chance of success, please post your schema and a snippet of
how you used Prisma Client in the issue. 
`}var Ir=class e{#t;#e;#r;#n;constructor(t,r,n){this.#t=t,this.#e=r,this.#r=n,this.#n=r.getConnectionInfo?.()}static async connect(t){let r,n;try{r=await t.driverAdapterFactory.connect(),n=new Ft({driverAdapter:r,transactionOptions:t.transactionOptions,tracingHelper:t.tracingHelper,onQuery:t.onQuery,provider:t.provider})}catch(i){throw await r?.dispose(),i}return new e(t,r,n)}getConnectionInfo(){let t=this.#n??{supportsRelationJoins:!1};return Promise.resolve({provider:this.#e.provider,connectionInfo:t})}async execute({plan:t,placeholderValues:r,transaction:n,batchIndex:i,queryInfo:o}){let s=n?await this.#r.getTransaction(n,i!==void 0?"batch query":"query"):this.#e;return await Ot.forSql({transactionManager:n?{enabled:!1}:{enabled:!0,manager:this.#r},placeholderValues:r,onQuery:this.#t.onQuery,tracingHelper:this.#t.tracingHelper,provider:this.#t.provider,connectionInfo:this.#n,sqlCommenter:this.#t.sqlCommenters&&{plugins:this.#t.sqlCommenters,queryInfo:o}}).run(t,s)}async startTransaction(t){return{...await this.#r.startTransaction(t),payload:void 0}}async commitTransaction(t){await this.#r.commitTransaction(t.id)}async rollbackTransaction(t){await this.#r.rollbackTransaction(t.id)}async disconnect(){try{await this.#r.cancelAllTransactions()}finally{await this.#e.dispose()}}apiKey(){return null}};var Ca=require("@prisma/client-runtime-utils");var Fr=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function Ta(e,t,r){let n=r||{},i=n.encode||encodeURIComponent;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Fr.test(e))throw new TypeError("argument name is invalid");let o=i(t);if(o&&!Fr.test(o))throw new TypeError("argument val is invalid");let s=e+"="+o;if(n.maxAge!==void 0&&n.maxAge!==null){let a=n.maxAge-0;if(Number.isNaN(a)||!Number.isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!Fr.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!Fr.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!pd(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":{s+="; Priority=Low";break}case"medium":{s+="; Priority=Medium";break}case"high":{s+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:{s+="; SameSite=Strict";break}case"lax":{s+="; SameSite=Lax";break}case"strict":{s+="; SameSite=Strict";break}case"none":{s+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s}function pd(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function Pa(e,t){let r=(e||"").split(";").filter(l=>typeof l=="string"&&!!l.trim()),n=r.shift()||"",i=dd(n),o=i.name,s=i.value;try{s=t?.decode===!1?s:(t?.decode||decodeURIComponent)(s)}catch{}let a={name:o,value:s};for(let l of r){let c=l.split("="),u=(c.shift()||"").trimStart().toLowerCase(),p=c.join("=");switch(u){case"expires":{a.expires=new Date(p);break}case"max-age":{a.maxAge=Number.parseInt(p,10);break}case"secure":{a.secure=!0;break}case"httponly":{a.httpOnly=!0;break}case"samesite":{a.sameSite=p;break}default:a[u]=p}}return a}function dd(e){let t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}var Mr=class extends Error{clientVersion;cause;constructor(t,r){super(t),this.clientVersion=r.clientVersion,this.cause=r.cause}get[Symbol.toStringTag](){return this.name}};var Dr=class extends Mr{isRetryable;constructor(t,r){super(t,r),this.isRetryable=r.isRetryable??!0}};function Aa(e,t){return{...e,isRetryable:t}}var Ee=class extends Dr{name="InvalidDatasourceError";code="P6001";constructor(t,r){super(t,Aa(r,!1))}};at(Ee,"InvalidDatasourceError");function Sa(e){let t={clientVersion:e.clientVersion},r;try{r=new URL(e.accelerateUrl)}catch(l){let c=l.message;throw new Ee(`Error validating \`accelerateUrl\`, the URL cannot be parsed, reason: ${c}`,t)}let{protocol:n,searchParams:i}=r;if(n!=="prisma:"&&n!==Ut)throw new Ee("Error validating `accelerateUrl`: the URL must start with the protocol `prisma://` or `prisma+postgres://`",t);let o=i.get("api_key");if(o===null||o.length<1)throw new Ee("Error validating `accelerateUrl`: the URL must contain a valid API key",t);let s=Wr(r)?"http:":"https:";process.env.TEST_CLIENT_ENGINE_REMOTE_EXECUTOR&&r.searchParams.has("use_http")&&(s="http:");let a=new URL(r.href.replace(n,s));return{apiKey:o,url:a}}var va=V(Ti()),Nr=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:t,tracingHelper:r,logLevel:n,logQueries:i,engineHash:o}){this.apiKey=t,this.tracingHelper=r,this.logLevel=n,this.logQueries=i,this.engineHash=o}build({traceparent:t,transactionId:r}={}){let n={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":va.enginesVersion};this.tracingHelper.isEnabled()&&(n.traceparent=t??this.tracingHelper.getTraceParent()),r&&(n["X-Transaction-Id"]=r);let i=this.#t();return i.length>0&&(n["X-Capture-Telemetry"]=i.join(", ")),n}#t(){let t=[];return this.tracingHelper.isEnabled()&&t.push("tracing"),this.logLevel&&t.push(this.logLevel),this.logQueries&&t.push("query"),t}};function md(e){return e[0]*1e3+e[1]/1e6}function Gn(e){return new Date(md(e))}var Ra=M("prisma:client:clientEngine:remoteExecutor"),_r=class{#t;#e;#r;#n;#l;#i;constructor(t){this.#t=t.clientVersion,this.#n=t.logEmitter,this.#l=t.tracingHelper,this.#i=t.sqlCommenters;let{url:r,apiKey:n}=Sa({clientVersion:t.clientVersion,accelerateUrl:t.accelerateUrl});this.#r=new Kn(r),this.#e=new Nr({apiKey:n,engineHash:t.clientVersion,logLevel:t.logLevel,logQueries:t.logQueries,tracingHelper:t.tracingHelper})}async getConnectionInfo(){return await this.#s({path:"/connection-info",method:"GET"})}async execute({plan:t,placeholderValues:r,batchIndex:n,model:i,operation:o,transaction:s,customFetch:a,queryInfo:l}){let c=l&&this.#i?.length?mr(this.#i,{query:l}):void 0;return(await this.#s({path:s?`/transaction/${s.id}/query`:"/query",method:"POST",body:{model:i,operation:o,plan:t,params:r,comments:c&&Object.keys(c).length>0?c:void 0},batchRequestIdx:n,fetch:a})).data}async startTransaction(t){return{...await this.#s({path:"/transaction/start",method:"POST",body:t}),payload:void 0}}async commitTransaction(t){await this.#s({path:`/transaction/${t.id}/commit`,method:"POST"})}async rollbackTransaction(t){await this.#s({path:`/transaction/${t.id}/rollback`,method:"POST"})}disconnect(){return Promise.resolve()}apiKey(){return this.#e.apiKey}async#s({path:t,method:r,body:n,fetch:i=globalThis.fetch,batchRequestIdx:o}){let s=await this.#r.request({method:r,path:t,headers:this.#e.build(),body:n,fetch:i});s.ok||await this.#o(s,o);let a=await s.json();return typeof a.extensions=="object"&&a.extensions!==null&&this.#c(a.extensions),a}async#o(t,r){let n=t.headers.get("Prisma-Error-Code"),i=await t.text(),o,s=i;try{o=JSON.parse(i)}catch{o={}}typeof o.code=="string"&&(n=o.code),typeof o.error=="string"?s=o.error:typeof o.message=="string"?s=o.message:typeof o.InvalidRequestError=="object"&&o.InvalidRequestError!==null&&typeof o.InvalidRequestError.reason=="string"&&(s=o.InvalidRequestError.reason),s=s||`HTTP ${t.status}: ${t.statusText}`;let a=typeof o.meta=="object"&&o.meta!==null?o.meta:o;throw new Ca.PrismaClientKnownRequestError(s,{clientVersion:this.#t,code:n??"P6000",batchRequestIdx:r,meta:a})}#c(t){if(t.logs)for(let r of t.logs)this.#a(r);t.spans&&this.#l.dispatchEngineSpans(t.spans)}#a(t){switch(t.level){case"debug":case"trace":Ra(t);break;case"error":case"warn":case"info":{this.#n.emit(t.level,{timestamp:Gn(t.timestamp),message:t.attributes.message??"",target:t.target??"RemoteExecutor"});break}case"query":{this.#n.emit("query",{query:t.attributes.query??"",timestamp:Gn(t.timestamp),duration:t.attributes.duration_ms??0,params:t.attributes.params??"",target:t.target??"RemoteExecutor"});break}default:throw new Error(`Unexpected log level: ${t.level}`)}}},Kn=class{#t;#e;#r;constructor(t){this.#t=t,this.#e=new Map}async request({method:t,path:r,headers:n,body:i,fetch:o}){let s=new URL(r,this.#t),a=this.#n(s);a&&(n.Cookie=a),this.#r&&(n["Accelerate-Query-Engine-Jwt"]=this.#r);let l=await o(s.href,{method:t,body:i!==void 0?JSON.stringify(i):void 0,headers:n});return Ra(t,s,l.status,l.statusText),this.#r=l.headers.get("Accelerate-Query-Engine-Jwt")??void 0,this.#l(s,l),l}#n(t){let r=[],n=new Date;for(let[i,o]of this.#e){if(o.expires&&o.expires<n){this.#e.delete(i);continue}let s=o.domain??t.hostname,a=o.path??"/";t.hostname.endsWith(s)&&t.pathname.startsWith(a)&&r.push(Ta(o.name,o.value))}return r.length>0?r.join("; "):void 0}#l(t,r){let n=r.headers.getSetCookie?.()||[];if(n.length===0){let i=r.headers.get("Set-Cookie");i&&n.push(i)}for(let i of n){let o=Pa(i),s=o.domain??t.hostname,a=o.path??"/",l=`${s}:${a}:${o.name}`;this.#e.set(l,{name:o.name,value:o.value,domain:s,path:a,expires:o.expires})}}};var Zn=require("@prisma/client-runtime-utils"),zn={},ka={async loadQueryCompiler(e){let{clientVersion:t,compilerWasm:r}=e;if(r===void 0)throw new Zn.PrismaClientInitializationError("WASM query compiler was unexpectedly `undefined`",t);let n;return e.activeProvider===void 0||zn[e.activeProvider]===void 0?(n=(async()=>{let i=await r.getRuntime(),o=await r.getQueryCompilerWasmModule();if(o==null)throw new Zn.PrismaClientInitializationError("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let s={"./query_compiler_bg.js":i},a=new WebAssembly.Instance(o,s),l=a.exports.__wbindgen_start;return i.__wbg_set_wasm(a.exports),l(),i.QueryCompiler})(),e.activeProvider!==void 0&&(zn[e.activeProvider]=n)):n=zn[e.activeProvider],await n}};var fd="P2038",Mt=M("prisma:client:clientEngine"),Ia=globalThis;Ia.PRISMA_WASM_PANIC_REGISTRY={set_message(e){throw new F.PrismaClientRustPanicError(e,Or)}};var Dt=class{name="ClientEngine";#t;#e={type:"disconnected"};#r;#n;config;datamodel;logEmitter;logQueries;logLevel;tracingHelper;#l;constructor(t,r){if(t.accelerateUrl!==void 0)this.#n={remote:!0,accelerateUrl:t.accelerateUrl};else if(t.adapter)this.#n={remote:!1,driverAdapterFactory:t.adapter},Mt("Using driver adapter: %O",t.adapter);else throw new F.PrismaClientInitializationError("Missing configured driver adapter. Engine type `client` requires an active driver adapter. Please check your PrismaClient initialization code.",t.clientVersion,fd);this.#r=r??ka,this.config=t,this.logQueries=t.logQueries??!1,this.logLevel=t.logLevel??"error",this.logEmitter=t.logEmitter,this.datamodel=t.inlineSchema,this.tracingHelper=t.tracingHelper,t.enableDebugLogs&&(this.logLevel="debug"),this.logQueries&&(this.#l=n=>{this.logEmitter.emit("query",{...n,params:bt(n.params),target:"ClientEngine"})})}async#i(){switch(this.#e.type){case"disconnected":{let t=this.tracingHelper.runInChildSpan("connect",async()=>{let r,n;try{r=await this.#s(),n=await this.#o(r)}catch(o){throw this.#e={type:"disconnected"},n?.free(),await r?.disconnect(),o}let i={executor:r,queryCompiler:n};return this.#e={type:"connected",engine:i},i});return this.#e={type:"connecting",promise:t},await t}case"connecting":return await this.#e.promise;case"connected":return this.#e.engine;case"disconnecting":return await this.#e.promise,await this.#i()}}async#s(){return this.#n.remote?new _r({clientVersion:this.config.clientVersion,accelerateUrl:this.#n.accelerateUrl,logEmitter:this.logEmitter,logLevel:this.logLevel,logQueries:this.logQueries,tracingHelper:this.tracingHelper,sqlCommenters:this.config.sqlCommenters}):await Ir.connect({driverAdapterFactory:this.#n.driverAdapterFactory,tracingHelper:this.tracingHelper,transactionOptions:{...this.config.transactionOptions,isolationLevel:this.#d(this.config.transactionOptions.isolationLevel)},onQuery:this.#l,provider:this.config.activeProvider,sqlCommenters:this.config.sqlCommenters})}async#o(t){let r=this.#t;r===void 0&&(r=await this.#r.loadQueryCompiler(this.config),this.#t=r);let{provider:n,connectionInfo:i}=await t.getConnectionInfo();try{return this.#p(()=>new r({datamodel:this.datamodel,provider:n,connectionInfo:i}),void 0,!1)}catch(o){throw this.#c(o)}}#c(t){if(t instanceof F.PrismaClientRustPanicError)return t;try{let r=JSON.parse(t.message);return new F.PrismaClientInitializationError(r.message,this.config.clientVersion,r.error_code)}catch{return t}}#a(t,r){if(t instanceof F.PrismaClientInitializationError)return t;if(t.code==="GenericFailure"&&t.message?.startsWith("PANIC:"))return new F.PrismaClientRustPanicError(Oa(this,t.message,r),this.config.clientVersion);if(t instanceof O)return new F.PrismaClientKnownRequestError(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion});try{let n=JSON.parse(t);return new F.PrismaClientUnknownRequestError(`${n.message}
${n.backtrace}`,{clientVersion:this.config.clientVersion})}catch{return t}}#u(t){return t instanceof F.PrismaClientRustPanicError?t:typeof t.message=="string"&&typeof t.code=="string"?new F.PrismaClientKnownRequestError(t.message,{code:t.code,meta:t.meta,clientVersion:this.config.clientVersion}):typeof t.message=="string"?new F.PrismaClientUnknownRequestError(t.message,{clientVersion:this.config.clientVersion}):t}#p(t,r,n=!0){let i=Ia.PRISMA_WASM_PANIC_REGISTRY.set_message,o;global.PRISMA_WASM_PANIC_REGISTRY.set_message=s=>{o=s};try{return t()}finally{if(global.PRISMA_WASM_PANIC_REGISTRY.set_message=i,o)throw this.#t=void 0,n&&this.stop().catch(s=>Mt("failed to disconnect:",s)),new F.PrismaClientRustPanicError(Oa(this,o,r),this.config.clientVersion)}}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the client engine, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){await this.#i()}async stop(){switch(this.#e.type){case"disconnected":return;case"connecting":return await this.#e.promise,await this.stop();case"connected":{let t=this.#e.engine,r=this.tracingHelper.runInChildSpan("disconnect",async()=>{try{await t.executor.disconnect(),t.queryCompiler.free()}finally{this.#e={type:"disconnected"}}});return this.#e={type:"disconnecting",promise:r},await r}case"disconnecting":return await this.#e.promise}}version(){return"unknown"}async transaction(t,r,n){let i,{executor:o}=await this.#i();try{if(t==="start"){let s=n;i=await o.startTransaction({...s,isolationLevel:this.#d(s.isolationLevel)})}else if(t==="commit"){let s=n;await o.commitTransaction(s)}else if(t==="rollback"){let s=n;await o.rollbackTransaction(s)}else X(t,"Invalid transaction action.")}catch(s){throw this.#a(s)}return i?{id:i.id,payload:void 0}:void 0}async request(t,{interactiveTransaction:r,customDataProxyFetch:n}){Mt("sending request");let i=JSON.stringify(t),{executor:o,queryCompiler:s}=await this.#i().catch(l=>{throw this.#a(l,i)}),a;try{a=this.#p(()=>this.#m({queries:[t],execute:()=>s.compile(i)}))}catch(l){throw this.#u(l)}try{Mt("query plan created",a);let l={},c=await o.execute({plan:a,model:t.modelName,operation:t.action,placeholderValues:l,transaction:r,batchIndex:void 0,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",modelName:t.modelName,action:t.action,query:t.query}});return Mt("query plan executed"),{data:{[t.action]:c}}}catch(l){throw this.#a(l,i)}}async requestBatch(t,{transaction:r,customDataProxyFetch:n}){if(t.length===0)return[];let i=t[0].action,o=t[0].modelName,s=JSON.stringify(ya(t,r)),{executor:a,queryCompiler:l}=await this.#i().catch(u=>{throw this.#a(u,s)}),c;try{c=this.#p(()=>this.#m({queries:t,execute:()=>l.compileBatch(s)}))}catch(u){throw this.#u(u)}try{let u;r?.kind==="itx"&&(u=r.options);let p={};switch(c.type){case"multi":{if(r?.kind!=="itx"){let g=r?.options.isolationLevel?{...this.config.transactionOptions,isolationLevel:r.options.isolationLevel}:this.config.transactionOptions;u=await this.transaction("start",{},g)}let y=[],h=!1;for(let[g,E]of c.plans.entries())try{let C=await a.execute({plan:E,placeholderValues:p,model:t[g].modelName,operation:t[g].action,batchIndex:g,transaction:u,customFetch:n?.(globalThis.fetch),queryInfo:{type:"single",...t[g]}});y.push({data:{[t[g].action]:C}})}catch(C){y.push(C),h=!0;break}return u!==void 0&&r?.kind!=="itx"&&(h?await this.transaction("rollback",{},u):await this.transaction("commit",{},u)),y}case"compacted":{if(!t.every(g=>g.action===i&&g.modelName===o)){let g=t.map(C=>C.action).join(", "),E=t.map(C=>C.modelName).join(", ");throw new Error(`Internal error: All queries in a compacted batch must have the same action and model name, but received actions: [${g}] and model names: [${E}]. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.`)}if(o===void 0)throw new Error("Internal error: A compacted batch cannot contain raw queries. This indicates a bug in the client. Please report this issue to the Prisma team with your query details.");let y=await a.execute({plan:c.plan,placeholderValues:p,model:o,operation:i,batchIndex:void 0,transaction:u,customFetch:n?.(globalThis.fetch),queryInfo:{type:"compacted",action:i,modelName:o,queries:t}});return zo(y,c).map(g=>({data:{[i]:g}}))}}}catch(u){throw this.#a(u,s)}}async apiKey(){let{executor:t}=await this.#i();return t.apiKey()}#d(t){switch(t){case void 0:return;case"ReadUncommitted":return"READ UNCOMMITTED";case"ReadCommitted":return"READ COMMITTED";case"RepeatableRead":return"REPEATABLE READ";case"Serializable":return"SERIALIZABLE";case"Snapshot":return"SNAPSHOT";default:throw new F.PrismaClientKnownRequestError(`Inconsistent column data: Conversion failed: Invalid isolation level \`${t}\``,{code:"P2023",clientVersion:this.config.clientVersion,meta:{providedIsolationLevel:t}})}}#m({queries:t,execute:r}){return this.tracingHelper.runInChildSpan({name:"compile",attributes:{models:t.map(n=>n.modelName).filter(n=>n!==void 0),actions:t.map(n=>n.action)}},r)}};function Oa(e,t,r){return Ea({binaryTarget:void 0,title:t,version:e.config.clientVersion,engineVersion:"unknown",database:e.config.activeProvider,query:r})}function Fa(e){return new Dt(e)}var Ma=e=>({command:e});var Ua=require("@prisma/client-runtime-utils");var Da=e=>e.strings.reduce((t,r,n)=>`${t}@P${n}${r}`);var La=require("@prisma/client-runtime-utils");function Ge(e){try{return Na(e,"fast")}catch{return Na(e,"slow")}}function Na(e,t){return JSON.stringify(e.map(r=>$a(r,t)))}function $a(e,t){if(Array.isArray(e))return e.map(r=>$a(r,t));if(typeof e=="bigint")return{prisma__type:"bigint",prisma__value:e.toString()};if(ve(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(La.Decimal.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(Buffer.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(gd(e))return{prisma__type:"bytes",prisma__value:Buffer.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:r,byteOffset:n,byteLength:i}=e;return{prisma__type:"bytes",prisma__value:Buffer.from(r,n,i).toString("base64")}}return typeof e=="object"&&t==="slow"?qa(e):e}function gd(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer?!0:typeof e=="object"&&e!==null?e[Symbol.toStringTag]==="ArrayBuffer"||e[Symbol.toStringTag]==="SharedArrayBuffer":!1}function qa(e){if(typeof e!="object"||e===null)return e;if(typeof e.toJSON=="function")return e.toJSON();if(Array.isArray(e))return e.map(_a);let t={};for(let r of Object.keys(e))t[r]=_a(e[r]);return t}function _a(e){return typeof e=="bigint"?e.toString():qa(e)}var yd=/^(\s*alter\s)/i,Va=M("prisma:client");function Yn(e,t,r,n){if(!(e!=="postgresql"&&e!=="cockroachdb")&&r.length>0&&yd.exec(t))throw new Error(`Running ALTER using ${n} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var Xn=({clientMethod:e,activeProvider:t})=>r=>{let n="",i;if(ar(r))n=r.sql,i={values:Ge(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[o,...s]=r;n=o,i={values:Ge(s||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":{n=r.sql,i={values:Ge(r.values),__prismaRawParameters__:!0};break}case"cockroachdb":case"postgresql":case"postgres":{n=r.text,i={values:Ge(r.values),__prismaRawParameters__:!0};break}case"sqlserver":{n=Da(r),i={values:Ge(r.values),__prismaRawParameters__:!0};break}default:throw new Error(`The ${t} provider does not support ${e}`)}return i?.values?Va(`prisma.${e}(${n}, ${i.values})`):Va(`prisma.${e}(${n})`),{query:n,parameters:i}},ja={requestArgsToMiddlewareArgs(e){return[e.strings,...e.values]},middlewareArgsToRequestArgs(e){let[t,...r]=e;return new Ua.Sql(t,r)}},Ba={requestArgsToMiddlewareArgs(e){return[e]},middlewareArgsToRequestArgs(e){return e[0]}};function ei(e){return function(r,n){let i,o=(s=e)=>{try{return s===void 0||s?.kind==="itx"?i??=Qa(r(s)):Qa(r(s))}catch(a){return Promise.reject(a)}};return{get spec(){return n},then(s,a){return o().then(s,a)},catch(s){return o().catch(s)},finally(s){return o().finally(s)},requestTransaction(s){let a=o(s);return a.requestTransaction?a.requestTransaction(s):a},[Symbol.toStringTag]:"PrismaPromise"}}}function Qa(e){return typeof e.then=="function"?e:Promise.resolve(e)}var Ha={name:"@prisma/instrumentation-contract",version:"7.2.0",description:"Shared types and utilities for Prisma instrumentation",main:"dist/index.js",module:"dist/index.mjs",types:"dist/index.d.ts",exports:{".":{require:{types:"./dist/index.d.ts",default:"./dist/index.js"},import:{types:"./dist/index.d.mts",default:"./dist/index.mjs"}}},license:"Apache-2.0",homepage:"https://www.prisma.io",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/instrumentation-contract"},bugs:"https://github.com/prisma/prisma/issues",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",prepublishOnly:"pnpm run build",test:"vitest run"},files:["dist"],sideEffects:!1,devDependencies:{"@opentelemetry/api":"1.9.0"},peerDependencies:{"@opentelemetry/api":"^1.8"}};var wd=Ha.version.split(".")[0],xd="PRISMA_INSTRUMENTATION",bd=`V${wd}_PRISMA_INSTRUMENTATION`,Ja=globalThis;function Wa(){let e=Ja[bd];return e?.helper?e.helper:Ja[xd]?.helper}var Ed={isEnabled(){return!1},getTraceParent(){return"00-10-10-00"},dispatchEngineSpans(){},getActiveContext(){},runInChildSpan(e,t){return t()}},ti=class{isEnabled(){return this.getTracingHelper().isEnabled()}getTraceParent(t){return this.getTracingHelper().getTraceParent(t)}dispatchEngineSpans(t){return this.getTracingHelper().dispatchEngineSpans(t)}getActiveContext(){return this.getTracingHelper().getActiveContext()}runInChildSpan(t,r){return this.getTracingHelper().runInChildSpan(t,r)}getTracingHelper(){return Wa()??Ed}};function Ga(){return new ti}function Ka(e,t=()=>{}){let r,n=new Promise(i=>r=i);return{then(i){return--e===0&&r(t()),i?.(n)}}}function za(e){return typeof e=="string"?e:e.reduce((t,r)=>{let n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}var Xa=require("@prisma/client-runtime-utils");function Za(e){if(e.action!=="findUnique"&&e.action!=="findUniqueOrThrow")return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(ri(e.query.arguments)),t.push(ri(e.query.selection)),t.join("")}function ri(e){return`(${Object.keys(e).sort().map(r=>{let n=e[r];return typeof n=="object"&&n!==null?`(${r} ${ri(n)})`:r}).join(" ")})`}var Td={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function ni(e){return Td[e]}var Lr=class{constructor(t){this.options=t;this.batches={}}batches;tickActive=!1;request(t){let r=this.options.batchBy(t);return r?(this.batches[r]||(this.batches[r]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((n,i)=>{this.batches[r].push({request:t,resolve:n,reject:i})})):this.options.singleLoader(t)}dispatchBatches(){for(let t in this.batches){let r=this.batches[t];delete this.batches[t],r.length===1?this.options.singleLoader(r[0].request).then(n=>{n instanceof Error?r[0].reject(n):r[0].resolve(n)}).catch(n=>{r[0].reject(n)}):(r.sort((n,i)=>this.options.batchOrder(n.request,i.request)),this.options.batchLoader(r.map(n=>n.request)).then(n=>{if(n instanceof Error)for(let i=0;i<r.length;i++)r[i].reject(n);else for(let i=0;i<r.length;i++){let o=n[i];o instanceof Error?r[i].reject(o):r[i].resolve(o)}}).catch(n=>{for(let i=0;i<r.length;i++)r[i].reject(n)}))}}get[Symbol.toStringTag](){return"DataLoader"}};var Ya=require("@prisma/client-runtime-utils");function Te(e,t){if(t===null)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:r,byteOffset:n,byteLength:i}=Buffer.from(t,"base64");return new Uint8Array(r,n,i)}case"decimal":return new Ya.Decimal(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(r=>Te("bigint",r));case"bytes-array":return t.map(r=>Te("bytes",r));case"decimal-array":return t.map(r=>Te("decimal",r));case"datetime-array":return t.map(r=>Te("datetime",r));case"date-array":return t.map(r=>Te("date",r));case"time-array":return t.map(r=>Te("time",r));default:return t}}function $r(e){let t=[],r=Pd(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],o={...r};for(let s=0;s<i.length;s++)o[e.columns[s]]=Te(e.types[s],i[s]);t.push(o)}return t}function Pd(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}var Ad=M("prisma:client:request_handler"),qr=class{client;dataloader;logEmitter;constructor(t,r){this.logEmitter=r,this.client=t,this.dataloader=new Lr({batchLoader:Vo(async({requests:n,customDataProxyFetch:i})=>{let{transaction:o,otelParentCtx:s}=n[0],a=n.map(p=>p.protocolQuery),l=this.client._tracingHelper.getTraceParent(s),c=n.some(p=>ni(p.protocolQuery.action));return(await this.client._engine.requestBatch(a,{traceparent:l,transaction:Sd(o),containsWrite:c,customDataProxyFetch:i})).map((p,y)=>{if(p instanceof Error)return p;try{return this.mapQueryEngineResult(n[y],p)}catch(h){return h}})}),singleLoader:async n=>{let i=n.transaction?.kind==="itx"?el(n.transaction):void 0,o=await this.client._engine.request(n.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:i,isWrite:ni(n.protocolQuery.action),customDataProxyFetch:n.customDataProxyFetch});return this.mapQueryEngineResult(n,o)},batchBy:n=>n.transaction?.id?`transaction-${n.transaction.id}`:Za(n.protocolQuery),batchOrder(n,i){return n.transaction?.kind==="batch"&&i.transaction?.kind==="batch"?n.transaction.index-i.transaction.index:0}})}async request(t){try{return await this.dataloader.request(t)}catch(r){let{clientMethod:n,callsite:i,transaction:o,args:s,modelName:a}=t;this.handleAndLogRequestError({error:r,clientMethod:n,callsite:i,transaction:o,args:s,modelName:a,globalOmit:t.globalOmit})}}mapQueryEngineResult({dataPath:t,unpacker:r},n){let i=n?.data,o=this.unpack(i,t,r);return process.env.PRISMA_CLIENT_GET_TIME?{data:o}:o}handleAndLogRequestError(t){try{this.handleRequestError(t)}catch(r){throw this.logEmitter&&this.logEmitter.emit("error",{message:r.message,target:t.clientMethod,timestamp:new Date}),r}}handleRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:o,modelName:s,globalOmit:a}){if(Ad(t),vd(t,i))throw t;if(t instanceof w.PrismaClientKnownRequestError&&Cd(t)){let c=tl(t.meta);tr({args:o,errors:[c],callsite:n,errorFormat:this.client._errorFormat,originalMethod:r,clientVersion:this.client._clientVersion,globalOmit:a})}let l=t.message;if(n&&(l=Wt({callsite:n,originalMethod:r,isPanic:t.isPanic,showColors:this.client._errorFormat==="pretty",message:l})),l=this.sanitizeMessage(l),t.code){let c=s?{modelName:s,...t.meta}:t.meta;throw new w.PrismaClientKnownRequestError(l,{code:t.code,clientVersion:this.client._clientVersion,meta:c,batchRequestIdx:t.batchRequestIdx})}else{if(t.isPanic)throw new w.PrismaClientRustPanicError(l,this.client._clientVersion);if(t instanceof w.PrismaClientUnknownRequestError)throw new w.PrismaClientUnknownRequestError(l,{clientVersion:this.client._clientVersion,batchRequestIdx:t.batchRequestIdx});if(t instanceof w.PrismaClientInitializationError)throw new w.PrismaClientInitializationError(l,this.client._clientVersion);if(t instanceof w.PrismaClientRustPanicError)throw new w.PrismaClientRustPanicError(l,this.client._clientVersion)}throw t.clientVersion=this.client._clientVersion,t}sanitizeMessage(t){return this.client._errorFormat&&this.client._errorFormat!=="pretty"?Se(t):t}unpack(t,r,n){if(!t||(t.data&&(t=t.data),!t))return t;let i=Object.keys(t)[0],o=Object.values(t)[0],s=r.filter(c=>c!=="select"&&c!=="include"),a=un(o,s),l=i==="queryRaw"?$r(a):le(a);return n?n(l):l}get[Symbol.toStringTag](){return"RequestHandler"}};function Sd(e){if(e){if(e.kind==="batch")return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if(e.kind==="itx")return{kind:"itx",options:el(e)};X(e,"Unknown transaction kind")}}function el(e){return{id:e.id,payload:e.payload}}function vd(e,t){return(0,Xa.hasBatchIndex)(e)&&t?.kind==="batch"&&e.batchRequestIdx!==t.index}function Cd(e){return e.code==="P2009"||e.code==="P2012"}function tl(e){if(e.kind==="Union")return{kind:"Union",errors:e.errors.map(tl)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}var ii=Or;var sl=V(en());var v=class extends Error{constructor(t){super(t+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};at(v,"PrismaClientConstructorValidationError");var rl=["errorFormat","adapter","accelerateUrl","log","transactionOptions","omit","comments","__internal"],nl=["pretty","colorless","minimal"],il=["info","query","warn","error"],Rd={adapter:()=>{},accelerateUrl:e=>{if(e!==void 0){if(typeof e!="string")throw new v(`Invalid value ${JSON.stringify(e)} for "accelerateUrl" provided to PrismaClient constructor.`);if(e.trim().length===0)throw new v('"accelerateUrl" provided to PrismaClient constructor must be a non-empty string.')}},errorFormat:e=>{if(e){if(typeof e!="string")throw new v(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!nl.includes(e)){let t=Nt(e,nl);throw new v(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(!e)return;if(!Array.isArray(e))throw new v(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);function t(r){if(typeof r=="string"&&!il.includes(r)){let n=Nt(r,il);throw new v(`Invalid log level "${r}" provided to PrismaClient constructor.${n}`)}}for(let r of e){t(r);let n={level:t,emit:i=>{let o=["stdout","event"];if(!o.includes(i)){let s=Nt(i,o);throw new v(`Invalid value ${JSON.stringify(i)} for "emit" in logLevel provided to PrismaClient constructor.${s}`)}}};if(r&&typeof r=="object")for(let[i,o]of Object.entries(r))if(n[i])n[i](o);else throw new v(`Invalid property ${i} for "log" provided to PrismaClient constructor`)}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(t!=null&&t<=0)throw new v(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(r!=null&&r<=0)throw new v(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if(typeof e!="object")throw new v('"omit" option is expected to be an object.');if(e===null)throw new v('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let o=Id(n,t.runtimeDataModel);if(!o){r.push({kind:"UnknownModel",modelKey:n});continue}for(let[s,a]of Object.entries(i)){let l=o.fields.find(c=>c.name===s);if(!l){r.push({kind:"UnknownField",modelKey:n,fieldName:s});continue}if(l.relationName){r.push({kind:"RelationInOmit",modelKey:n,fieldName:s});continue}typeof a!="boolean"&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:s})}}if(r.length>0)throw new v(Fd(e,r))},comments:e=>{if(e!==void 0){if(!Array.isArray(e))throw new v(`Invalid value ${JSON.stringify(e)} for "comments" provided to PrismaClient constructor. Expected an array of SQL commenter plugins.`);for(let t=0;t<e.length;t++)if(typeof e[t]!="function")throw new v(`Invalid value at index ${t} for "comments" provided to PrismaClient constructor. Each plugin must be a function.`)}},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if(typeof e!="object")throw new v(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let n=Nt(r,t);throw new v(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${n}`)}}};function kd(e){let t=e.adapter!==void 0,r=e.accelerateUrl!==void 0;if(t&&r)throw new v('The "adapter" and "accelerateUrl" options are mutually exclusive. Please provide only one of them.');if(!t&&!r)throw new v('Using engine type "client" requires either "adapter" or "accelerateUrl" to be provided to PrismaClient constructor.')}function al(e,t){for(let[r,n]of Object.entries(e)){if(!rl.includes(r)){let i=Nt(r,rl);throw new v(`Unknown property ${r} provided to PrismaClient constructor.${i}`)}Rd[r](n,t)}kd(e)}function Nt(e,t){if(t.length===0||typeof e!="string")return"";let r=Od(e,t);return r?` Did you mean "${r}"?`:""}function Od(e,t){if(t.length===0)return null;let r=t.map(i=>({value:i,distance:(0,sl.default)(e,i)}));r.sort((i,o)=>i.distance<o.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function Id(e,t){return ol(t.models,e)??ol(t.types,e)}function ol(e,t){let r=Object.keys(e).find(n=>ie(n)===t);if(r)return e[r]}function Fd(e,t){let r=Ne(e);for(let o of t)switch(o.kind){case"UnknownModel":r.arguments.getField(o.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${o.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${o.modelKey}" does not have a field named "${o.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([o.modelKey,o.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.");break}let{message:n,args:i}=er(r,"colorless");return`Error validating "omit" option:

${i}

${n}`}var ll=require("@prisma/client-runtime-utils");function cl(e){return e.length===0?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,o=!1,s=0,a=()=>{o||(s++,s===e.length&&(o=!0,i?r(i):t(n)))},l=c=>{o||(o=!0,r(c))};for(let c=0;c<e.length;c++)e[c].then(u=>{n[c]=u,a()},u=>{if(!(0,ll.hasBatchIndex)(u)){l(u);return}u.batchRequestIdx===c?l(u):(i||(i=u),a())})})}var _t=M("prisma:client");typeof globalThis=="object"&&(globalThis.NODE_CLIENT=!0);var Md={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},Dd=Symbol.for("prisma.client.transaction.id"),Nd={id:0,nextId(){return++this.id}};function fl(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=ei();constructor(n){if(!n)throw new w.PrismaClientInitializationError("`PrismaClient` needs to be constructed with a non-empty, valid `PrismaClientOptions`:\n\n```\nnew PrismaClient({\n  ...\n})\n```\n\nor\n\n```\nconstructor() {\n  super({ ... });\n}\n```\n          ",ii);e=n.__internal?.configOverride?.(e)??e,al(n,e);let i=new ml.EventEmitter().on("error",()=>{});this._extensions=_e.empty(),this._previewFeatures=e.previewFeatures,this._clientVersion=e.clientVersion??ii,this._activeProvider=e.activeProvider,this._globalOmit=n?.omit,this._tracingHelper=Ga();let o;if(n.adapter){o=n.adapter;let s=e.activeProvider==="postgresql"||e.activeProvider==="cockroachdb"?"postgres":e.activeProvider;if(o.provider!==s)throw new w.PrismaClientInitializationError(`The Driver Adapter \`${o.adapterName}\`, based on \`${o.provider}\`, is not compatible with the provider \`${s}\` specified in the Prisma schema.`,this._clientVersion)}try{let s=n??{},l=(s.__internal??{}).debug===!0;if(l&&M.enable("prisma:client"),s.errorFormat?this._errorFormat=s.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless",this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={enableDebugLogs:l,logLevel:s.log&&za(s.log),logQueries:s.log&&!!(typeof s.log=="string"?s.log==="query":s.log.find(c=>typeof c=="string"?c==="query":c.level==="query")),compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:s.transactionOptions?.maxWait??2e3,timeout:s.transactionOptions?.timeout??5e3,isolationLevel:s.transactionOptions?.isolationLevel},logEmitter:i,adapter:o,accelerateUrl:s.accelerateUrl,sqlCommenters:s.comments},this._accelerateEngineConfig=Object.create(this._engineConfig),this._accelerateEngineConfig.accelerateUtils={resolveDatasourceUrl:()=>{if(s.accelerateUrl)return s.accelerateUrl;throw new w.PrismaClientInitializationError(`\`accelerateUrl\` is required when using \`@prisma/extension-accelerate\`:

new PrismaClient({
  accelerateUrl: "prisma://...",
}).$extends(withAccelerate())
`,e.clientVersion)}},_t("clientVersion",e.clientVersion),this._engine=Fa(this._engineConfig),this._requestHandler=new qr(this,i),s.log)for(let c of s.log){let u=typeof c=="string"?c:c.emit==="stdout"?c.level:null;u&&this.$on(u,p=>{ot.log(`${ot.tags[u]??""}`,p.message||p.query)})}}catch(s){throw s.clientVersion=this._clientVersion,s}return this._appliedParent=ht(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(n,i){return n==="beforeExit"?this._engine.onBeforeExit(i):n&&this._engineConfig.logEmitter.on(n,i),this}$connect(){try{return this._engine.start()}catch(n){throw n.clientVersion=this._clientVersion,n}}async $disconnect(){try{await this._engine.stop()}catch(n){throw n.clientVersion=this._clientVersion,n}finally{bi()}}$executeRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"executeRaw",args:o,transaction:n,clientMethod:i,argsMapper:Xn({clientMethod:i,activeProvider:a}),callsite:ae(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$executeRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0){let[s,a]=ul(n,i);return Yn(this._activeProvider,s.text,s.values,Array.isArray(n)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(o,"$executeRaw",s,a)}throw new w.PrismaClientValidationError("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(n,...i){return this._createPrismaPromise(o=>(Yn(this._activeProvider,n,i,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(o,"$executeRawUnsafe",[n,...i])))}$runCommandRaw(n){if(e.activeProvider!=="mongodb")throw new w.PrismaClientValidationError(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(i=>this._request({args:n,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:Ma,callsite:ae(this._errorFormat),transaction:i}))}async $queryRawInternal(n,i,o,s){let a=this._activeProvider;return this._request({action:"queryRaw",args:o,transaction:n,clientMethod:i,argsMapper:Xn({clientMethod:i,activeProvider:a}),callsite:ae(this._errorFormat),dataPath:[],middlewareArgsMapper:s})}$queryRaw(n,...i){return this._createPrismaPromise(o=>{if(n.raw!==void 0||n.sql!==void 0)return this.$queryRawInternal(o,"$queryRaw",...ul(n,i));throw new w.PrismaClientValidationError("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(n){return this._createPrismaPromise(i=>{if(!this._hasPreviewFlag("typedSql"))throw new w.PrismaClientValidationError("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(i,"$queryRawTyped",n)})}$queryRawUnsafe(n,...i){return this._createPrismaPromise(o=>this.$queryRawInternal(o,"$queryRawUnsafe",[n,...i]))}_transactionWithArray({promises:n,options:i}){let o=Nd.nextId(),s=Ka(n.length),a=n.map((l,c)=>{if(l?.[Symbol.toStringTag]!=="PrismaPromise")throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let u=i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,p={kind:"batch",id:o,index:c,isolationLevel:u,lock:s};return l.requestTransaction?.(p)??l});return cl(a)}async _transactionWithCallback({callback:n,options:i}){let o={traceparent:this._tracingHelper.getTraceParent()},s={maxWait:i?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:i?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:i?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",o,s),l;try{let c={kind:"itx",...a};l=await n(this._createItxClient(c)),await this._engine.transaction("commit",o,a)}catch(c){throw await this._engine.transaction("rollback",o,a).catch(()=>{}),c}return l}_createItxClient(n){return Q(ht(Q(Oo(this),[N("_appliedParent",()=>this._appliedParent._createItxClient(n)),N("_createPrismaPromise",()=>ei(n)),N(Dd,()=>n.id)])),[Le(No)])}$transaction(n,i){let o;typeof n=="function"?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?o=()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:o=()=>this._transactionWithCallback({callback:n,options:i}):o=()=>this._transactionWithArray({promises:n,options:i});let s={name:"transaction",attributes:{method:"$transaction"}};return this._tracingHelper.runInChildSpan(s,o)}_request(n){n.otelParentCtx=this._tracingHelper.getActiveContext();let i=n.middlewareArgsMapper??Md,o={args:i.requestArgsToMiddlewareArgs(n.args),dataPath:n.dataPath,runInTransaction:!!n.transaction,action:n.action,model:n.model},s={operation:{name:"operation",attributes:{method:o.action,model:o.model,name:o.model?`${o.model}.${o.action}`:o.action}}},a=async l=>{let{runInTransaction:c,args:u,...p}=l,y={...n,...p};u&&(y.args=i.middlewareArgsToRequestArgs(u)),n.transaction!==void 0&&c===!1&&delete y.transaction;let h=await qo(this,y);return y.model?Do({result:h,modelName:y.model,args:y.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):h};return this._tracingHelper.runInChildSpan(s.operation,()=>new dl.AsyncResource("prisma-client-request").runInAsyncScope(()=>a(o)))}async _executeRequest({args:n,clientMethod:i,dataPath:o,callsite:s,action:a,model:l,argsMapper:c,transaction:u,unpacker:p,otelParentCtx:y,customDataProxyFetch:h}){try{n=c?c(n):n;let g={name:"serialize"},E=this._tracingHelper.runInChildSpan(g,()=>or({modelName:l,runtimeDataModel:this._runtimeDataModel,action:a,args:n,clientMethod:i,callsite:s,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return M.enabled("prisma:client")&&(_t("Prisma Client call:"),_t(`prisma.${i}(${xo(n)})`),_t("Generated request:"),_t(JSON.stringify(E,null,2)+`
`)),u?.kind==="batch"&&await u.lock,this._requestHandler.request({protocolQuery:E,modelName:l,action:a,clientMethod:i,dataPath:o,callsite:s,args:n,extensions:this._extensions,transaction:u,unpacker:p,otelParentCtx:y,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:h})}catch(g){throw g.clientVersion=this._clientVersion,g}}_hasPreviewFlag(n){return!!this._engineConfig.previewFeatures?.includes(n)}$extends=Io}return t}function ul(e,t){return _d(e)?[new pl.Sql(e,t),ja]:[e,Ba]}function _d(e){return Array.isArray(e)&&Array.isArray(e.raw)}var Ld=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function gl(e){return new Proxy(e,{get(t,r){if(r in t)return t[r];if(!Ld.has(r))throw new TypeError(`Invalid enum value: ${String(r)}`)}})}var $d=()=>globalThis.process?.release?.name==="node",qd=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,Vd=()=>!!globalThis.Deno,Ud=()=>typeof globalThis.Netlify=="object",jd=()=>typeof globalThis.EdgeRuntime=="object",Bd=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers";function Qd(){return[[Ud,"netlify"],[jd,"edge-light"],[Bd,"workerd"],[Vd,"deno"],[qd,"bun"],[$d,"node"]].flatMap(r=>r[0]()?[r[1]]:[]).at(0)??""}var Hd={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function yl(){let e=Qd();return{id:e,prettyName:Hd[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}var w=require("@prisma/client-runtime-utils"),Z=require("@prisma/client-runtime-utils"),D=require("@prisma/client-runtime-utils"),hl=require("@prisma/client-runtime-utils");0&&(module.exports={AnyNull,DMMF,DbNull,Debug,Decimal,Extensions,JsonNull,NullTypes,ObjectEnumValue,PrismaClientInitializationError,PrismaClientKnownRequestError,PrismaClientRustPanicError,PrismaClientUnknownRequestError,PrismaClientValidationError,Public,Sql,createParam,defineDmmfProperty,deserializeJsonResponse,deserializeRawResult,dmmfToRuntimeDataModel,empty,getPrismaClient,getRuntime,isAnyNull,isDbNull,isJsonNull,join,makeStrictEnum,makeTypedQueryFactory,raw,serializeJsonQuery,skip,sqltag,warnOnce});
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=client.js.map
