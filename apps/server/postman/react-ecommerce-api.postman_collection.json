{
  "info": {
    "name": "React Ecommerce API",
    "description": "Comprehensive GraphQL API collection for React Ecommerce platform",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "graphqlEndpoint",
      "value": "{{baseUrl}}/graphql",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "productId",
      "value": "",
      "type": "string"
    },
    {
      "key": "orderId",
      "value": "",
      "type": "string"
    },
    {
      "key": "cartId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register Customer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Should return access token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.register.accessToken).to.not.be.empty;",
                  "    pm.collectionVariables.set(\"accessToken\", jsonData.data.register.accessToken);",
                  "    pm.collectionVariables.set(\"userId\", jsonData.data.register.user.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation Register($input: RegisterInput!) {\n  register(input: $input) {\n    accessToken\n    user {\n      id\n      email\n      firstName\n      lastName\n      role\n    }\n  }\n}",
                "variables": "{\n  \"input\": {\n    \"email\": \"customer@example.com\",\n    \"password\": \"customer123\",\n    \"firstName\": \"Test\",\n    \"lastName\": \"Customer\"\n  }\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Should return access token\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.login.accessToken).to.not.be.empty;",
                  "    pm.collectionVariables.set(\"accessToken\", jsonData.data.login.accessToken);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation Login($input: LoginInput!) {\n  login(input: $input) {\n    accessToken\n    user {\n      id\n      email\n      role\n    }\n  }\n}",
                "variables": "{\n  \"input\": {\n    \"email\": \"customer@example.com\",\n    \"password\": \"customer123\"\n  }\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query Me {\n  me {\n    id\n    email\n    firstName\n    lastName\n    role\n    isActive\n    emailVerified\n  }\n}",
                "variables": ""
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "List Products",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Should return products array\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.products).to.be.an('array');",
                  "    if (jsonData.data.products.length > 0) {",
                  "        pm.collectionVariables.set(\"productId\", jsonData.data.products[0].id);",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query Products($skip: Int, $take: Int) {\n  products(skip: $skip, take: $take) {\n    id\n    name\n    slug\n    description\n    price\n    comparePrice\n    sku\n    status\n    stock\n    images {\n      id\n      url\n      isPrimary\n    }\n    categories {\n      category {\n        id\n        name\n        slug\n      }\n    }\n    tags {\n      tag {\n        id\n        name\n      }\n    }\n  }\n}",
                "variables": "{\n  \"skip\": 0,\n  \"take\": 10\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        },
        {
          "name": "Get Product by ID",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query Product($id: ID!) {\n  product(id: $id) {\n    id\n    name\n    description\n    price\n    images {\n      url\n      isPrimary\n    }\n    variants {\n      id\n      name\n      price\n      stock\n    }\n    reviews {\n      id\n      rating\n      title\n      comment\n      user {\n        firstName\n        lastName\n      }\n    }\n  }\n}",
                "variables": "{\n  \"id\": \"{{productId}}\"\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        },
        {
          "name": "Create Product (Admin)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation CreateProduct($input: CreateProductInput!) {\n  createProduct(input: $input) {\n    id\n    name\n    slug\n    price\n    sku\n  }\n}",
                "variables": "{\n  \"input\": {\n    \"name\": \"New Test Product\",\n    \"description\": \"Test product description\",\n    \"shortDesc\": \"Test product\",\n    \"price\": 99.99,\n    \"sku\": \"TEST-001\",\n    \"status\": \"ACTIVE\",\n    \"stock\": 100\n  }\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Cart",
      "item": [
        {
          "name": "Get Cart",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query Cart {\n  cart {\n    id\n    items {\n      id\n      quantity\n      product {\n        id\n        name\n        price\n        images {\n          url\n          isPrimary\n        }\n      }\n      variant {\n        id\n        name\n        price\n      }\n    }\n    subtotal\n    total\n    itemCount\n  }\n}",
                "variables": ""
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        },
        {
          "name": "Add to Cart",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation AddToCart($productId: ID!, $variantId: ID, $quantity: Int!) {\n  addToCart(productId: $productId, variantId: $variantId, quantity: $quantity) {\n    id\n    items {\n      id\n      quantity\n      product {\n        name\n        price\n      }\n    }\n    subtotal\n    itemCount\n  }\n}",
                "variables": "{\n  \"productId\": \"{{productId}}\",\n  \"variantId\": null,\n  \"quantity\": 2\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        },
        {
          "name": "Clear Cart",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation ClearCart {\n  clearCart {\n    id\n    items {\n      id\n    }\n    subtotal\n    itemCount\n  }\n}",
                "variables": ""
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "Create Order",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Should return order\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.createOrder.id).to.not.be.empty;",
                  "    pm.collectionVariables.set(\"orderId\", jsonData.data.createOrder.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation CreateOrder($input: CreateOrderInput!) {\n  createOrder(input: $input) {\n    id\n    orderNumber\n    status\n    subtotal\n    discountAmount\n    shippingCost\n    tax\n    total\n    items {\n      id\n      quantity\n      price\n      product {\n        name\n      }\n    }\n  }\n}",
                "variables": "{\n  \"input\": {\n    \"shippingAddressId\": \"address-id-here\",\n    \"billingAddressId\": \"address-id-here\",\n    \"discountCode\": \"SAVE10\"\n  }\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        },
        {
          "name": "Get Orders",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query Orders($skip: Int, $take: Int) {\n  orders(skip: $skip, take: $take) {\n    id\n    orderNumber\n    status\n    total\n    createdAt\n    payments {\n      status\n      method\n      amount\n    }\n    shipments {\n      status\n      trackingNumber\n    }\n  }\n}",
                "variables": "{\n  \"skip\": 0,\n  \"take\": 10\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Discounts",
      "item": [
        {
          "name": "Validate Discount Code",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query ValidateDiscountCode($code: String!, $subtotal: Float!) {\n  validateDiscountCode(code: $code, subtotal: $subtotal) {\n    valid\n    discountAmount\n    error\n  }\n}",
                "variables": "{\n  \"code\": \"SAVE10\",\n  \"subtotal\": 100\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Reviews",
      "item": [
        {
          "name": "Get Product Reviews",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query Reviews($productId: ID!, $skip: Int, $take: Int) {\n  reviews(productId: $productId, skip: $skip, take: $take) {\n    id\n    rating\n    title\n    comment\n    helpfulCount\n    adminResponse\n    respondedAt\n    user {\n      firstName\n      lastName\n      avatar\n    }\n    createdAt\n  }\n}",
                "variables": "{\n  \"productId\": \"{{productId}}\",\n  \"skip\": 0,\n  \"take\": 10\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        },
        {
          "name": "Create Review",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{accessToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "mutation CreateReview($input: CreateReviewInput!) {\n  createReview(input: $input) {\n    id\n    rating\n    title\n    comment\n    status\n  }\n}",
                "variables": "{\n  \"input\": {\n    \"productId\": \"{{productId}}\",\n    \"rating\": 5,\n    \"title\": \"Excellent product!\",\n    \"comment\": \"This product exceeded my expectations.\"\n  }\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Shipments",
      "item": [
        {
          "name": "Track Shipment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query TrackShipment($trackingNumber: String!) {\n  trackShipment(trackingNumber: $trackingNumber) {\n    id\n    trackingNumber\n    carrier\n    status\n    shippedAt\n    deliveredAt\n    order {\n      orderNumber\n      status\n    }\n  }\n}",
                "variables": "{\n  \"trackingNumber\": \"TRK123456789\"\n}"
              }
            },
            "url": {
              "raw": "{{graphqlEndpoint}}",
              "host": ["{{graphqlEndpoint}}"]
            }
          }
        }
      ]
    }
  ]
}

